globalsboolean c=falseinteger array Jboolean array Kboolean l=trueboolean L=falseboolean m=falseboolean M=falseboolean P=falseboolean q=falseboolean Q=falseinteger S=0integer T=0integer array Uinteger array ov
integer array av
integer array bv
integer array dv
integer array ae
integer array qe
integer array Vx
image array gxreal array Gxinteger Px=0
trigger qx=nulltrigger ao=nullboolexpr no=null
boolexpr No=null
player bo=nullgroup co=nullunit array lointeger array Mo
boolean array so
boolean array Ar
integer array Yr
integer zr=0
gamecache Zr=nullplayer ji=nullplayer Ji=nullplayer ki=nullrect Ki=null
rect li=null
rect mi=null
rect Pi=null
rect si=null
rect ui=null
region oa=nullinteger ra=0
integer aa=0
group na=nullgroup Aa=nulltrigger Na=nullunit array w
string array Wstring array yinteger array Yinteger array zstring array Zstring vv=""
string ev=""
integer xv=0
integer array ba
integer rv=0
group array ivboolean Ba=false
timer nv=nullstring Vv=""
location Ev=null
location Xv=null
location Ov=null
location Rv=null
location Iv=null
unit Av=null
group Nv=nullgroup ha=nullunit Bv=null
integer array cv
integer array Cv
group Ha=nullleaderboard Dv=nulltimerdialog fv=nullstring array Fvplayer gv=nullboolean Gv=false
integer hv=0
integer Hv=0
location jv=null
integer Jv=0
location kv=null
real Kv=0string array lvstring Lv=""
string mv=""
string Mv=""
string pv=""
string Pv=""
string array qvstring array Qvinteger array sv
string Sv=""
string tv=""
string Tv=""
string uv=""
string Uv=""
string wv=""
integer Wv=0
integer array yv
integer array Yv
integer array zv
integer Zv=0
integer ve=0
integer ee=0
integer xe=0
real oe=0location array regroup ie=nullboolean ne=false
boolean Ve=false
boolean Ee=false
boolean Xe=false
boolean Oe=false
integer Re=0
real Ie=0integer Ae=0
string Ne=""
string be=""
string Be=""
string ce=""
string Ce=""
string de=""
integer De=0
integer fe=0
integer array Fe
integer ge=0
string Ge=""
string he=""
string He=""
real je=0real Je=0string ke=""
string Ke=""
string le=""
string array Lemultiboard me=nullinteger Me=0
string pe=""
string Pe=""
integer Jn=0
string Qe=""
boolean se=false
boolean Se=false
boolean te=false
boolean Te=false
location ue=null
location Ue=null
location We=null
location ye=null
location Ye=null
location ze=null
location Ze=null
location vx=null
group ex=nullinteger array ox
location rx=null
location ix=null
integer ax=0
integer nx=0
location nV=null
location VV=null
group Ex=nullboolean Xx=false
player Ox=nullplayer Rx=nullplayer Ix=nullplayer Ax=nullinteger array Nx
integer bx=0
boolean Bx=false
integer cx=0
force Cx=nullforce Dx=nullmultiboard fx=nullstring Fx=""
group EV=nullgroup array XVboolean array hx
group Hx=nullgroup array jxplayer array Jxboolean kx=false
string Kx=""
boolean lx=false
boolean Lx=false
boolean mx=false
timer Mx=nulltimerdialog px=nullgroup array kVboolean SV=false
boolean Qx=false
boolean sx=false
integer Sx=0
integer tx=0
integer Tx=0
integer ux=0
player array Uxplayer array wxlocation array Wxboolean yx=false
group Yx=nullboolean zx=false
boolean Zx=false
integer vo=0
string eo=""
integer array xo
integer array oo
integer array ro
string array iointeger JE=0
integer LE=0
player Vo=nullstring array Eointeger array Xo
string Oo=""
boolean Ro=false
integer Io=0
real Ao=0group vX=nullgroup AX=nulllocation array Boboolean Co=false
boolean do=false
boolean Do=false
integer fo=0
integer Fo=0
boolean go=false
group Go=nullgroup ho=nullboolean array Ho
boolean array jo
boolean array Jo
boolean array ko
boolean array Ko
texttag array BX
integer array Lo
integer array mo
integer array gX
boolean po=false
integer array Po
integer array qo
integer array Qo
integer array GX
boolean array So
integer array to
integer array To
integer array uo
integer array Uo
integer array wo
integer array Wo
integer array yo
integer Yo=0
boolean zo=false
integer Zo=0
boolean array vr
boolean er=false
boolean xr=false
integer array rr
boolean array ir
timer ar=nullboolean nr=false
boolean Vr=false
location Er=null
texttag Xr=nulltexttag Rr=nullinteger array Ir
boolean pX=false
integer Nr=0
boolean br=trueinteger Br=0
string cr=""
boolean Cr=false
group dr=nullboolean Dr=false
string array frboolean array Fr
real gr=0integer Gr=0
unit array hrinteger array Hr
integer jr=0
real array Jrboolean kr=false
integer Kr=0
boolean lr=false
boolean Lr=false
integer array mr
integer array Mr
integer pr=0
integer Pr=0
integer qr=0
integer Qr=0
player sr=nullplayer Sr=nullgroup tr=nullinteger array Tr
boolean ur=false
boolean Ur=false
location wr=null
location Wr=null
integer yr=0
boolean PX=false
group qX=nullgroup QX=nulllocation array viinteger ei=0
integer xi=0
group oi=nullgroup ri=nullstring ii=""
fogmodifier array ai
fogmodifier array ni
fogmodifier array Vi
group Ei=nullinteger array Xi
integer Oi=0
dialog Ri=nullbutton array Iidialog Ai=nullbutton Ni=nullbutton bi=nullbutton Bi=nullinteger ci=0
integer Ci=0
integer di=0
timer Di=nullboolean fi=false
boolean array Fi
integer gi=0
integer Gi=0
integer hi=0
timer Hi=nullgroup array tXgroup array eOgroup nO=nullgroup AO=nullboolean NO=false
boolean Li=false
group Mi=nulltrigger pi=nullinteger array qi
integer Qi=0
integer bO=0
boolean array Si
integer array ti
integer array Ti
timer Ui=nullbutton wi=nullinteger Wi=0
integer array yi
integer array Yi
string array ziboolean Zi=false
timer va=nullboolean ea=false
integer array xa
rect BO=null
rect cO=null
rect ia=null
rect CO=null
rect lO=null
rect Va=null
rect Ea=null
rect Xa=null
rect Oa=null
rect Ra=null
rect Ia=null
rect qO=null
rect UO=null
rect zO=null
rect xR=null
rect ca=null
rect Ca=null
rect da=null
rect Da=null
rect fa=null
rect Fa=null
rect ga=null
rect Ga=null
rect rR=null
rect iR=null
rect ja=null
rect Ja=null
rect ka=null
rect Ka=null
rect la=null
rect La=null
rect ma=null
rect Ma=null
rect pa=null
rect Pa=null
rect qa=null
rect Qa=null
rect sa=null
rect Sa=null
rect ta=null
rect Ta=null
rect ua=null
rect Ua=null
rect wa=null
rect Wa=null
rect ya=null
rect Ya=null
rect za=null
rect Za=null
rect vn=null
rect en=null
rect xn=null
rect on=null
rect rn=null
rect in=null
rect an=null
rect nn=null
rect Vn=null
rect En=null
rect Xn=null
rect On=null
rect Rn=null
rect In=null
rect An=null
rect Nn=null
rect bn=null
rect Bn=null
rect cn=null
rect Cn=null
rect dn=null
rect Dn=null
rect fn=null
rect Fn=null
rect gn=null
rect Gn=null
rect hn=null
rect Hn=null
rect jn=null
rect kn=null
rect Kn=null
rect ln=null
rect Ln=null
rect mn=null
rect Mn=null
rect pn=null
rect Pn=null
rect qn=null
rect Qn=null
rect sn=null
camerasetup Sn=nullcamerasetup tn=nullcamerasetup Tn=nullcamerasetup un=nullcamerasetup Un=nullsound wn=nullsound Wn=nullstring yn="Sound\\Music\\mp3Music\\HeroicVictory.mp3"sound Yn=nullsound zn=nullsound Zn=nullsound vV=nullsound eV=nullstring xV="Sound\\Music\\mp3Music\\PursuitTheme.mp3"
string oV="Sound\\Music\\mp3Music\\Credits.mp3"sound rV=nullstring iV="Sound\\Music\\mp3Music\\OrcVictory.mp3"trigger aV=nulltrigger OV=nulltrigger RV=nulltrigger IV=nulltrigger AV=nulltrigger NV=nulltrigger bV=nulltrigger BV=nulltrigger cV=nulltrigger CV=nulltrigger dV=nulltrigger DV=nulltrigger fV=nulltrigger FV=nulltrigger gV=nulltrigger GV=nulltrigger hV=nulltrigger HV=nulltrigger jV=nulltrigger JV=nulltrigger KV=nulltrigger lV=nulltrigger LV=nulltrigger mV=nulltrigger MV=nulltrigger pV=nulltrigger PV=nulltrigger qV=nulltrigger QV=nulltrigger sV=nulltrigger tV=nulltrigger TV=nulltrigger uV=nulltrigger UV=nulltrigger wV=nulltrigger WV=nulltrigger yV=nulltrigger YV=nulltrigger zV=nulltrigger ZV=nulltrigger vE=nulltrigger eE=nulltrigger xE=nulltrigger oE=nulltrigger rE=nulltrigger iE=nulltrigger aE=nulltrigger nE=nulltrigger VE=nulltrigger EE=nulltrigger XE=nulltrigger OE=nulltrigger RE=nulltrigger IE=nulltrigger AE=nulltrigger NE=nulltrigger bE=nulltrigger BE=nulltrigger cE=nulltrigger CE=nulltrigger dE=nulltrigger DE=nulltrigger fE=nulltrigger FE=nulltrigger gE=nulltrigger GE=nulltrigger hE=nulltrigger HE=nulltrigger jE=nulltrigger kE=nulltrigger KE=nulltrigger lE=nulltrigger mE=nulltrigger ME=nulltrigger pE=nulltrigger PE=nulltrigger qE=nulltrigger QE=nulltrigger sE=nulltrigger SE=nulltrigger tE=nulltrigger TE=nulltrigger uE=nulltrigger UE=nulltrigger wE=nulltrigger WE=nulltrigger yE=nulltrigger YE=nulltrigger zE=nulltrigger ZE=nulltrigger eX=nulltrigger xX=nulltrigger oX=nulltrigger rX=nulltrigger iX=nulltrigger aX=nulltrigger nX=nulltrigger VX=nulltrigger EX=nulltrigger XX=nulltrigger OX=nulltrigger RX=nulltrigger IX=nulltrigger NX=nulltrigger bX=nulltrigger cX=nulltrigger CX=nulltrigger dX=nulltrigger DX=nulltrigger fX=nulltrigger FX=nulltrigger hX=nulltrigger HX=nulltrigger jX=nulltrigger JX=nulltrigger kX=nulltrigger KX=nulltrigger lX=nulltrigger LX=nulltrigger mX=nulltrigger MX=nulltrigger sX=nulltrigger SX=nulltrigger TX=nulltrigger uX=nulltrigger UX=nulltrigger wX=nulltrigger WX=nulltrigger yX=nulltrigger YX=nulltrigger zX=nulltrigger vO=nulltrigger xO=nulltrigger oO=nulltrigger rO=nulltrigger iO=nulltrigger aO=nulltrigger VO=nulltrigger EO=nulltrigger XO=nulltrigger OO=nulltrigger RO=nulltrigger IO=nulltrigger dO=nulltrigger DO=nulltrigger fO=nulltrigger FO=nulltrigger gO=nulltrigger GO=nulltrigger hO=nulltrigger HO=nulltrigger jO=nulltrigger JO=nulltrigger kO=nulltrigger KO=nulltrigger LO=nulltrigger JR=nulltrigger mO=nulltrigger MO=nulltrigger pO=nulltrigger PO=nulltrigger QO=nulltrigger sO=nulltrigger SO=nulltrigger tO=nulltrigger TO=nulltrigger uO=nulltrigger wO=nulltrigger WO=nulltrigger yO=nulltrigger YO=nulltrigger ZO=nulltrigger vR=nulltrigger eR=nulltrigger oR=nulltrigger aR=nulltrigger nR=nulltrigger VR=nulltrigger ER=nulltrigger XR=nulltrigger OR=nulltrigger RR=nulltrigger IR=nulltrigger AR=nulltrigger NR=nulltrigger bR=nulltrigger BR=nulltrigger cR=nulltrigger CR=nulltrigger dR=nulltrigger DR=nulltrigger fR=nulltrigger FR=nulltrigger gR=nulltrigger GR=nulltrigger hR=nulltrigger HR=nulltrigger jR=nulltrigger kR=nulltrigger KR=nulltrigger lR=nulltrigger LR=nulltrigger mR=nulltrigger MR=nulltrigger pR=nulltrigger PR=nulltrigger qR=nulltrigger QR=nulltrigger sR=nulltrigger SR=nulltrigger tR=nulltrigger TR=nulltrigger uR=nulltrigger UR=nulltrigger wR=nulltrigger WR=nulltrigger yR=nulltrigger YR=nulltrigger zR=nulltrigger ZR=nulltrigger vI=nulltrigger eI=nulltrigger xI=nulltrigger oI=nulltrigger rI=nulltrigger iI=nulltrigger aI=nulltrigger nI=nulltrigger VI=nulltrigger EI=nulltrigger XI=nulltrigger OI=nulltrigger RI=nulltrigger II=nulltrigger AI=nulltrigger NI=nulltrigger bI=nulltrigger BI=nulltrigger cI=nulltrigger CI=nulltrigger dI=nulltrigger DI=nulltrigger fI=nulltrigger FI=nulltrigger gI=nulltrigger GI=nulltrigger hI=nulltrigger HI=nulltrigger jI=nulltrigger JI=nulltrigger kI=nulltrigger KI=nulltrigger lI=nulltrigger LI=nulltrigger mI=nulltrigger MI=nulltrigger pI=nulltrigger PI=nulltrigger qI=nulltrigger QI=nulltrigger sI=nulltrigger SI=nulltrigger tI=nulltrigger TI=nulltrigger uI=nulltrigger UI=nulltrigger wI=nulltrigger WI=nulltrigger yI=nulltrigger YI=nullunit zI=null
unit ZI=null
unit vA=null
unit eA=null
unit xA=null
unit oA=null
unit rA=null
unit iA=null
unit aA=null
unit nA=null
unit VA=null
unit EA=null
unit XA=null
unit OA=null
unit RA=null
unit IA=null
unit AA=null
unit NA=null
unit bA=null
unit BA=null
unit cA=null
unit CA=null
unit dA=null
unit DA=null
unit fA=null
unit FA=null
unit gA=null
destructable GA=null
destructable hA=null
destructable HA=null
destructable jA=null
destructable JA=null
destructable kA=null
destructable KA=null
destructable lA=null
destructable LA=null
destructable mA=null
destructable MA=null
destructable pA=null
destructable PA=null
destructable qA=null
destructable QA=null
destructable sA=null
timer SA=nullreal TA=.0real uA=.0group UA=nullforce wA=nullboolexpr WA=null
endglobalsfunction YA takes real zA returns nothinglocal real ZAlocal real st=TimerGetElapsed(SA)if st<=0 thenset SA=CreateTimer()
call TimerStart(SA,$F4240,false,null)endifif(zA>0)then
loop
set ZA=zA-TimerGetElapsed(SA)+st
exitwhen ZA<=0if(ZA>bj_POLLED_WAIT_SKIP_THRESHOLD)then
call TriggerSleepAction(.1*ZA)else
call TriggerSleepAction(bj_POLLED_WAIT_INTERVAL)
endifendloopendifendfunctionfunction vN takes location eN,real xN,real oN returns locationreturn Location(GetLocationX(eN)+xN*Cos(oN*bj_DEGTORAD),GetLocationY(eN)+xN*Sin(oN*bj_DEGTORAD))
endfunctionfunction rN takes nothing returns booleanlocal real dx=GetDestructableX(GetFilterDestructable())-TAlocal real dy=GetDestructableY(GetFilterDestructable())-uAreturn(dx*dx+dy*dy<=bj_enumDestructableRadius)endfunctionfunction iN takes rect r,boolexpr aN returns groupset UA=CreateGroup()
call GroupEnumUnitsInRect(UA,r,aN)call DestroyBoolExpr(aN)
return UAendfunctionfunction nN takes rect r returns groupset UA=CreateGroup()
call GroupEnumUnitsInRect(UA,r,WA)return UAendfunctionfunction VN takes rect r,player EN returns group
set UA=CreateGroup()
set bj_groupEnumOwningPlayer=ENcall GroupEnumUnitsInRect(UA,r,filterGetUnitsInRectOfPlayer)
return UAendfunctionfunction XN takes real ON,location RN,boolexpr aN returns groupset UA=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(UA,RN,ON,aN)
return UAendfunctionfunction Jb takes nothing returns booleanlocal real mb=GetUnitX(GetFilterUnit())if(not IsUnitInRegion(oa,GetFilterUnit()))and(((ra==0)and(mb<-630))or((ra==1)and(mb>630)))thenreturn trueelse
return false
endifendfunctionfunction IN takes real ON,location RN returns groupset UA=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(UA,RN,ON,no)
return UAendfunctionfunction AN takes integer NN returns groupset UA=CreateGroup()
call GroupEnumUnitsOfType(UA,UnitId2String(NN),WA)return UAendfunctionfunction bN takes player EN,boolexpr aN returns groupset UA=CreateGroup()
call GroupEnumUnitsOfPlayer(UA,EN,aN)call DestroyBoolExpr(aN)
return UAendfunctionfunction BN takes player EN returns groupset UA=CreateGroup()
call GroupEnumUnitsOfPlayer(UA,EN,WA)return UAendfunctionfunction cN takes player EN,integer NN returns group
set UA=CreateGroup()
set bj_groupEnumTypeId=NNcall GroupEnumUnitsOfPlayer(UA,EN,filterGetUnitsOfPlayerAndTypeId)return UAendfunctionfunction CN takes player EN returns forceset wA=CreateForce()
call ForceAddPlayer(wA,EN)return wAendfunctionfunction dN takes player EN returns forceset wA=CreateForce()
call ForceEnumAllies(wA,EN,WA)return wAendfunctionfunction DN takes player EN returns forceset wA=CreateForce()
call ForceEnumEnemies(wA,EN,WA)return wAendfunctionfunction fN takes boolexpr aN returns forceset wA=CreateForce()
call ForceEnumPlayers(wA,aN)
call DestroyBoolExpr(aN)
return wAendfunctionfunction FN takes itemtype gN,integer GN returns nothing
local group gset bj_stockPickedItemType=gNset bj_stockPickedItemLevel=GNset g=CreateGroup()call GroupEnumUnitsOfType(g,"marketplace",WA)call ForGroup(g,function UpdateEachStockBuildingEnum)call DestroyGroup(g)
set g=nullendfunctionfunction hN takes nothing returns nothinglocal integer pickedItemIdlocal itemtype HNlocal integer jN=0local integer JN=0local integer GN
set GN=1
loop
if(bj_stockAllowedPermanent[GN])then
set JN=JN+1if(GetRandomInt(1,JN)==1)thenset HN=ITEM_TYPE_PERMANENTset jN=GNendifendifif(bj_stockAllowedCharged[GN])thenset JN=JN+1if(GetRandomInt(1,JN)==1)thenset HN=ITEM_TYPE_CHARGED
set jN=GNendifendifif(bj_stockAllowedArtifact[GN])thenset JN=JN+1if(GetRandomInt(1,JN)==1)thenset HN=ITEM_TYPE_ARTIFACTset jN=GNendifendifset GN=GN+1exitwhen GN>$Aendloopif(JN==0)thenset HN=nullreturnendifcall FN(HN,jN)set HN=nullendfunctionfunction kN takes nothing returns nothingcall hN()call TimerStart(bj_stockUpdateTimer,bj_STOCK_RESTOCK_INTERVAL,true,function hN)endfunctionfunction lN takes nothing returns booleanreturn trueendfunctionfunction Mb takes player pb returns booleanreturn(GetPlayerSlotState(pb)==PLAYER_SLOT_STATE_PLAYING)and(GetPlayerController(pb)==MAP_CONTROL_USER)endfunctionfunction Pb takes nothing returns nothinglocal player array qblocal integer Qb=0local integer sb=0loop
if Mb(Player(sb))thenset qb[Qb]=Player(sb)set Qb=Qb+1endifset sb=sb+1exitwhen sb>7endloopif Qb==0 thenset ji=nullset Ji=nullelseif Qb==1 thenset ji=qb[0]
set Ji=nullelse
set Qb=Qb-1set sb=GetRandomInt(0,Qb)set ji=qb[sb]set qb[sb]=qb[Qb]set Qb=Qb-1set sb=GetRandomInt(0,Qb)set Ji=qb[sb]endifendfunctionfunction Sb takes integer Tb returns nothing
call StoreInteger(Zr,"EOG","Win1",Tb)call StoreInteger(Zr,"EOG","Win2",Tb)if ji==null or Ji==null or Mb(ji)==false or Mb(Ji)==false thencall Pb()endifif ji==ki thencall SyncStoredInteger(Zr,"EOG","Win1")endifif Ji==ki thencall SyncStoredInteger(Zr,"EOG","Win2")endifendfunctionfunction ub takes integer Wb returns integer
local integer Yb=1loop
exitwhen Wb<=0set Yb=Yb*2set Wb=Wb-1endloopreturn Ybendfunctionfunction ob takes nothing returns nothinglocal player p=Player($F)local unit u
local integer vB
local trigger tlocal real lifeset u=CreateUnit(p,'h0AV',3238.4,2403.2,220.305)
set u=CreateUnit(p,'h0AW',3443.7,2398.5,190.179)
set u=CreateUnit(p,'h0A7',3573.3,2396.1,266.899)
set u=CreateUnit(p,'h025',3314.5,2405.6,56.834)set u=CreateUnit(p,'h09K',3317.5,2365.6,226.193)
set u=CreateUnit(p,'h02A',3673.6,2405.6,188.619)
set u=CreateUnit(p,'h0BT',3370.,2368.,337.554)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h0BT',3236.6,2320.1,287.499)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h0BZ',3324.1,2302.3,137.19)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h029',3425.5,2292.4,44.342)set u=CreateUnit(p,'h0AG',3495.2,2302.3,212.493)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h08K',3548.9,2296.8,4.757)set u=CreateUnit(p,'h080',3669.6,2306.7,302.617)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h03L',3727.9,2356.4,151.957)
set u=CreateUnit(p,'h03X',3782.5,2400.9,71.952)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h02X',3805.8,2273.9,91.739)set u=CreateUnit(p,'h081',3745.2,2250.4,276.897)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h09V',3670.7,2238.2,290.575)
set u=CreateUnit(p,'h03G',3604.7,2245.2,318.899)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h0AD',3524.7,2229.9,80.95)set u=CreateUnit(p,'h02M',3462.5,2199.7,268.371)
set u=CreateUnit(p,'h02L',3384.9,2195.7,172.699)
set u=CreateUnit(p,'h04J',3317.1,2212.,261.483)set u=CreateUnit(p,'h02U',3249.9,2217.5,109.658)
set u=CreateUnit(p,'h02T',3255.,2145.2,314.482)set u=CreateUnit(p,'h09P',3347.9,2127.,169.03)set u=CreateUnit(p,'h02Y',3420.7,2141.3,80.247)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h03H',3502.4,2119.3,77.214)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h072',3583.7,2158.3,103.132)
set u=CreateUnit(p,'h07K',3671.8,2150.4,210.032)
set u=CreateUnit(p,'h08B',3750.9,2197.,104.384)set u=CreateUnit(p,'h073',3800.1,2123.2,315.954)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h091',3816.5,2046.9,279.819)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h04I',3716.4,2050.6,226.776)
set u=CreateUnit(p,'h077',3648.3,2065.3,265.009)
set u=CreateUnit(p,'h06W',3558.6,2051.8,65.953)set u=CreateUnit(p,'h03K',3460.7,2045.7,11.228)set u=CreateUnit(p,'h08G',3398.3,2055.5,59.449)set u=CreateUnit(p,'h02N',3339.1,2026.4,316.196)
set u=CreateUnit(p,'h02O',3242.4,2021.6,248.112)
set u=CreateUnit(p,'h0AY',3234.6,1966.7,169.25)set u=CreateUnit(p,'h09F',3289.2,1947.3,183.181)
set u=CreateUnit(p,'h00L',3397.6,1989.8,141.365)
set u=CreateUnit(p,'h0BY',3454.2,1980.5,154.429)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h06X',3544.8,1960.9,201.561)
set u=CreateUnit(p,'h06Y',3633.3,1956.4,317.383)
set u=CreateUnit(p,'h07Z',3719.5,1975.9,116.843)
set u=CreateUnit(p,'h088',3805.4,1975.9,201.386)
set u=CreateUnit(p,'h028',3225.6,1901.8,113.558)
set u=CreateUnit(p,'h094',3305.8,1894.4,200.155)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h03Z',3389.2,1895.7,230.533)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h0CD',3459.2,1890.5,358.572)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h04D',3510.7,1886.6,217.712)
set u=CreateUnit(p,'h06Z',3558.6,1890.5,127.654)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h04E',3615.7,1889.2,21.754)set u=CreateUnit(p,'h09Y',3698.1,1895.7,113.591)
set u=CreateUnit(p,'h08X',3762.,1893.1,26.291)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h0AP',3256.2,1743.1,262.285)
set u=CreateUnit(p,'h075',3354.6,1806.8,337.214)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h03A',3448.4,1814.2,99.924)set u=CreateUnit(p,'h084',3523.7,1822.9,45.979)set u=CreateUnit(p,'h03E',3594.,1816.7,262.823)set u=CreateUnit(p,'h09X',3667.,1804.4,.923)
set u=CreateUnit(p,'h02I',3754.4,1803.1,41.244)set u=CreateUnit(p,'h03D',3820.3,1893.1,260.637)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h06F',3822.5,1822.9,93.387)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h04K',3818.9,1728.,38.53)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h02F',3733.9,1728.,234.565)set u=CreateUnit(p,'h092',3609.9,1704.9,151.341)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h079',3524.1,1724.5,138.179)
set u=CreateUnit(p,'h082',3468.,1751.4,185.18)set u=CreateUnit(p,'h0C1',3389.8,1751.4,.264)set u=CreateUnit(p,'h09G',3374.4,1687.9,102.978)
set u=CreateUnit(p,'h03C',3243.8,1635.,191.245)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h0AI',3336.8,1558.4,114.778)
set u=CreateUnit(p,'h06C',3402.2,1613.5,281.577)
set u=CreateUnit(p,'h0AM',3468.5,1649.1,167.689)
set u=CreateUnit(p,'h0AN',3560.6,1637.1,302.474)
set u=CreateUnit(p,'h06U',3656.8,1617.8,36.443)set u=CreateUnit(p,'h036',3727.6,1589.3,104.89)set u=CreateUnit(p,'h03N',3796.8,1626.4,183.137)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h035',3829.8,1558.4,140.036)
set u=CreateUnit(p,'h0AK',3609.3,1608.2,338.367)
set u=CreateUnit(p,'h06A',3229.7,1588.3,146.727)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h09Z',3311.9,1610.4,13.986)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h087',3235.,1530.2,289.872)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h08A',3366.9,1520.1,279.314)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h02B',3433.2,1553.4,197.661)
set u=CreateUnit(p,'h085',3502.3,1546.2,342.311)
set u=CreateUnit(p,'h09D',3615.6,1519.,314.526)set u=CreateUnit(p,'h02J',3716.5,1493.4,52.483)set u=CreateUnit(p,'h03M',3825.5,1478.5,54.032)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h0A9',3251.,1457.,144.584)set u=CreateUnit(p,'h0AC',3404.8,1480.8,229.314)
set u=CreateUnit(p,'h070',3474.4,1450.3,117.48)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h030',3545.3,1447.,205.341)set u=CreateUnit(p,'h064',3609.3,1427.1,206.714)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h06G',3686.3,1431.5,170.172)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h086',3228.9,1353.3,299.617)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h04L',3326.1,1376.4,220.403)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h074',3424.3,1388.1,219.173)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h02E',3503.1,1390.7,137.333)
set u=CreateUnit(p,'h03F',3607.1,1373.8,113.338)
set u=CreateUnit(p,'h08O',3704.8,1376.4,57.867)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h04F',3753.6,1376.4,214.833)
set u=CreateUnit(p,'h071',3831.5,1382.9,27.082)set u=CreateUnit(p,'h0CA',3815.8,1303.4,16.414)set u=CreateUnit(p,'h06B',3727.3,1298.5,50.33)set u=CreateUnit(p,'h03I',3647.3,1293.6,161.438)
set u=CreateUnit(p,'h069',3551.3,1287.5,18.93)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h09Q',3464.3,1294.8,255.352)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h08R',3429.9,1289.9,145.408)
set u=CreateUnit(p,'h04C',3311.4,1307.1,161.878)
set u=CreateUnit(p,'h02C',3248.2,1281.4,240.96)set u=CreateUnit(p,'h02Z',3311.,1264.6,273.106)set u=CreateUnit(p,'h089',3272.5,1210.7,293.014)
set u=CreateUnit(p,'h08M',3373.,1219.9,114.855)set u=CreateUnit(p,'h03B',3491.4,1251.5,265.328)
set u=CreateUnit(p,'h066',3579.3,1232.7,166.602)
set u=CreateUnit(p,'h067',3707.9,1246.8,293.465)
set u=CreateUnit(p,'h068',3819.3,1245.6,95.134)set u=CreateUnit(p,'h02V',3797.1,1191.2,260.593)
set u=CreateUnit(p,'h061',3719.1,1168.7,71.292)set u=CreateUnit(p,'h0AS',3652.,1192.4,274.93)set u=CreateUnit(p,'h08W',3549.7,1166.5,149.243)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h0CB',3497.,1186.7,55.461)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h039',3249.7,1116.9,177.248)
set u=CreateUnit(p,'h038',3369.1,1140.7,220.612)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h034',3479.5,1100.,297.684)set u=CreateUnit(p,'h033',3622.5,1083.2,255.418)
set u=CreateUnit(p,'h06V',3714.3,1066.7,257.56)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h02S',3765.7,1076.8,54.538)set u=CreateUnit(p,'h02R',3824.1,1113.,326.414)set u=CreateUnit(p,'h065',3817.8,1046.5,266.877)
set u=CreateUnit(p,'h0C7',3269.1,1019.3,217.085)
set u=CreateUnit(p,'h063',3215.3,987.8,226.897)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h0C6',3405.,1054.1,214.734)set u=CreateUnit(p,'h037',3332.5,998.6,133.18)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h0C3',3438.3,981.8,80.84)set u=CreateUnit(p,'h02D',3506.7,990.2,80.972)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h0A2',3576.5,1040.3,5.241)set u=CreateUnit(p,'h09I',3726.,1143.4,311.703)set u=CreateUnit(p,'h06D',3636.,1285.9,38.354)set u=CreateUnit(p,'h08E',3442.2,1281.5,242.201)
set u=CreateUnit(p,'h02W',3575.5,1449.1,254.363)
set u=CreateUnit(p,'h04N',3347.8,1444.3,223.919)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h06E',3390.3,1300.6,338.565)
set u=CreateUnit(p,'h02P',3805.1,1493.4,129.906)
set u=CreateUnit(p,'h03J',3710.,1557.9,180.577)set u=CreateUnit(p,'h02H',3561.3,1147.4,165.141)
set u=CreateUnit(p,'h08T',3706.8,1116.9,270.327)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h02Q',3442.,1739.9,270.129)set u=CreateUnit(p,'h08J',3664.9,1786.5,241.992)
set u=CreateUnit(p,'h04M',3354.4,1619.4,8.943)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h083',3304.7,2051.6,6.196)set u=CreateUnit(p,'h031',3429.4,2069.2,12.492)set u=CreateUnit(p,'h02G',3563.7,2113.1,112.492)
set u=CreateUnit(p,'h032',3734.5,2055.,69.018)set u=CreateUnit(p,'h04H',3771.8,1957.4,255.693)
set u=CreateUnit(p,'h04G',3652.7,1972.2,227.039)
set u=CreateUnit(p,'h0BN',3515.4,1828.6,135.213)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'o001',3800.7,978.3,212.845)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'o002',3719.8,969.6,46.496)set u=CreateUnit(p,'n00J',3307.4,1763.5,109.01)set u=CreateUnit(p,'n00K',3647.6,938.8,160.153)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'n00P',3574.9,941.2,323.359)set u=CreateUnit(p,'n00E',3488.4,925.4,282.896)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'n00G',3398.4,915.8,252.287)set u=CreateUnit(p,'n00F',3297.6,900.3,235.345)set u=CreateUnit(p,'n00C',3236.2,895.6,199.001)set u=CreateUnit(p,'n00B',3817.1,906.3,187.883)set u=CreateUnit(p,'n00H',3723.,860.6,276.216)set u=CreateUnit(p,'n00I',3595.6,846.8,238.817)set u=CreateUnit(p,'n00D',3492.1,860.6,54.593)set u=CreateUnit(p,'h0AX',3225.9,808.9,276.381)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h07Y',3323.2,799.4,236.609)set u=CreateUnit(p,'n00N',3421.5,793.2,53.505)set u=CreateUnit(p,'n001',3565.9,791.6,.253)
set u=CreateUnit(p,'n00O',3655.2,788.5,253.067)set u=CreateUnit(p,'n004',3752.3,791.6,171.227)set u=CreateUnit(p,'n00M',3821.4,790.,103.736)set u=CreateUnit(p,'n00L',3262.9,723.9,210.087)set u=CreateUnit(p,'n00Q',3257.8,653.,320.668)set u=CreateUnit(p,'n00R',3379.,702.9,249.441)set u=CreateUnit(p,'n002',3485.6,692.5,172.579)set u=CreateUnit(p,'n003',3631.9,695.5,109.394)set u=CreateUnit(p,'u005',3741.4,669.,256.89)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h04O',3218.5,579.2,90.475)set u=CreateUnit(p,'h00E',3311.7,549.9,161.845)set u=CreateUnit(p,'h00A',3399.,559.,244.343)set u=CreateUnit(p,'h00C',3420.4,635.4,102.879)set u=CreateUnit(p,'h002',3487.7,577.4,212.691)set u=CreateUnit(p,'h03V',3612.6,582.9,84.663)set u=CreateUnit(p,'h009',3759.6,564.5,302.727)set u=CreateUnit(p,'h00G',3797.9,487.2,285.214)set u=CreateUnit(p,'h006',3532.3,654.5,127.116)set u=CreateUnit(p,'h04R',3221.5,499.6,220.37)set u=CreateUnit(p,'h00J',3330.9,459.2,353.716)set u=CreateUnit(p,'h00I',3267.3,557.2,148.869)set u=CreateUnit(p,'h03P',3265.6,440.2,237.828)set u=CreateUnit(p,'h05L',3496.5,457.5,208.285)set u=CreateUnit(p,'h03Y',3765.,362.7,90.354)set u=CreateUnit(p,'h03Q',3620.2,436.8,48.429)set u=CreateUnit(p,'h000',3411.4,367.6,51.626)set u=CreateUnit(p,'h03S',3248.7,384.3,199.935)set u=CreateUnit(p,'h003',3295.6,349.5,101.495)set u=CreateUnit(p,'h004',3545.6,354.4,194.288)set u=CreateUnit(p,'h005',3233.6,294.5,141.651)set u=CreateUnit(p,'h00H',3335.9,280.3,49.671)set u=CreateUnit(p,'h03U',3410.3,277.1,183.148)set u=CreateUnit(p,'h00D',3523.1,261.4,92.958)set u=CreateUnit(p,'h03R',3671.3,277.1,182.73)set u=CreateUnit(p,'h008',3213.4,210.5,37.948)set u=CreateUnit(p,'h04S',3296.6,205.9,235.609)set u=CreateUnit(p,'h04Q',3312.,323.4,254.902)set u=CreateUnit(p,'h04W',3594.9,285.,90.926)set u=CreateUnit(p,'h04X',3377.8,367.6,229.489)set u=CreateUnit(p,'h04Z',3529.6,198.3,40.837)set u=CreateUnit(p,'h050',3624.1,186.3,204.791)set u=CreateUnit(p,'h0BB',3729.3,204.4,293.959)set u=CreateUnit(p,'h054',3679.1,351.1,86.289)set u=CreateUnit(p,'h0B3',3483.4,329.9,75.226)set u=CreateUnit(p,'h053',3260.8,496.,188.52)set u=CreateUnit(p,'h0B2',3358.5,492.5,358.418)set u=CreateUnit(p,'h057',3559.4,508.5,86.487)set u=CreateUnit(p,'h0B6',3229.9,546.3,24.237)set u=CreateUnit(p,'h05M',3496.1,347.9,286.961)set u=CreateUnit(p,'h0B7',3582.6,252.,48.704)set u=CreateUnit(p,'h059',3390.9,166.9,212.01)set u=CreateUnit(p,'h0B8',3476.7,146.2,11.591)set u=CreateUnit(p,'h05A',3841.,227.3,25.885)set u=CreateUnit(p,'h0BR',3243.8,122.9,174.117)set u=CreateUnit(p,'h04P',3342.8,109.9,278.314)set u=CreateUnit(p,'h007',3417.6,75.7,140.486)set u=CreateUnit(p,'h03O',3696.8,46.3,143.178)set u=CreateUnit(p,'h03W',3520.8,-2.6,299.365)set u=CreateUnit(p,'h001',3355.7,1.6,342.026)set u=CreateUnit(p,'h03T',3243.1,-48.4,156.791)set u=CreateUnit(p,'h00F',3252.8,-129.2,268.119)
set u=CreateUnit(p,'h00B',3380.5,-99.3,299.112)set u=CreateUnit(p,'h04T',3469.1,-105.3,157.758)
set u=CreateUnit(p,'h04V',3618.1,-73.,131.73)set u=CreateUnit(p,'h04U',3807.7,-54.6,65.382)set u=CreateUnit(p,'h04Y',3589.5,-148.9,336.719)
set u=CreateUnit(p,'h051',3455.3,-160.6,240.059)
set u=CreateUnit(p,'h09E',3321.2,-156.7,325.304)
set u=CreateUnit(p,'h052',3227.8,-242.9,201.682)
set u=CreateUnit(p,'h0B1',3279.9,-241.,167.382)set u=CreateUnit(p,'h055',3373.7,-227.8,215.943)
set u=CreateUnit(p,'h056',3513.6,-231.6,46.935)call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'h05B',3786.2,-183.9,300.046)
set u=CreateUnit(p,'H05I',3765.7,-359.3,180.786)
set u=CreateUnit(p,'H05J',3578.2,-345.1,209.999)
set u=CreateUnit(p,'H05I',3398.4,-336.2,304.55)set u=CreateUnit(p,'H05K',3283.5,-373.4,217.701)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'u00K',3242.6,-557.3,52.714)set u=CreateUnit(p,'u001',3345.6,-562.1,169.294)
set u=CreateUnit(p,'u00H',3446.2,-573.2,255.583)
set u=CreateUnit(p,'u00C',3569.7,-554.1,255.066)
set u=CreateUnit(p,'u00L',3631.9,-490.8,80.082)set u=CreateUnit(p,'u00G',3732.7,-515.4,315.603)
set u=CreateUnit(p,'u00M',3810.4,-490.8,59.02)set u=CreateUnit(p,'u00I',3778.1,-615.3,246.892)
set u=CreateUnit(p,'u00J',3677.3,-609.1,.176)set u=CreateUnit(p,'u000',3209.3,-633.7,198.155)
set u=CreateUnit(p,'u00P',3336.7,-674.5,94.277)set u=CreateUnit(p,'u003',3465.,-682.,270.272)set u=CreateUnit(p,'u00U',3802.5,-702.7,226.468)
set u=CreateUnit(p,'u00O',3658.9,-717.4,288.795)
call SetUnitState(u,UNIT_STATE_MANA,0)set u=CreateUnit(p,'u00T',3193.7,-542.9,354.814)
set u=CreateUnit(p,'u002',3352.3,-730.4,108.482)
set u=CreateUnit(p,'h0CJ',3285.2,-647.6,117.338)
set u=CreateUnit(p,'h0CL',3550.6,-586.3,247.694)
set u=CreateUnit(p,'h0CE',3187.4,-46.2,.868)
set u=CreateUnit(p,'h0CG',3500.9,-462.5,33.894)set u=CreateUnit(p,'h0CM',3542.6,-722.1,195.409)
set u=CreateUnit(p,'h0CM',3739.7,-646.,325.667)set u=CreateUnit(p,'h0CN',3836.,-617.2,.989)
set u=CreateUnit(p,'h0CR',3796.7,-747.7,67.491)set u=CreateUnit(p,'h0CT',3740.,-773.,10.262)set u=CreateUnit(p,'h0CU',3629.4,-787.7,176.094)
set u=CreateUnit(p,'h0CX',3513.6,-792.1,302.045)
set u=CreateUnit(p,'h0CZ',3404.1,-797.9,228.391)
set u=CreateUnit(p,'h0D1',3281.9,-771.5,157.241)
set u=CreateUnit(p,'h0D3',3405.2,-394.8,15.942)endfunctionfunction rb takes nothing returns nothinglocal player plocal unit u
local integer vB
local trigger tlocal real lifeset p=Player(0)set u=CreateUnit(p,'h024',-4160.,4032.,270.)
set u=CreateUnit(p,'h05C',-4352.,3776.,270.)
set lo[0]=uset ZI=CreateUnit(p,'h023',-4672.,3712.,270.)set rA=CreateUnit(p,'h05D',-4352.,3648.,270.)set p=Player(1)set VA=CreateUnit(p,'h023',-4672.,128.,270.)
set xA=CreateUnit(p,'h05D',-4352.,64.,270.)set u=CreateUnit(p,'h05C',-4352.,192.,270.)set lo[1]=uset u=CreateUnit(p,'h024',-4160.,384.,270.)set p=Player(2)set u=CreateUnit(p,'h024',-2880.,4032.,270.)
set nA=CreateUnit(p,'h05D',-2304.,3648.,270.)set IA=CreateUnit(p,'h023',-2624.,3712.,270.)set u=CreateUnit(p,'h05C',-2304.,3776.,270.)
set lo[2]=uset p=Player(3)set XA=CreateUnit(p,'h023',-2624.,128.,270.)
set u=CreateUnit(p,'h024',-2880.,512.,270.)set fA=CreateUnit(p,'h05D',-2304.,64.,270.)set u=CreateUnit(p,'h05C',-2304.,192.,270.)set lo[3]=uset p=Player(4)set DA=CreateUnit(p,'h023',2368.,3712.,270.)
set NA=CreateUnit(p,'h05D',2688.,3648.,270.)
set u=CreateUnit(p,'h024',2880.,4096.,270.)set u=CreateUnit(p,'h05C',2688.,3776.,270.)set lo[4]=uset p=Player(5)set AA=CreateUnit(p,'h05D',2688.,64.,270.)set u=CreateUnit(p,'h05C',2688.,192.,270.)set lo[5]=uset FA=CreateUnit(p,'h023',2368.,128.,270.)set u=CreateUnit(p,'h024',2816.,448.,270.)set p=Player(6)set oA=CreateUnit(p,'h023',4416.,3712.,270.)
set eA=CreateUnit(p,'h05D',4736.,3648.,270.)
set u=CreateUnit(p,'h05C',4736.,3776.,270.)set lo[6]=uset u=CreateUnit(p,'h024',4160.,4096.,270.)set p=Player(7)set CA=CreateUnit(p,'h05D',4736.,64.,270.)set u=CreateUnit(p,'h05C',4736.,192.,270.)set lo[7]=uset dA=CreateUnit(p,'h023',4416.,128.,270.)set u=CreateUnit(p,'h024',4160.,448.,270.)set vA=CreateUnit(Player(8),'h00K',-3520.,-3264.,270.)set EA=CreateUnit(Player(9),'h00K',3520.,-3264.,270.)if L thenset vB=GetRandomInt(1,2)
if vB==1 thencall UnitAddAbility(vA,'S003')else
call UnitAddAbility(EA,'S003')endifendifendfunctionfunction ib takes nothing returns nothinglocal player plocal unit u
local integer vB
local trigger tlocal real lifeset p=Player(0)set OA=CreateUnit(p,'e003',-4659.5,3945.6,341.257)set p=Player(1)set aA=CreateUnit(p,'e003',-4670.5,361.4,162.086)set p=Player(2)set iA=CreateUnit(p,'e003',-2622.9,3955.4,278.68)set p=Player(3)set zI=CreateUnit(p,'e003',-2594.,365.8,253.61)set p=Player(4)set cA=CreateUnit(p,'e003',2372.6,3959.1,293.92)
set p=Player(5)set bA=CreateUnit(p,'e003',2367.6,360.1,223.11)set p=Player(6)set RA=CreateUnit(p,'e003',4434.9,3958.6,85.99)set p=Player(7)set BA=CreateUnit(p,'e003',4479.5,342.2,309.04)set p=Player(9)set u=CreateUnit(p,'u013',-293.5,-1447.4,298.892)endfunctionfunction ab takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer nb=sv[rv]local integer n=1local integer Vb=z[rv]local location p
local rect r
if(hi>=nb)thencall PauseTimer(t)set hi=0
returnendifif(Ve)thenset r=cO
set p=Location(GetRandomReal(GetRectMinX(r),GetRectMaxX(r)),GetRandomReal(GetRectMinY(r),GetRectMaxY(r)))set bj_lastCreatedUnit=CreateUnitAtLoc(Player($D),Vb,p,bj_UNIT_FACING)call SetUnitUserData(bj_lastCreatedUnit,1+16)call GroupAddUnit(EV,bj_lastCreatedUnit)
call GroupAddUnit(kV[1],bj_lastCreatedUnit)call GroupAddUnit(eO[1],bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,re[1])
call RemoveLocation(p)endifif(Ee)thenset r=lO
set p=Location(GetRandomReal(GetRectMinX(r),GetRectMaxX(r)),GetRandomReal(GetRectMinY(r),GetRectMaxY(r)))set bj_lastCreatedUnit=CreateUnitAtLoc(Player($D),Vb,p,bj_UNIT_FACING)call SetUnitUserData(bj_lastCreatedUnit,2+16)call GroupAddUnit(EV,bj_lastCreatedUnit)
call GroupAddUnit(kV[1],bj_lastCreatedUnit)call GroupAddUnit(eO[2],bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,re[2])
call RemoveLocation(p)endifif(Xe)thenset r=CO
set p=Location(GetRandomReal(GetRectMinX(r),GetRectMaxX(r)),GetRandomReal(GetRectMinY(r),GetRectMaxY(r)))set bj_lastCreatedUnit=CreateUnitAtLoc(Player($D),Vb,p,bj_UNIT_FACING)call SetUnitUserData(bj_lastCreatedUnit,3+32)call GroupAddUnit(EV,bj_lastCreatedUnit)
call GroupAddUnit(kV[1],bj_lastCreatedUnit)call GroupAddUnit(eO[3],bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,re[3])
call RemoveLocation(p)endifif(Oe)thenset r=BO
set p=Location(GetRandomReal(GetRectMinX(r),GetRectMaxX(r)),GetRandomReal(GetRectMinY(r),GetRectMaxY(r)))set bj_lastCreatedUnit=CreateUnitAtLoc(Player($D),Vb,p,bj_UNIT_FACING)call SetUnitUserData(bj_lastCreatedUnit,4+32)call GroupAddUnit(EV,bj_lastCreatedUnit)
call GroupAddUnit(kV[1],bj_lastCreatedUnit)call GroupAddUnit(eO[4],bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,re[4])
call RemoveLocation(p)endifif(se)thenset r=qO
set p=Location(GetRandomReal(GetRectMinX(r),GetRectMaxX(r)),GetRandomReal(GetRectMinY(r),GetRectMaxY(r)))set bj_lastCreatedUnit=CreateUnitAtLoc(Player($E),Vb,p,bj_UNIT_FACING)call SetUnitUserData(bj_lastCreatedUnit,5+16)call GroupAddUnit(EV,bj_lastCreatedUnit)
call GroupAddUnit(kV[2],bj_lastCreatedUnit)call GroupAddUnit(eO[5],bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,re[5])
call RemoveLocation(p)endifif(Se)thenset r=UO
set p=Location(GetRandomReal(GetRectMinX(r),GetRectMaxX(r)),GetRandomReal(GetRectMinY(r),GetRectMaxY(r)))set bj_lastCreatedUnit=CreateUnitAtLoc(Player($E),Vb,p,bj_UNIT_FACING)call SetUnitUserData(bj_lastCreatedUnit,6+16)call GroupAddUnit(EV,bj_lastCreatedUnit)
call GroupAddUnit(kV[2],bj_lastCreatedUnit)call GroupAddUnit(eO[6],bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,re[6])
call RemoveLocation(p)endifif(te)thenset r=zO
set p=Location(GetRandomReal(GetRectMinX(r),GetRectMaxX(r)),GetRandomReal(GetRectMinY(r),GetRectMaxY(r)))set bj_lastCreatedUnit=CreateUnitAtLoc(Player($E),Vb,p,bj_UNIT_FACING)call SetUnitUserData(bj_lastCreatedUnit,7+32)call GroupAddUnit(EV,bj_lastCreatedUnit)
call GroupAddUnit(kV[2],bj_lastCreatedUnit)call GroupAddUnit(eO[7],bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,re[7])
call RemoveLocation(p)endifif(Te)thenset r=xR
set p=Location(GetRandomReal(GetRectMinX(r),GetRectMaxX(r)),GetRandomReal(GetRectMinY(r),GetRectMaxY(r)))set bj_lastCreatedUnit=CreateUnitAtLoc(Player($E),Vb,p,bj_UNIT_FACING)call SetUnitUserData(bj_lastCreatedUnit,8+32)call GroupAddUnit(EV,bj_lastCreatedUnit)
call GroupAddUnit(kV[2],bj_lastCreatedUnit)call GroupAddUnit(eO[8],bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,re[8])
call RemoveLocation(p)endifset hi=hi+nset t=nullset p=nullendfunctionfunction Eb takes nothing returns nothingif(rv>=31)thencall TimerStart(Hi,.5,true,function ab)else
call TimerStart(Hi,.1,true,function ab)endifendfunctionfunction Xb takes unit u,string s,real Ob,real Rb,real Ib,player pl returns nothinglocal texttag tlocal force flocal location p
if(u==null)thenreturnendifset p=GetUnitLoc(u)set t=CreateTextTagLocBJ(s,p,0,$A,Ob,Rb,Ib,0)set f=CN(pl)
call SetTextTagLifespanBJ(t,3)call SetTextTagPermanentBJ(t,false)call SetTextTagFadepointBJ(t,2)call SetTextTagVelocityBJ(t,40,90)call ShowTextTagForceBJ(false,t,bj_FORCE_ALL_PLAYERS)call ShowTextTagForceBJ(true,t,f)set t=nullset f=nullset p=nullendfunctionfunction Ab takes unit u,string s,real Ob,real Rb,real Ib,real Nb,real bb,player pl returns nothinglocal texttag tlocal force f2local location p
local location p2if(u==null)thenreturnendifset p=GetUnitLoc(u)set t=CreateTextTagLocBJ(s,p,bb,Nb,Ob,Rb,Ib,0)set f2=DN(pl)call SetTextTagLifespanBJ(t,2)call SetTextTagPermanentBJ(t,false)call SetTextTagFadepointBJ(t,1)call SetTextTagVelocityBJ(t,40,90)call ShowTextTagForceBJ(true,t,dN(pl))call ShowTextTagForceBJ(false,t,f2)set t=nullset f2=nullset p=nullset pl=nullendfunctionfunction Bb takes location p,string s,real Ob,real Rb,real Ib,player pl returns texttaglocal texttag tlocal force flocal force f2set t=CreateTextTagLocBJ(s,p,0,$A,Ob,Rb,Ib,0)set f=CN(pl)
set f2=DN(pl)call SetTextTagPermanentBJ(t,true)call ShowTextTagForceBJ(true,t,dN(pl))call ShowTextTagForceBJ(false,t,f)call ShowTextTagForceBJ(false,t,f2)if IsPlayerObserver(ki)thencall SetTextTagVisibility(t,true)endifset f=nullset f2=nullset p=nullset pl=nullreturn t
endfunctionfunction cb takes string Cb returns stringlocal integer a=1local integer b=StringLength(Cb)
local string db=""loop
exitwhen a>b
if(SubString(Cb,a,a+1)!="0" or SubString(Cb,a-1,a)!=",")then
if(SubString(Cb,a,a+1)==",")then
set db=db+", "else
set db=db+SubString(Cb,a,a+1)endifendifset a=a+1endloopreturn dbendfunctionfunction Db takes integer fb,integer Fb,integer gb returns integerlocal integer r=gbloop
exitwhen r!=gbset r=GetRandomInt(fb,Fb)endloopreturn r
endfunctionfunction Gb takes nothing returns nothinglocal unit u=GetTriggerUnit()if(IsUnitInGroup(u,Mi)or NO)then
call IssuePointOrderByIdLoc(u,$D000F,Wx[GetUnitUserData(u)])
call GroupRemoveUnit(Mi,u)endifset u=nullendfunctionfunction hb takes nothing returns nothingcall TriggerRegisterUnitEvent(pi,GetEnumUnit(),EVENT_UNIT_ACQUIRED_TARGET)call GroupAddUnit(Mi,GetEnumUnit())endfunctionfunction Hb takes nothing returns nothingcall DestroyTrigger(pi)set pi=CreateTrigger()call ForGroup(Ha,function hb)call TriggerAddAction(pi,function Gb)endfunctionfunction jb takes nothing returns nothingset vv="3.41G5"set ev=("|cffFF0000Legion TD Mega "+(vv+"|r"))set cr=(""+(vv+"|r"))endfunctionfunction eB takes boolean xB returns nothing
local real array rBlocal real xxlocal real yylocal integer i=0set rB[0]=-6272.
set rB[1]=-4544.
set rB[2]=-2496.
set rB[3]=-768.set rB[4]=768.set rB[5]=2496.set rB[6]=4544.set rB[7]=6272.loop
set yy=2304.
loop
set xx=rB[i]
loop
call SetTerrainPathable(xx,yy,PATHING_TYPE_BUILDABILITY,xB)set xx=xx+32.exitwhen xx>=rB[i+1]
endloopset yy=yy+32.exitwhen yy>=3328.endloopset i=i+2exitwhen i>6
endloopendfunctionfunction kb takes nothing returns nothinglocal integer ilocal integer jlocal integer hlocal integer vlocal string Kb="abcdefghijklmnopqrstuvwxyz0123456789 -=,."local string VB=""local string array XBlocal integer array RBlocal integer array lblocal boolean array Lblocal image ABlocal weathereffect weset Lb[0]=trueset Lb[50]=trueset Lb[60]=trueset Lb[70]=trueset Lb[80]=trueset Lb[90]=trueset Lb['d']=true
set XB[0]=""
set XB[1]="admin"set XB[2]="vip"set XB[3]="top"set XB[4]="antitop"set XB[5]="leaver"set XB[6]="memlol"set XB[7]="memjeki"set XB[8]="mempff"set XB[9]="memtrollface"
set XB[$A]="streamer"set XB[$B]="tourwin"
set XB[$C]="dog"
set XB[$D]="gladiator"set XB[$E]="alpha"set XB[$F]="dentor"set i=0set j=0loop
if Lb[j]then
set j=j+1endifexitwhen j>=256set lb[j]=iset i=i+1set j=j+1endloopset i=0loop
exitwhen i>$Bset h=R2I('d'*GetPlayerHandicap(Player(i))+.5)if i<$A then
set RB[i]=h-'d'if RB[i]<0 thenset RB[i]=RB[i]+256endifelseif VB=="" and IsPlayerObserver(Player(i))thenif h==90 thenset VB="0"elseif h==80 thenset VB="lego"elseif h==70 thenset VB="lega"elseif h==60 thenset VB="hybo"elseif h==50 thenset VB="hyba"endifendifif not Lb[h]then
set h=lb[h]set v=h/ 6set h=h-v*6set ii=ii+SubString(Kb,v,v+1)endifcall SetPlayerHandicap(Player(i),1.)
set i=i+1endloopif VB!="" thenset L=trueset ii=VBset lb[0]=-4800set lb[1]=4800set lb[2]=-4800set lb[3]=$4C0set lb[4]=-$AC0set lb[5]=4800set lb[6]=-$AC0set lb[7]=$4C0set lb[8]=$8C0set lb[9]=4800set lb[$A]=$8C0set lb[$B]=$4C0set lb[$C]=4288set lb[$D]=4800set lb[$E]=4288set lb[$F]=$4C0set i=0loop
set v=RB[i]set j=ModuloInteger(v,16)if XB[j]!="" thenset AB=CreateImage("war3mapImported\\img-"+XB[j]+".blp",512,512,0,lb[i*2],lb[i*2+1],256,0,0,0,4)
call SetImageRenderAlways(AB,true)call ShowImage(AB,true)endifset Yr[i]=ModuloInteger(v/16,8)if ModuloInteger(v/$80,2)>0 then
set so[i]=trueendifset i=i+1exitwhen i>7
endloopset lb[1]='RAhr'
set lb[2]='RAlr'
set lb[3]='MEds'
set lb[4]='FDbh'
set lb[5]='FDbl'
set lb[6]='FDgh'
set lb[7]='FDgl'
set lb[8]='FDrh'
set lb[9]='FDrl'
set lb[$A]='FDwh'set lb[$B]='FDwl'set lb[$C]='RLhr'set lb[$D]='RLlr'set lb[$E]='SNbs'set lb[$F]='SNhs'set lb[16]='SNls'set lb[17]='LRaa'set lb[18]='LRma'set lb[19]='WNcw'set lb[20]='WOcw'set lb[21]='WOlw'set v=ModuloInteger(RB[8],32)if v>0 and v<22 then
set we=AddWeatherEffect(Rect(-8192.,-6144.,8192.,10240.),lb[v])call EnableWeatherEffect(we,true)endifif ModuloInteger(RB[8]/32,2)>0 thenset m=truecall eB(false)endifif ModuloInteger(RB[8]/64,2)>0 thencall EnableTrigger(JR)endifif ModuloInteger(RB[8]/$80,2)>0 then
set i=0loop
call SetPlayerAbilityAvailable(Player(i),'A0BX',false)set i=i+1set K[i]=trueexitwhen i>=8endloopendifendifendfunctionfunction Ub takes nothing returns nothinglocal player p=GetEnumPlayer()local integer id=GetPlayerId(p)+1local string tb=I2S(GetPlayerId(p))set xv=(Jn*$E10+JE*60+LE)if(IsPlayerInForce(GetEnumPlayer(),Dx))thenif(IsPlayerAlly(GetEnumPlayer(),Vo))then
set zr=zr+ub(GetPlayerId(p))
endifset xv=yi[id]/(rv-1)-gX[id]else
if((xv-xa[id])<$B4)thenif(IsPlayerAlly(GetEnumPlayer(),Vo))then
set zr=zr+ub(GetPlayerId(p))
endifendifendifset p=nullendfunctionfunction wb takes nothing returns nothingif(ea)thencall ForForce(Cx,function Ub)call Sb(zr)endifendfunctionfunction iB takes nothing returns booleanreturn(GetPlayerId(GetFilterPlayer())<8)and(GetPlayerController(GetFilterPlayer())==MAP_CONTROL_USER)and(GetPlayerSlotState(GetFilterPlayer())==PLAYER_SLOT_STATE_PLAYING)endfunctionfunction JB takes nothing returns nothingcall SetPlayerStateBJ(GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER,99)set Hr[(1+GetPlayerId(GetEnumPlayer()))]=99endfunctionfunction Ls takes nothing returns nothingif(ii=="")thenreturnelseif(ii=="0" or ii=="-0")thenset Zi=trueset ea=trueelse
set Zi=trueset ea=truecall ForForce(fN(Condition(function iB)),function JB)if(ii=="lego")thenset Vv="phgmcbmd"elseif(ii=="lega")thenset Vv="phgmcbahmd"elseif(ii=="leho")thenset Vv="hpgmcbmd"elseif(ii=="leha")thenset Vv="hpgmcbahmd"elseif(ii=="hybo")thenset Vv="hbgmmd"elseif(ii=="hyba")thenset Vv="hbgmahmd"else
set Vv=iiendifif(SubStringBJ(Vv,1,1)!="-")then
set Vv=("-"+Vv)endifcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,("HostBot has entered the game-mode: |cffFFcc00"+(Vv+"|r")))call DisableTrigger(jR)if(StringLength(Vv)==3)thencall TriggerExecute(HR)else
call TriggerExecute(hR)endifcall ResumeTimer(Mx)
call StartTimerBJ(Mx,false,1.)endifendfunctionfunction yb takes nothing returns nothingcall TriggerExecute(IV)call TriggerExecute(aV)call TriggerExecute(NV)call TriggerExecute(bV)call TriggerExecute(cV)call TriggerExecute(BV)call TriggerExecute(CV)call TriggerExecute(dV)call TriggerExecute(fV)call TriggerExecute(DV)call TriggerExecute(gV)call TriggerExecute(FV)call TriggerExecute(HV)call TriggerExecute(GV)call YA(1.)call TriggerExecute(wV)set Ur=truecall StartTimerBJ(Mx,false,15.)call CreateTimerDialogBJ(Mx,"TRIGSTR_4225")set px=bj_lastCreatedTimerDialog
call Ls()if(Zi==false)thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,$A,("Welcome to |cffFFcc00Legion TD |r |cffFF0000Mega|r 3.41. "+(" you have 15 seconds to enter gamemodes, if you don't enter any command, the default mode is -aphgggmmcbx3")))endifcall TriggerExecute(EI)call TriggerExecute(VI)endfunctionfunction zb takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction Zb takes nothing returns nothingset Nv=nN(Ra)call ForGroupBJ(Nv,function zb)call DestroyGroup(Nv)endfunctionfunction oB takes nothing returns nothingcall YA(2)call TimerDialogDisplay(px,false)call DestroyTimerDialog(px)call StartTimerBJ(nv,false,80.)call CreateTimerDialogBJ(nv,("Level "+(I2S((rv+1))+" in")))set fv=bj_lastCreatedTimerDialog
call TimerDialogSetTimeColor(fv,$FA,$D2,20,$FF)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,7.,"TRIGSTR_3300")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,7.,("You have |cffFFcc0080|r seconds until level |cffFFcc00"+(I2S((rv+1))+"|r begins.")))call PlaySoundBJ(Yn)
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_6127")call MultiboardMinimize(me,false)call TriggerExecute(PV)call TriggerExecute(mV)call TriggerExecute(LV)call TriggerExecute(MV)call TriggerExecute(QV)call DisableTrigger(GetTriggeringTrigger())if(Wi>4)then
set Fi[$A]=trueendifendfunctionfunction lB takes nothing returns booleanreturn GetPlayerController(GetFilterPlayer())==MAP_CONTROL_USER and GetPlayerTeam(GetFilterPlayer())<2endfunctionfunction mB takes nothing returns nothinglocal player pB=GetEnumPlayer()local integer qB=GetPlayerId(pB)
if(GetPlayerSlotState(pB)==PLAYER_SLOT_STATE_LEFT)thenset qe[qB]=1
if(GetPlayerTeam(pB)==0)then
set qe[8]=qe[8]+1else
set qe[9]=qe[9]+1endifelse
set qe[qB]=0
call TriggerRegisterPlayerEvent(qx,pB,EVENT_PLAYER_LEAVE)endifendfunctionfunction aB takes nothing returns nothingcall AdjustPlayerStateBJ(300,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
set mr[(1+GetPlayerId(GetEnumPlayer()))]=300
call AdjustPlayerStateBJ(97,GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)set Hr[(1+GetPlayerId(GetEnumPlayer()))]=97call SetPlayerStateBJ(GetEnumPlayer(),PLAYER_STATE_FOOD_CAP_CEILING,300)
call CreateNUnitsAtLoc(1,'e000',GetEnumPlayer(),GetPlayerStartLocationLoc(GetEnumPlayer()),bj_UNIT_FACING)set w[(1+GetPlayerId(GetOwningPlayer(bj_lastCreatedUnit)))]=bj_lastCreatedUnitcall SelectUnitForPlayerSingle(bj_lastCreatedUnit,GetEnumPlayer())call ForceAddPlayer(Dx,GetEnumPlayer())call SetPlayerTechMaxAllowedSwap('e003',7,GetEnumPlayer())call SetPlayerTechMaxAllowedSwap('R00D',0,GetEnumPlayer())call SetPlayerTechMaxAllowedSwap('R00G',0,GetEnumPlayer())call SetPlayerTechMaxAllowedSwap('R00H',0,GetEnumPlayer())call SetPlayerTechMaxAllowedSwap('R00I',0,GetEnumPlayer())if(GetPlayerTeam(GetEnumPlayer())==0)thenset S=S+1else
set T=T+1endifendfunctionfunction SB takes nothing returns nothinglocal player pB=GetTriggerPlayer()local integer TB=GetPlayerId(pB)
if(GetPlayerTeam(pB)<2 and Fr[1+TB]==false)thenset qe[TB]=1
if(GetPlayerTeam(pB)==0)then
set qe[8]=qe[8]+1else
set qe[9]=qe[9]+1endifendifif pB==GetOwningPlayer(vA)thencall SetUnitOwner(vA,Player(8),true)
elseif pB==GetOwningPlayer(EA)thencall SetUnitOwner(EA,Player(9),true)
endifif c thenset c=falsecall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,5,"|c1100FF00Fast Finish|r vote cancelled")endifendfunctionfunction nB takes nothing returns nothingcall ForForce(fN(Condition(function iB)),function aB)set qe[8]=0set qe[9]=0set qx=CreateTrigger()call TriggerAddAction(qx,function SB)call ForForce(fN(Condition(function lB)),function mB)if(S>T)thenset T=Selse
set S=Tendifset W[1]="|c00ff0202"set W[2]="|c000041ff"set W[3]="|c001be6b8"set W[4]="|c00530080"set W[5]="|c00fffc00"set W[6]="|c00fe890d"set W[7]="|c001fbf00"set W[8]="|c00e55aaf"set W[9]="|c00949596"set W[$A]="|c007dbef1"set W[$B]="|c000f6145"set W[$C]="|c004d2903"set hr[1]=rA
set hr[2]=xA
set hr[3]=nA
set hr[4]=fA
set hr[5]=NA
set hr[6]=AA
set hr[7]=eA
set hr[8]=CA
set Jx[1]=Player(8)set Jx[2]=Player(8)set Jx[3]=Player(8)set Jx[4]=Player(8)set Jx[5]=Player(9)set Jx[6]=Player(9)set Jx[7]=Player(9)set Jx[8]=Player(9)set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=4loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SetPlayerAllianceStateBJ(Player(-1+(bj_forLoopAIndex)),Player($E),2)call SetPlayerAllianceStateBJ(Player($E),Player(-1+(bj_forLoopAIndex)),2)call SetPlayerAllianceStateBJ(Player(-1+(bj_forLoopAIndex)),Player($D),0)call SetPlayerAllianceStateBJ(Player($D),Player(-1+(bj_forLoopAIndex)),0)set bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall SetPlayerAllianceStateBJ(Player(8),Player($D),0)call SetPlayerAllianceStateBJ(Player($D),Player(8),0)call SetPlayerAlliance(Player(8),Player($D),ALLIANCE_PASSIVE,false)call SetPlayerAlliance(Player($D),Player(8),ALLIANCE_PASSIVE,false)set bj_forLoopAIndex=5set bj_forLoopAIndexEnd=8loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SetPlayerAllianceStateBJ(Player(-1+(bj_forLoopAIndex)),Player($D),2)call SetPlayerAllianceStateBJ(Player($D),Player(-1+(bj_forLoopAIndex)),2)call SetPlayerAllianceStateBJ(Player(-1+(bj_forLoopAIndex)),Player($E),0)call SetPlayerAllianceStateBJ(Player($E),Player(-1+(bj_forLoopAIndex)),0)set bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall SetPlayerAllianceStateBJ(Player(9),Player($E),0)call SetPlayerAllianceStateBJ(Player($E),Player(9),0)call SetPlayerAlliance(Player(9),Player($E),ALLIANCE_PASSIVE,false)call SetPlayerAlliance(Player($E),Player(9),ALLIANCE_PASSIVE,false)endfunctionfunction EB takes nothing returns nothingset fr[1]="250"set fr[2]="350"set fr[3]="500"set fr[4]="650"set fr[5]="800"set fr[6]="1000"
set fr[7]="1200"
set fr[8]="1450"
set fr[9]="1600"
set fr[$A]="1850"set fr[$B]="2050"set fr[$C]="2400"set fr[$D]="2700"set fr[$E]="3100"set fr[$F]="3500"set fr[16]="4000"set fr[17]="4500"set fr[18]="5000"set fr[19]="5500"set fr[20]="6000"set fr[21]="6500"set fr[22]="7100"set fr[23]="7700"set fr[24]="8500"set fr[25]="9500"set fr[26]="10600"set fr[27]="11800"set fr[28]="13000"set fr[29]="14000"set fr[30]="15000"set fr[31]="15000"set Yv[1]=$B
set Yv[2]=$C
set Yv[3]=$D
set Yv[4]=$E
set Yv[5]=16
set Yv[6]=18
set Yv[7]=20
set Yv[8]=23
set Yv[9]=26
set Yv[$A]=30set Yv[$B]=35set Yv[$C]=40set Yv[$D]=45set Yv[$E]=50set Yv[$F]=55set Yv[16]=60set Yv[17]=70set Yv[18]=80set Yv[19]=90set Yv[20]='d'set Yv[21]='n'set Yv[22]='x'set Yv[23]=$82set Yv[24]=$8Cset Yv[25]=$96set Yv[26]=$A0set Yv[27]=$AAset Yv[28]=$B4set Yv[29]=$BEset Yv[30]=$C8endfunctionfunction OB takes nothing returns nothingset bx=30set y[1]="|cffEEBC86Light|r armor"set y[2]="|cffFF8000Medium|r armor"set y[3]="|cff408040Heavy|r armor"set y[4]="|cff773C00Fortified|r armor"set y[5]="|cffCCCCCCUnarmored|r armor"set lv[1]="|cffFFFF48Piercing|r attack"set lv[2]="|cff8080FFNormal|r attack"set lv[3]="|cffFF80FFMagic|r attack"
set lv[4]="|cffA0A0A0Siege|r attack"
set lv[5]="|cff970000Chaos|r attack"
set Lv=",01,04,7,12,19,21,25"set mv=",02,03,09,14,15,23,26,27"set Mv=",05,08,13,16,18,24,29"set pv=",06,11,17,22,28"
set Pv=",10,20,30,31"set Sv=",05,07,10,13,16,19,21,25"set tv=",03,08,12,14,18,24,27"set Tv=",04,09,15,20,23,26,29"set uv=",06,11,17,22,28,30"set de=",01,02,31"set Be=",05,13,21,29"set ce=",10,20,30"set Ce=",04,08,12,16,20,24,28,29"set wv=",3,3,4,5,5,5,6,6,5,51,5,6,7,12,9,8,10,8,10,86,10,9,11,11,9,12,12,23,14,123,0,"set Uv=",36,45,40,36,36,36,30,36,45,03,54,45,45,26,36,45,35,45,36,03,36,48,36,35,45,36,36,18,30,03,15"set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=bxloop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset yv[bj_forLoopAIndex]=(40+(bj_forLoopAIndex/ 2))set Ie=I2R(bj_forLoopAIndex)
set bj_forLoopAIndex=bj_forLoopAIndex+1endloopset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=bxloop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset Ie=I2R(bj_forLoopAIndex)
set Ao=((((((Ie*Ie)*Ie)*.025)+((Ie*Ie)*.05))+(Ie*4))+20)
set Xi[bj_forLoopAIndex]=R2I(Ao)
set bj_forLoopAIndex=bj_forLoopAIndex+1endloopendfunctionfunction IB takes nothing returns nothingset cx='h05L'set xv=1
set z[xv]='h002'
set xv=(xv+1)set z[xv]='h000'
set xv=(xv+1)set z[xv]='h005'
set xv=(xv+1)set z[xv]='h001'
set xv=(xv+1)set z[xv]='h00I'
set xv=(xv+1)set z[xv]='h003'
set xv=(xv+1)set z[xv]='h004'
set xv=(xv+1)set z[xv]='h007'
set xv=(xv+1)set z[xv]='h008'
set xv=(xv+1)set z[xv]='H05I'
set xv=(xv+1)set z[xv]='h00A'
set xv=(xv+1)set z[xv]='h00B'
set xv=(xv+1)set z[xv]='h00C'
set xv=(xv+1)set z[xv]='h00D'
set xv=(xv+1)set z[xv]='h00E'
set xv=(xv+1)set z[xv]='h00F'
set xv=(xv+1)set z[xv]='h00G'
set xv=(xv+1)set z[xv]='h00H'
set xv=(xv+1)set z[xv]='h00J'
set xv=(xv+1)set z[xv]='H05J'
set xv=(xv+1)set z[xv]='h03P'
set xv=(xv+1)set z[xv]='h03Q'
set xv=(xv+1)set z[xv]='h03R'
set xv=(xv+1)set z[xv]='h03T'
set xv=(xv+1)set z[xv]='h03U'
set xv=(xv+1)set z[xv]='h03S'
set xv=(xv+1)set z[xv]='h03V'
set xv=(xv+1)set z[xv]='h03W'
set xv=(xv+1)set z[xv]='h006'
set xv=(xv+1)set z[xv]='H05K'
set xv=(xv+1)set z[xv]='h05L'
set xv=(xv+1)endfunctionfunction NB takes nothing returns booleanreturn(SubStringBJ(Lv,xv,xv)==",")endfunctionfunction bB takes nothing returns booleanreturn(SubStringBJ(mv,xv,xv)==",")endfunctionfunction BB takes nothing returns booleanreturn(SubStringBJ(Mv,xv,xv)==",")endfunctionfunction cB takes nothing returns booleanreturn(SubStringBJ(pv,xv,xv)==",")endfunctionfunction CB takes nothing returns booleanreturn(SubStringBJ(Pv,xv,xv)==",")endfunctionfunction dB takes nothing returns booleanreturn(SubStringBJ(Sv,xv,xv)==",")endfunctionfunction DB takes nothing returns booleanreturn(SubStringBJ(tv,xv,xv)==",")endfunctionfunction fB takes nothing returns booleanreturn(SubStringBJ(Tv,xv,xv)==",")endfunctionfunction FB takes nothing returns booleanreturn(SubStringBJ(uv,xv,xv)==",")endfunctionfunction gB takes nothing returns booleanreturn(SubStringBJ(de,xv,xv)==",")endfunctionfunction GB takes nothing returns booleanreturn(SubStringBJ(Uv,xv,xv)==",")endfunctionfunction hB takes nothing returns booleanreturn(SubStringBJ(wv,bj_forLoopBIndex,bj_forLoopBIndex)==",")and(hv==0)
endfunctionfunction HB takes nothing returns booleanreturn(SubStringBJ(wv,bj_forLoopAIndex,bj_forLoopAIndex)==",")endfunctionfunction jB takes nothing returns nothingset xv=0
set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=((bx*3)+3)loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset xv=(xv+1)if(NB())then
set hv=S2I(SubStringBJ(Lv,(xv+1),(xv+2)))set qv[hv]=lv[1]
endifif(bB())then
set hv=S2I(SubStringBJ(mv,(xv+1),(xv+2)))set qv[hv]=lv[2]
endifif(BB())then
set hv=S2I(SubStringBJ(Mv,(xv+1),(xv+2)))set qv[hv]=lv[3]
endifif(cB())then
set hv=S2I(SubStringBJ(pv,(xv+1),(xv+2)))set qv[hv]=lv[4]
endifif(CB())then
set hv=S2I(SubStringBJ(Pv,(xv+1),(xv+2)))set qv[hv]=lv[5]
endifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopset xv=0
set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=((bx*3)+3)loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset xv=(xv+1)if(dB())then
set hv=S2I(SubStringBJ(Sv,(xv+1),(xv+2)))set Qv[hv]=y[1]endifif(DB())then
set hv=S2I(SubStringBJ(tv,(xv+1),(xv+2)))set Qv[hv]=y[2]endifif(fB())then
set hv=S2I(SubStringBJ(Tv,(xv+1),(xv+2)))set Qv[hv]=y[3]endifif(FB())then
set hv=S2I(SubStringBJ(uv,(xv+1),(xv+2)))set Qv[hv]=y[4]endifif(gB())then
set hv=S2I(SubStringBJ(de,(xv+1),(xv+2)))set Qv[hv]=y[5]endifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopset xv=0
set Hv=0
set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=((bx*3)+3)loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset xv=(xv+1)if(GB())then
set Hv=(Hv+1)set hv=S2I(SubStringBJ(Uv,(xv+1),(xv+2)))set sv[Hv]=hvendifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopset xv=0
set Wv=0
set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=StringLength(wv)
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif(HB())then
set Wv=(Wv+1)set xv=bj_forLoopAIndexset hv=0
set bj_forLoopBIndex=(bj_forLoopAIndex+1)set bj_forLoopBIndexEnd=StringLength(wv)
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEndif(hB())then
set hv=bj_forLoopBIndexendifset bj_forLoopBIndex=bj_forLoopBIndex+1endloopset Hv=S2I(SubStringBJ(wv,(xv+1),(hv-1)))set Y[Wv]=Hv
endifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=(bx+1)loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset Vv=GetObjectName(z[bj_forLoopAIndex])set Ne=("|cffC0C0C0 (Value: |r|cffFFcc00"+(fr[bj_forLoopAIndex]+"|r|cffC0C0C0)|r"))set Z[bj_forLoopAIndex]=(((((("|cffC0C0C0[|r |cffFFcc00L"+I2S(bj_forLoopAIndex))+"|r |cffC0C0C0]|r")+" ")+Vv)+("s"+Ne))+(("|cffC0C0C0 --- (|r"+qv[bj_forLoopAIndex])+("|cffC0C0C0, |r"+(Qv[bj_forLoopAIndex]+("|cffC0C0C0) --- |r"+(I2S(sv[bj_forLoopAIndex])+"|cffC0C0C0 at each spawn.|r"))))))set bj_forLoopAIndex=bj_forLoopAIndex+1endloopendfunctionfunction kB takes nothing returns nothingset Bo[(1+GetPlayerId(GetEnumPlayer()))]=GetUnitLoc(GroupPickRandomUnit(cN(GetEnumPlayer(),'h025')))
endfunctionfunction KB takes nothing returns nothingset Ov=GetRectCenter(cO)
set Rv=GetRectCenter(lO)
set Iv=GetRectCenter(CO)
set Xv=GetRectCenter(BO)
set ue=GetRectCenter(qO)
set Ue=GetRectCenter(UO)
set We=GetRectCenter(zO)
set ye=GetRectCenter(xR)
set Wx[1]=Ov
set Wx[2]=Rv
set Wx[3]=Iv
set Wx[4]=Xv
set Wx[5]=ue
set Wx[6]=Ue
set Wx[7]=We
set Wx[8]=ye
set Ye=GetRectCenter(fa)
set ze=GetRectCenter(Fa)
set wr=GetRectCenter(fn)
set Ze=GetRectCenter(ga)
set vx=GetRectCenter(Ga)
set Wr=GetRectCenter(Fn)
set nV=GetRectCenter(ia)
set VV=GetRectCenter(Ia)
set rx=GetRectCenter(ka)
set ix=GetRectCenter(Ka)
set kv=GetRectCenter(Oa)
set Kv=GetLocationY(Ov)set Er=GetRectCenter(Cn)
set re[1]=Ye
set re[2]=Ye
set re[3]=ze
set re[4]=ze
set re[5]=Ze
set re[6]=Ze
set re[7]=vx
set re[8]=vx
set re[9]=rx
set re[$A]=ixset vi[1]=GetRectCenter(kn)set vi[2]=GetRectCenter(Kn)set vi[3]=GetRectCenter(ln)set vi[4]=GetRectCenter(Ln)set vi[5]=GetRectCenter(mn)set vi[6]=GetRectCenter(Mn)set vi[7]=GetRectCenter(pn)set vi[8]=GetRectCenter(Pn)set vi[9]=GetRectCenter(Hn)set vi[$A]=GetRectCenter(jn)
call ForForce(Dx,function kB)endfunctionfunction LB takes nothing returns nothingset rr[0]='u00I'
set rr[1]='u001'
set rr[2]='u000'
set rr[3]='u003'
set rr[4]='u002'
set rr[5]='u00C'
set rr[6]='u00G'
set rr[7]='u00H'
set rr[8]='u00J'
set rr[9]='u00L'
set rr[$A]='u00M'set rr[$B]='u00K'set rr[$C]='u00O'set rr[$D]='u00T'set rr[$E]='u00U'set rr[$F]='u00Z'set De=$Fset oe=.5endfunctionfunction MB takes nothing returns nothingset xv=0
set xv=(xv+1)set Cv[xv]='h00L'set cv[xv]='h00M'set xv=(xv+1)set Cv[xv]='h028'set cv[xv]='h00T'set xv=(xv+1)set Cv[xv]='h02B'set cv[xv]='h00O'set xv=(xv+1)set Cv[xv]='h02C'set cv[xv]='h00Y'set xv=(xv+1)set Cv[xv]='h02D'set cv[xv]='h00X'set xv=(xv+1)set Cv[xv]='h029'set cv[xv]='h00P'set xv=(xv+1)set Cv[xv]='h02A'set cv[xv]='h00Z'set xv=(xv+1)set Cv[xv]='h02G'set cv[xv]='h00N'set xv=(xv+1)set Cv[xv]='h02H'set cv[xv]='h00U'set xv=(xv+1)set Cv[xv]='h02I'set cv[xv]='h00Q'set xv=(xv+1)set Cv[xv]='h02J'set cv[xv]='h00W'set xv=(xv+1)set Cv[xv]='h02E'set cv[xv]='h00S'set xv=(xv+1)set Cv[xv]='h02F'set cv[xv]='h00V'set Zv=xvset xv=(xv+1)set Cv[xv]='h02L'set cv[xv]='h010'set xv=(xv+1)set Cv[xv]='h02M'set cv[xv]='h011'set xv=(xv+1)set Cv[xv]='h02N'set cv[xv]='h012'set xv=(xv+1)set Cv[xv]='h02O'set cv[xv]='h013'set xv=(xv+1)set Cv[xv]='h02P'set cv[xv]='h014'set xv=(xv+1)set Cv[xv]='h02Q'set cv[xv]='h015'set xv=(xv+1)set Cv[xv]='h02R'set cv[xv]='h016'set xv=(xv+1)set Cv[xv]='h02S'set cv[xv]='h017'set xv=(xv+1)set Cv[xv]='h02T'set cv[xv]='h018'set xv=(xv+1)set Cv[xv]='h02U'set cv[xv]='h019'set xv=(xv+1)set Cv[xv]='h02V'set cv[xv]='h01A'set xv=(xv+1)set Cv[xv]='h02W'set cv[xv]='h01B'set ve=xvset xv=(xv+1)set Cv[xv]='h02X'set cv[xv]='h01C'set xv=(xv+1)set Cv[xv]='h02Y'set cv[xv]='h01D'set xv=(xv+1)set Cv[xv]='h02Z'set cv[xv]='h01E'set xv=(xv+1)set Cv[xv]='h030'set cv[xv]='h01F'set xv=(xv+1)set Cv[xv]='h031'set cv[xv]='h01H'set xv=(xv+1)set Cv[xv]='h032'set cv[xv]='h01G'set xv=(xv+1)set Cv[xv]='h033'set cv[xv]='h01I'set xv=(xv+1)set Cv[xv]='h034'set cv[xv]='h01J'set xv=(xv+1)set Cv[xv]='h035'set cv[xv]='h01K'set xv=(xv+1)set Cv[xv]='h036'set cv[xv]='h01L'set xv=(xv+1)set Cv[xv]='h037'set cv[xv]='h01M'set xv=(xv+1)set Cv[xv]='h038'set cv[xv]='h01N'set xv=(xv+1)set Cv[xv]='h039'set cv[xv]='h01O'set ee=xvset xv=(xv+1)set Cv[xv]='h03A'set cv[xv]='h01P'set xv=(xv+1)set Cv[xv]='h03B'set cv[xv]='h01Q'set xv=(xv+1)set Cv[xv]='h03C'set cv[xv]='h01R'set xv=(xv+1)set Cv[xv]='h03D'set cv[xv]='h01S'set xv=(xv+1)set Cv[xv]='h03E'set cv[xv]='h01T'set xv=(xv+1)set Cv[xv]='h03F'set cv[xv]='h01U'set xv=(xv+1)set Cv[xv]='h03G'set cv[xv]='h01V'set xv=(xv+1)set Cv[xv]='h03H'set cv[xv]='h01W'set xv=(xv+1)set Cv[xv]='h03I'set cv[xv]='h01X'set xv=(xv+1)set Cv[xv]='h03J'set cv[xv]='h01Y'set xv=(xv+1)set Cv[xv]='h03K'set cv[xv]='h01Z'set xv=(xv+1)set Cv[xv]='h03L'set cv[xv]='h020'set xv=(xv+1)set Cv[xv]='h03M'set cv[xv]='h021'set xv=(xv+1)set Cv[xv]='h03N'set cv[xv]='h022'set xe=xvset xv=(xv+1)set Cv[xv]='h04C'set cv[xv]='h040'set xv=(xv+1)set Cv[xv]='h04D'set cv[xv]='h041'set xv=(xv+1)set Cv[xv]='h04E'set cv[xv]='h042'set xv=(xv+1)set Cv[xv]='h04F'set cv[xv]='h043'set xv=(xv+1)set Cv[xv]='h04G'set cv[xv]='h044'set xv=(xv+1)set Cv[xv]='h04H'set cv[xv]='h045'set xv=(xv+1)set Cv[xv]='h04I'set cv[xv]='h046'set xv=(xv+1)set Cv[xv]='h04J'set cv[xv]='h047'set xv=(xv+1)set Cv[xv]='h04K'set cv[xv]='h048'set xv=(xv+1)set Cv[xv]='h04L'set cv[xv]='h049'set xv=(xv+1)set Cv[xv]='h04M'set cv[xv]='h04A'set xv=(xv+1)set Cv[xv]='h04N'set cv[xv]='h04B'set Re=xvset xv=(xv+1)set Cv[xv]='h061'set cv[xv]='h05N'set xv=(xv+1)set Cv[xv]='h063'set cv[xv]='h05O'set xv=(xv+1)set Cv[xv]='h064'set cv[xv]='h05P'set xv=(xv+1)set Cv[xv]='h065'set cv[xv]='h05S'set xv=(xv+1)set Cv[xv]='h067'set cv[xv]='h062'set xv=(xv+1)set Cv[xv]='h066'set cv[xv]='h05Q'set xv=(xv+1)set Cv[xv]='h068'set cv[xv]='h05T'set xv=(xv+1)set Cv[xv]='h069'set cv[xv]='h05R'set xv=(xv+1)set Cv[xv]='h06A'set cv[xv]='h05U'set xv=(xv+1)set Cv[xv]='h06B'set cv[xv]='h05V'set xv=(xv+1)set Cv[xv]='h06C'set cv[xv]='h05W'set xv=(xv+1)set Cv[xv]='h06D'set cv[xv]='h05X'set xv=(xv+1)set Cv[xv]='h06E'set cv[xv]='h05Y'set xv=(xv+1)set Cv[xv]='h06F'set cv[xv]='h05Z'set xv=(xv+1)set Cv[xv]='h06G'set cv[xv]='h060'set Sx=xvset xv=(xv+1)set Cv[xv]='h06U'set cv[xv]='h06J'set xv=(xv+1)set Cv[xv]='h079'set cv[xv]='h078'set xv=(xv+1)set Cv[xv]='h06W'set cv[xv]='h06I'set xv=(xv+1)set Cv[xv]='h077'set cv[xv]='h076'set xv=(xv+1)set Cv[xv]='h06X'set cv[xv]='h06K'set xv=(xv+1)set Cv[xv]='h06Y'set cv[xv]='h06L'set xv=(xv+1)set Cv[xv]='h06V'set cv[xv]='h06M'set xv=(xv+1)set Cv[xv]='h06Z'set cv[xv]='h06N'set xv=(xv+1)set Cv[xv]='h070'set cv[xv]='h06O'set xv=(xv+1)set Cv[xv]='h071'set cv[xv]='h06P'set xv=(xv+1)set Cv[xv]='h072'set cv[xv]='h06Q'set xv=(xv+1)set Cv[xv]='h073'set cv[xv]='h06R'set xv=(xv+1)set Cv[xv]='h074'set cv[xv]='h06S'set xv=(xv+1)set Cv[xv]='h075'set cv[xv]='h06T'set Io=xvset xv=(xv+1)set Cv[xv]='h07K'set cv[xv]='h07J'set xv=(xv+1)set Cv[xv]='h07Z'set cv[xv]='h07L'set xv=(xv+1)set Cv[xv]='h080'set cv[xv]='h07M'set xv=(xv+1)set Cv[xv]='h081'set cv[xv]='h07N'set xv=(xv+1)set Cv[xv]='h082'set cv[xv]='h07O'set xv=(xv+1)set Cv[xv]='h083'set cv[xv]='h07P'set xv=(xv+1)set Cv[xv]='h084'set cv[xv]='h07Q'set xv=(xv+1)set Cv[xv]='h085'set cv[xv]='h07R'set xv=(xv+1)set Cv[xv]='h086'set cv[xv]='h07S'set xv=(xv+1)set Cv[xv]='h087'set cv[xv]='h07T'set xv=(xv+1)set Cv[xv]='h08B'set cv[xv]='h07U'set xv=(xv+1)set Cv[xv]='h088'set cv[xv]='h07V'set xv=(xv+1)set Cv[xv]='h089'set cv[xv]='h07W'set xv=(xv+1)set Cv[xv]='h08A'set cv[xv]='h07X'set Zo=xvset xv=(xv+1)set Cv[xv]='h08E'set cv[xv]='h08F'set xv=(xv+1)set Cv[xv]='h08J'set cv[xv]='h08I'set xv=(xv+1)set Cv[xv]='h08G'set cv[xv]='h08H'set xv=(xv+1)set Cv[xv]='h08K'set cv[xv]='h08L'set xv=(xv+1)set Cv[xv]='h08M'set cv[xv]='h08N'set xv=(xv+1)set Cv[xv]='h08O'set cv[xv]='h08P'set xv=(xv+1)set Cv[xv]='h08R'set cv[xv]='h08Q'set xv=(xv+1)set Cv[xv]='h08T'set cv[xv]='h08S'set xv=(xv+1)set Cv[xv]='h092'set cv[xv]='h08V'set xv=(xv+1)set Cv[xv]='h08X'set cv[xv]='h08Y'set xv=(xv+1)set Cv[xv]='h08W'set cv[xv]='h08Z'set xv=(xv+1)set Cv[xv]='h091'set cv[xv]='h090'set xv=(xv+1)set Cv[xv]='h094'set cv[xv]='h093'set Nr=xvset xv=(xv+1)set Cv[xv]='h09F'set cv[xv]='h09L'set xv=(xv+1)set Cv[xv]='h09K'set cv[xv]='h09H'set xv=(xv+1)set Cv[xv]='h09Y'set cv[xv]='h09W'set xv=(xv+1)set Cv[xv]='h09G'set cv[xv]='h09M'set xv=(xv+1)set Cv[xv]='h09V'set cv[xv]='h09N'set xv=(xv+1)set Cv[xv]='h09P'set cv[xv]='h09O'set xv=(xv+1)set Cv[xv]='h09Q'set cv[xv]='h09R'set xv=(xv+1)set Cv[xv]='h09Z'set cv[xv]='h09S'set xv=(xv+1)set Cv[xv]='h09D'set cv[xv]='h09T'set xv=(xv+1)set Cv[xv]='h09X'set cv[xv]='h09U'set xv=(xv+1)set Cv[xv]='h0A2'set cv[xv]='h0A3'set xv=(xv+1)set Cv[xv]='h09I'set cv[xv]='h0A0'set Br=xvset xv=(xv+1)set Cv[xv]='h0A7'set cv[xv]='h0A8'set xv=(xv+1)set Cv[xv]='h0AV'set cv[xv]='h0AT'set xv=(xv+1)set Cv[xv]='h0AW'set cv[xv]='h0AU'set xv=(xv+1)set Cv[xv]='h0AD'set cv[xv]='h0AE'set xv=(xv+1)set Cv[xv]='h0AG'set cv[xv]='h0AF'set xv=(xv+1)set Cv[xv]='h0AC'set cv[xv]='h0AB'set xv=(xv+1)set Cv[xv]='h0A9'set cv[xv]='h0AA'set xv=(xv+1)set Cv[xv]='h0AI'set cv[xv]='h0AH'set xv=(xv+1)set Cv[xv]='h0AK'set cv[xv]='h0AJ'set xv=(xv+1)set Cv[xv]='h0AM'set cv[xv]='h0AL'set xv=(xv+1)set Cv[xv]='h0AN'set cv[xv]='h0AO'set xv=(xv+1)set Cv[xv]='h0AS'set cv[xv]='h0AR'set xv=(xv+1)set Cv[xv]='h0AP'set cv[xv]='h0AQ'set Gr=xvset xv=(xv+1)set Cv[xv]='n00B'set cv[xv]='h0BC'set xv=(xv+1)set Cv[xv]='n00C'set cv[xv]='h0BD'set xv=(xv+1)set Cv[xv]='n00D'set cv[xv]='h0BE'set xv=(xv+1)set Cv[xv]='n00K'set cv[xv]='h0BG'set xv=(xv+1)set Cv[xv]='o001'set cv[xv]='h0BH'set xv=(xv+1)set Cv[xv]='n00E'set cv[xv]='h0BI'set xv=(xv+1)set Cv[xv]='n00F'set cv[xv]='h0BJ'set xv=(xv+1)set Cv[xv]='n00G'set cv[xv]='h0BK'set xv=(xv+1)set Cv[xv]='n00I'set cv[xv]='h0BM'set xv=(xv+1)set Cv[xv]='n00H'set cv[xv]='h0BL'set xv=(xv+1)set Cv[xv]='h0BN'set cv[xv]='h0BO'set xv=(xv+1)set Cv[xv]='n00J'set cv[xv]='h0BP'set Kr=xvset xv=(xv+1)set Cv[xv]='h0AY'set cv[xv]='h0BF'set xv=(xv+1)set Cv[xv]='h0BT'set cv[xv]='h0BS'set xv=(xv+1)set Cv[xv]='h0CD'set cv[xv]='h0BU'set xv=(xv+1)set Cv[xv]='o002'set cv[xv]='h0BV'set xv=(xv+1)set Cv[xv]='n00P'set cv[xv]='h0BW'set xv=(xv+1)set Cv[xv]='h0BY'set cv[xv]='h0BX'set xv=(xv+1)set Cv[xv]='h0BZ'set cv[xv]='h0C0'set xv=(xv+1)set Cv[xv]='h0C3'set cv[xv]='h0C4'set xv=(xv+1)set Cv[xv]='h0C1'set cv[xv]='h0C2'set xv=(xv+1)set Cv[xv]='h0C6'set cv[xv]='h0C5'set xv=(xv+1)set Cv[xv]='h0C7'set cv[xv]='h0C8'set xv=(xv+1)set Cv[xv]='h0CA'set cv[xv]='h0C9'set xv=(xv+1)set Cv[xv]='h0CB'set cv[xv]='h0CC'set yr=xvset xv=(xv+1)set Cv[xv]='h0CE'set cv[xv]='h0CF'set xv=(xv+1)set Cv[xv]='h0CG'set cv[xv]='h0CH'set xv=(xv+1)set Cv[xv]='h0CJ'set cv[xv]='h0CI'set xv=(xv+1)set Cv[xv]='h0CL'set cv[xv]='h0CK'set xv=(xv+1)set Cv[xv]='h0CM'set cv[xv]='h0CO'set xv=(xv+1)set Cv[xv]='h0CN'set cv[xv]='h0CP'set xv=(xv+1)set Cv[xv]='h0CR'set cv[xv]='h0CQ'set xv=(xv+1)set Cv[xv]='h0CT'set cv[xv]='h0CS'set xv=(xv+1)set Cv[xv]='h0CU'set cv[xv]='h0CV'set xv=(xv+1)set Cv[xv]='h0CX'set cv[xv]='h0CW'set xv=(xv+1)set Cv[xv]='h0CZ'set cv[xv]='h0CY'set xv=(xv+1)set Cv[xv]='h0D1'set cv[xv]='h0D0'set xv=(xv+1)set Cv[xv]='h0D3'set cv[xv]='h0D2'set Oi=xvset xv=(xv+1)set Cv[xv]=0
set cv[xv]='h07D'set xv=(xv+1)set Cv[xv]=0
set cv[xv]='h07E'set xv=(xv+1)set Cv[xv]=0
set cv[xv]='h07G'set xv=(xv+1)set Cv[xv]=0
set cv[xv]='h07F'set xv=(xv+1)set Cv[xv]=0
set cv[xv]='h07H'set xv=(xv+1)set Cv[xv]=0
set cv[xv]='h07I'set Yo=xvset Jv=xvendfunctionfunction PB takes nothing returns nothingcall YA(2)call CreateLeaderboardBJ(bj_FORCE_ALL_PLAYERS,"TRIGSTR_4232")set Dv=bj_lastCreatedLeaderboard
call LeaderboardAddItemBJ(Player(8),Dv,"West",0)
call LeaderboardAddItemBJ(Player(9),Dv,"East",0)
endfunctionfunction QB takes nothing returns nothingset xv=(1+GetPlayerId(GetEnumPlayer()))call CreateFogModifierRectBJ(true,GetEnumPlayer(),FOG_OF_WAR_VISIBLE,Rn)
set ai[xv]=bj_lastCreatedFogModifier
call CreateFogModifierRectBJ(true,GetEnumPlayer(),FOG_OF_WAR_VISIBLE,hn)
set Vi[xv]=bj_lastCreatedFogModifier
call CreateFogModifierRectBJ(true,GetEnumPlayer(),FOG_OF_WAR_VISIBLE,In)
set ni[xv]=bj_lastCreatedFogModifier
endfunctionfunction sB takes nothing returns nothingcall ForForce(Dx,function QB)endfunctionfunction tB takes nothing returns nothingcall UnitRemoveAbility(GetEnumUnit(),'ARal')
endfunctionfunction uB takes nothing returns nothingcall SetUnitUserData(GetEnumUnit(),(1+GetPlayerId(GetOwningPlayer(GetEnumUnit()))))endfunctionfunction UB takes nothing returns nothingset Ve=trueset Ee=trueset Xe=trueset Oe=trueset se=trueset Se=trueset te=trueset Te=truecall TriggerExecute(iO)call TriggerExecute(oI)call SetUnitUserData(vA,9)call SetUnitUserData(EA,$A)call ForGroupBJ(AN('h05F'),function tB)set Qx=trueset sx=trueset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=8loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset ro[bj_forLoopAIndex]=1set bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall ForGroupBJ(AN('h023'),function uB)set Mr[0]=0set Mr[1]=60
set Mr[2]=$8Cset Mr[3]=$F0set Mr[4]=360set Mr[5]=500set Mr[6]=660set Mr[7]=840set Mr[8]=$410set Mr[9]=$4D8set Mr[$A]=$5A0set Mr[$B]=$668set Mr[$C]=$730set Mr[$D]=$7F8set Mr[$E]=$8C0set Mr[$F]=$988endfunctionfunction ZB takes nothing returns nothingcall CreateQuestBJ(0,"TRIGSTR_4235","TRIGSTR_5621","ReplaceableTextures\\CommandButtons\\BTNBarracks.blp")call CreateQuestBJ(0,"TRIGSTR_4237","TRIGSTR_5622","ReplaceableTextures\\CommandButtons\\BTNChestOfGold.blp")call CreateQuestBJ(0,"TRIGSTR_4239","TRIGSTR_5623","ReplaceableTextures\\CommandButtons\\BTNHeroPaladin.blp")call CreateQuestBJ(2,"TRIGSTR_3710","TRIGSTR_5624","ReplaceableTextures\\CommandButtons\\BTNScrollUber.blp")
call CreateQuestBJ(2,"TRIGSTR_4241","TRIGSTR_5625","ReplaceableTextures\\CommandButtons\\BTNHydralisk.blp")call CreateQuestBJ(2,(vv+" Changelog"),"TRIGSTR_6113","ReplaceableTextures\\CommandButtons\\BTNBloodKey.blp")endfunctionfunction ec takes nothing returns booleanreturn(Fi[$A])and(bO>$640)endfunctionfunction xc takes nothing returns nothingset Ie=(GetUnitLifePercent(GetEnumUnit())-1.)call SetUnitLifePercentBJ(GetEnumUnit(),Ie)endfunctionfunction oc takes nothing returns nothingcall DestroyGroup(Nv)set Nv=nN(bj_mapInitialPlayableArea)
call ForGroupBJ(Nv,function xc)call DestroyGroup(Nv)endfunctionfunction ic takes nothing returns nothingset Ge="Mode:"set he="|cffFFcc00Player Name|r"
set He="|cffFFcc00Value|r"set je=9.set Je=3.5set ke="|cffFFFFFF"set Ke="|cffFFFFFF"set le="ReplaceableTextures\\CommandButtons\\BTNSelectHeroOn.blp"set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=8loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset Eo[bj_forLoopAIndex]=leset bj_forLoopAIndex=bj_forLoopAIndex+1endloopset Le[1]="|c00ff0202"set Le[2]="|c000041ff"set Le[3]="|c001be6b8"set Le[4]="|c00530080"set Le[5]="|c00fffc00"set Le[6]="|c00fe890d"set Le[7]="|c001fbf00"set Le[8]="|c00e55aaf"set Le[9]="|c00949596"set Le[$A]="|c007dbef1"set Le[$B]="|c000f6145"set Le[$C]="|c004d2903"endfunctionfunction nc takes nothing returns booleanreturn(GetPlayerId(GetFilterPlayer())<8)and(GetPlayerController(GetFilterPlayer())==MAP_CONTROL_USER)and(GetPlayerSlotState(GetFilterPlayer())==PLAYER_SLOT_STATE_PLAYING)endfunctionfunction Vc takes nothing returns booleanreturn(IsPlayerAlly(Player(-1+(bj_forLoopAIndex)),Player(8)))and(do)
endfunctionfunction Ec takes nothing returns booleanreturn(IsPlayerAlly(Player(-1+(bj_forLoopAIndex)),Player(9)))and(do)
endfunctionfunction Xc takes nothing returns booleanreturn(do==false)endfunctionfunction Oc takes nothing returns booleanreturn(IsPlayerInForce(Player(-1+(bj_forLoopAIndex)),Cx))endfunctionfunction Rc takes nothing returns nothingcall MultiboardSetItemIconBJ(me,1,Ir[(1+GetPlayerId(GetEnumPlayer()))],Eo[(1+GetPlayerId(GetEnumPlayer()))])
endfunctionfunction Ic takes nothing returns nothingcall MultiboardClear(me)
call DestroyMultiboard(me)set Cx=fN(Condition(function nc))call CreateMultiboardBJ(5,(CountPlayersInForceBJ(Cx)+1),(Ge+"|cffFF0000 (Selecting Modes)|r"))set me=bj_lastCreatedMultiboardset Me=0
set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=8loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif(Oc())then
set Me=(Me+1)set Ir[bj_forLoopAIndex]=(Me+1)call MultiboardSetItemValueBJ(me,1,Ir[bj_forLoopAIndex],((Le[bj_forLoopAIndex]+GetPlayerName(Player(-1+(bj_forLoopAIndex))))+"|r"))if(Vc())then
if IsPlayerAlly(ki,Player(8))or IsPlayerObserver(ki)then
call MultiboardSetItemValueBJ(me,2,Ir[bj_forLoopAIndex],I2S(ba[bj_forLoopAIndex]))else
call MultiboardSetItemValueBJ(me,2,Ir[bj_forLoopAIndex],"TRIGSTR_4578")endifendifif(Ec())then
if IsPlayerAlly(ki,Player(9))or IsPlayerObserver(ki)then
call MultiboardSetItemValueBJ(me,2,Ir[bj_forLoopAIndex],I2S(ba[bj_forLoopAIndex]))else
call MultiboardSetItemValueBJ(me,2,Ir[bj_forLoopAIndex],"TRIGSTR_4578")endifendifif(Xc())then
call MultiboardSetItemValueBJ(me,2,Ir[bj_forLoopAIndex],I2S(ba[bj_forLoopAIndex]))endifendifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall MultiboardSetItemValueBJ(me,1,1,he)
call MultiboardSetItemValueBJ(me,2,1,He)
call MultiboardSetItemValueBJ(me,3,1,"TRIGSTR_4594")
call MultiboardSetItemValueBJ(me,4,1,"TRIGSTR_5892")
call MultiboardSetItemValueBJ(me,5,1,"TRIGSTR_9112")
call MultiboardSetItemWidthBJ(me,1,0,je)
call MultiboardSetItemWidthBJ(me,2,0,Je)
call MultiboardSetItemWidthBJ(me,3,0,4.)
call MultiboardSetItemWidthBJ(me,4,0,4.)
call MultiboardSetItemWidthBJ(me,5,0,2.5)call ForForce(Dx,function Rc)call MultiboardSetItemStyleBJ(me,1,0,true,true)call MultiboardSetItemStyleBJ(me,2,0,true,false)
call MultiboardSetItemStyleBJ(me,3,0,true,false)
call MultiboardSetItemStyleBJ(me,4,0,true,false)
call MultiboardSetItemStyleBJ(me,5,0,true,false)
call MultiboardSetItemStyleBJ(me,1,1,true,false)
call MultiboardDisplay(me,true)call MultiboardMinimize(me,false)call TriggerExecute(MV)call TriggerExecute(LV)call TriggerExecute(pV)endfunctionfunction Nc takes nothing returns booleanreturn(SV)and(PX==false)
endfunctionfunction cc takes nothing returns nothinglocal integer wB=CountUnitsInGroup(kV[1])local integer yB=CountUnitsInGroup(kV[2])if wB<=0 thencall LeaderboardSetPlayerItemLabelBJ(Player(8),Dv,"West")else
call LeaderboardSetPlayerItemLabelBJ(Player(8),Dv,("West, |c00FAD214"+I2S(wB)+"|r mobs"))endifif yB<=0 thencall LeaderboardSetPlayerItemLabelBJ(Player(9),Dv,"East")else
call LeaderboardSetPlayerItemLabelBJ(Player(9),Dv,("East, |c00FAD214"+I2S(yB)+"|r mobs"))endifif(wB<=0)and(yB<=0)and(Gv)and(SV)and(Ba==false)thencall TriggerExecute(UV)endifendfunctionfunction dc takes nothing returns booleanreturn(SV)and(PX)endfunctionfunction Gc takes nothing returns nothinglocal integer zB=CountUnitsInGroup(QX)local integer vc=CountUnitsInGroup(qX)if zB==0 thencall LeaderboardSetPlayerItemLabelBJ(Player(8),Dv,"West")else
call LeaderboardSetPlayerItemLabelBJ(Player(8),Dv,("West, |c0000FF00"+I2S(zB)+"|r alive"))endifif vc==0 thencall LeaderboardSetPlayerItemLabelBJ(Player(9),Dv,"East")else
call LeaderboardSetPlayerItemLabelBJ(Player(9),Dv,("East, |c0000FF00"+I2S(vc)+"|r alive"))endifif(zB==0)or(vc==0)thencall TriggerExecute(EE)set SV=false
endifendfunctionfunction Hc takes nothing returns booleanreturn(IsPlayerAlly(GetEnumPlayer(),Player(8)))endfunctionfunction jc takes nothing returns booleanreturn(IsPlayerAlly(GetEnumPlayer(),Player(9)))endfunctionfunction Jc takes nothing returns booleanreturn(do)and(PX==false)
endfunctionfunction kc takes nothing returns nothingif(Jc())then
if(Hc())then
if IsPlayerAlly(ki,Player(8))or IsPlayerObserver(ki)then
call MultiboardSetItemValueBJ(me,3,Ir[(1+GetPlayerId(GetEnumPlayer()))],I2S(ox[(1+GetPlayerId(GetEnumPlayer()))]))else
call MultiboardSetItemValueBJ(me,3,Ir[(1+GetPlayerId(GetEnumPlayer()))],"TRIGSTR_4578")endifendifif(jc())then
if IsPlayerAlly(ki,Player(9))or IsPlayerObserver(ki)then
call MultiboardSetItemValueBJ(me,3,Ir[(1+GetPlayerId(GetEnumPlayer()))],I2S(ox[(1+GetPlayerId(GetEnumPlayer()))]))else
call MultiboardSetItemValueBJ(me,3,Ir[(1+GetPlayerId(GetEnumPlayer()))],"TRIGSTR_4578")endifendifelse
call MultiboardSetItemValueBJ(me,3,Ir[(1+GetPlayerId(GetEnumPlayer()))],I2S(ox[(1+GetPlayerId(GetEnumPlayer()))]))endifendfunctionfunction Kc takes nothing returns nothingcall ForForce(Dx,function kc)endfunctionfunction lc takes nothing returns nothingset LV=CreateTrigger()call TriggerAddAction(LV,function Kc)endfunctionfunction Lc takes nothing returns booleanreturn(IsPlayerAlly(GetEnumPlayer(),Player(8)))endfunctionfunction mc takes nothing returns booleanreturn(IsPlayerAlly(GetEnumPlayer(),Player(9)))endfunctionfunction Mc takes nothing returns booleanreturn(do)and(PX==false)
endfunctionfunction pc takes nothing returns nothingif(Mc())then
if(Lc())then
if IsPlayerAlly(ki,Player(8))or IsPlayerObserver(ki)then
call MultiboardSetItemValueBJ(me,2,Ir[(1+GetPlayerId(GetEnumPlayer()))],I2S((mo[(1+GetPlayerId(GetEnumPlayer()))]+Tr[(1+GetPlayerId(GetEnumPlayer()))])))else
call MultiboardSetItemValueBJ(me,2,Ir[(1+GetPlayerId(GetEnumPlayer()))],"TRIGSTR_5889")endifendifif(mc())then
if IsPlayerAlly(ki,Player(9))or IsPlayerObserver(ki)then
call MultiboardSetItemValueBJ(me,2,Ir[(1+GetPlayerId(GetEnumPlayer()))],I2S((mo[(1+GetPlayerId(GetEnumPlayer()))]+Tr[(1+GetPlayerId(GetEnumPlayer()))])))else
call MultiboardSetItemValueBJ(me,2,Ir[(1+GetPlayerId(GetEnumPlayer()))],"TRIGSTR_5890")endifendifelse
call MultiboardSetItemValueBJ(me,2,Ir[(1+GetPlayerId(GetEnumPlayer()))],I2S((mo[(1+GetPlayerId(GetEnumPlayer()))]+Tr[(1+GetPlayerId(GetEnumPlayer()))])))endifendfunctionfunction Pc takes nothing returns nothingcall ForForce(Dx,function pc)call TriggerExecute(PR)call TriggerExecute(pR)endfunctionfunction Qc takes nothing returns booleanreturn(IsPlayerAlly(GetEnumPlayer(),Player(8)))endfunctionfunction sc takes nothing returns booleanreturn(IsPlayerAlly(GetEnumPlayer(),Player(9)))endfunctionfunction Sc takes nothing returns booleanreturn(do)and(PX==false)
endfunctionfunction tc takes nothing returns nothingset xv=(GetPlayerTechCountSimple('R003',GetEnumPlayer())+GetPlayerTechCountSimple('R00H',GetEnumPlayer()))set be=(I2S(ro[(1+GetPlayerId(GetEnumPlayer()))])+("/"+I2S(xv)))
if(Sc())then
if(Qc())then
if IsPlayerAlly(ki,Player(8))or IsPlayerObserver(ki)then
call MultiboardSetItemValueBJ(me,4,Ir[(1+GetPlayerId(GetEnumPlayer()))],be)else
call MultiboardSetItemValueBJ(me,4,Ir[(1+GetPlayerId(GetEnumPlayer()))],"TRIGSTR_5893")endifendifif(sc())then
if IsPlayerAlly(ki,Player(9))or IsPlayerObserver(ki)then
call MultiboardSetItemValueBJ(me,4,Ir[(1+GetPlayerId(GetEnumPlayer()))],be)else
call MultiboardSetItemValueBJ(me,4,Ir[(1+GetPlayerId(GetEnumPlayer()))],"TRIGSTR_5894")endifendifelse
call MultiboardSetItemValueBJ(me,4,Ir[(1+GetPlayerId(GetEnumPlayer()))],be)endifendfunctionfunction Tc takes nothing returns nothingcall ForForce(Dx,function tc)endfunctionfunction Uc takes nothing returns booleanreturn(rv>0)
endfunctionfunction wc takes nothing returns booleanreturn(IsPlayerAlly(GetEnumPlayer(),Player(8)))endfunctionfunction Wc takes nothing returns booleanreturn(IsPlayerAlly(GetEnumPlayer(),Player(9)))endfunctionfunction yc takes nothing returns booleanreturn(do)and(PX==false)
endfunctionfunction Yc takes nothing returns nothingif(Uc())then
set xv=((yi[(1+GetPlayerId(GetEnumPlayer()))]/ rv)-gX[(1+GetPlayerId(GetEnumPlayer()))])
else
set xv=(yi[(1+GetPlayerId(GetEnumPlayer()))]/ 1)
endifset be=I2S(xv)if(yc())then
if(wc())then
if IsPlayerAlly(ki,Player(8))or IsPlayerObserver(ki)then
call MultiboardSetItemValueBJ(me,5,Ir[(1+GetPlayerId(GetEnumPlayer()))],be)else
call MultiboardSetItemValueBJ(me,5,Ir[(1+GetPlayerId(GetEnumPlayer()))],"TRIGSTR_9114")endifendifif(Wc())then
if IsPlayerAlly(ki,Player(9))or IsPlayerObserver(ki)then
call MultiboardSetItemValueBJ(me,5,Ir[(1+GetPlayerId(GetEnumPlayer()))],be)else
call MultiboardSetItemValueBJ(me,5,Ir[(1+GetPlayerId(GetEnumPlayer()))],"TRIGSTR_9115")endifendifelse
call MultiboardSetItemValueBJ(me,5,Ir[(1+GetPlayerId(GetEnumPlayer()))],be)endifendfunctionfunction zc takes nothing returns nothingcall ForForce(Dx,function Yc)endfunctionfunction vC takes nothing returns booleanreturn(Yi[(1+GetPlayerId(GetEnumPlayer()))]==0)endfunctionfunction eC takes nothing returns booleanreturn(IsPlayerAlly(GetEnumPlayer(),Player(8)))endfunctionfunction xC takes nothing returns booleanreturn(IsPlayerAlly(GetEnumPlayer(),Player(9)))endfunctionfunction oC takes nothing returns booleanreturn(do)and(PX==false)
endfunctionfunction rC takes nothing returns nothingif(vC())then
set zi[(1+GetPlayerId(GetEnumPlayer()))]=GetUnitName(w[(1+GetPlayerId(GetEnumPlayer()))])endifif(oC())then
if(eC())then
if IsPlayerAlly(ki,Player(8))or IsPlayerObserver(ki)then
call MultiboardSetItemIconBJ(me,1,Ir[(1+GetPlayerId(GetEnumPlayer()))],Eo[(1+GetPlayerId(GetEnumPlayer()))])
else
call MultiboardSetItemIconBJ(me,1,Ir[(1+GetPlayerId(GetEnumPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNSelectHeroOn.blp")endifendifif(xC())then
if IsPlayerAlly(ki,Player(9))or IsPlayerObserver(ki)then
call MultiboardSetItemIconBJ(me,1,Ir[(1+GetPlayerId(GetEnumPlayer()))],Eo[(1+GetPlayerId(GetEnumPlayer()))])
else
call MultiboardSetItemIconBJ(me,1,Ir[(1+GetPlayerId(GetEnumPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNSelectHeroOn.blp")endifendifelse
call MultiboardSetItemIconBJ(me,1,Ir[(1+GetPlayerId(GetEnumPlayer()))],Eo[(1+GetPlayerId(GetEnumPlayer()))])
endifendfunctionfunction iC takes nothing returns nothingcall TriggerExecute(qV)call ForForce(Dx,function rC)endfunctionfunction nC takes nothing returns booleanreturn(GetUnitTypeId(Av)=='u001')endfunctionfunction VC takes nothing returns booleanreturn(GetUnitTypeId(Av)=='u00C')endfunctionfunction EC takes nothing returns booleanreturn(GetUnitTypeId(Av)=='u000')endfunctionfunction XC takes nothing returns booleanreturn(GetUnitTypeId(Av)=='u003')endfunctionfunction OC takes nothing returns booleanreturn(GetUnitTypeId(Av)=='u002')endfunctionfunction RC takes nothing returns booleanreturn(GetUnitTypeId(Av)=='u00G')endfunctionfunction IC takes nothing returns booleanreturn(GetUnitTypeId(Av)=='u00H')endfunctionfunction AC takes nothing returns booleanreturn(GetUnitTypeId(Av)=='u00J')endfunctionfunction NC takes nothing returns booleanreturn(GetUnitTypeId(Av)=='u00I')endfunctionfunction bC takes nothing returns booleanreturn(GetUnitTypeId(Av)=='u00L')endfunctionfunction BC takes nothing returns booleanreturn(GetUnitTypeId(Av)=='u00O')endfunctionfunction cC takes nothing returns booleanreturn(GetUnitTypeId(Av)=='u00M')endfunctionfunction CC takes nothing returns booleanlocal integer rc=GetUnitTypeId(Av)return(rc=='u00T' or rc=='u014' or rc=='u015' or rc=='u016' or rc=='u017' or rc=='u018')
endfunctionfunction dC takes nothing returns booleanreturn(GetUnitTypeId(Av)=='u00K')endfunctionfunction DC takes nothing returns booleanreturn(GetUnitTypeId(Av)=='u00P')endfunctionfunction fC takes nothing returns booleanreturn(GetUnitTypeId(Av)=='u00U')endfunctionfunction FC takes nothing returns booleanreturn(GetUnitTypeId(Av)=='u00Z')endfunctionfunction gC takes nothing returns nothingset Av=w[(1+GetPlayerId(GetEnumPlayer()))]set Eo[(1+GetPlayerId(GetEnumPlayer()))]="ReplaceableTextures\\CommandButtons\\BTNSelectHeroOn.blp"if(nC())then
set Vv="ReplaceableTextures\\CommandButtons\\BTNHeroTaurenChieftain.blp"
set Eo[(1+GetPlayerId(GetEnumPlayer()))]=Vvendifif(VC())then
set Vv="ReplaceableTextures\\CommandButtons\\BTNWisp.blp"set Eo[(1+GetPlayerId(GetEnumPlayer()))]=Vvendifif(EC())then
set Vv="ReplaceableTextures\\CommandButtons\\BTNHeroBloodElfPrince.blp"set Eo[(1+GetPlayerId(GetEnumPlayer()))]=Vvendifif(XC())then
set Vv="ReplaceableTextures\\CommandButtons\\BTNKeeperOfTheGrove.blp"set Eo[(1+GetPlayerId(GetEnumPlayer()))]=Vvendifif(OC())then
set Vv="ReplaceableTextures\\CommandButtons\\BTNHeroDreadLord.blp"set Eo[(1+GetPlayerId(GetEnumPlayer()))]=Vvendifif(RC())then
set Vv="ReplaceableTextures\\CommandButtons\\BTNGhostOfKelThuzad.blp"set Eo[(1+GetPlayerId(GetEnumPlayer()))]=Vvendifif(IC())then
set Vv="ReplaceableTextures\\CommandButtons\\BTNPandarenBrewmaster.blp"set Eo[(1+GetPlayerId(GetEnumPlayer()))]=Vvendifif(AC())then
set Vv="ReplaceableTextures\\CommandButtons\\BTNNagaSeaWitch.blp"set Eo[(1+GetPlayerId(GetEnumPlayer()))]=Vvendifif(NC())then
set Vv="ReplaceableTextures\\CommandButtons\\BTNTornado.blp"
set Eo[(1+GetPlayerId(GetEnumPlayer()))]=Vvendifif(bC())then
set Vv="ReplaceableTextures\\CommandButtons\\BTNPriestessOfTheMoon.blp"set Eo[(1+GetPlayerId(GetEnumPlayer()))]=Vvendifif(BC())then
set Vv="ReplaceableTextures\\CommandButtons\\BTNHeroPaladin.blp"
set Eo[(1+GetPlayerId(GetEnumPlayer()))]=Vvendifif(cC())then
set Vv="ReplaceableTextures\\CommandButtons\\BTNHeroTinker.blp"set Eo[(1+GetPlayerId(GetEnumPlayer()))]=Vvendifif(CC())then
set Vv="ReplaceableTextures\\CommandButtons\\BTNMedivh.blp"set Eo[(1+GetPlayerId(GetEnumPlayer()))]=Vvendifif(dC())then
set Vv="ReplaceableTextures\\CommandButtons\\BTNPenguin.blp"
set Eo[(1+GetPlayerId(GetEnumPlayer()))]=Vvendifif(DC())then
set Vv="ReplaceableTextures\\CommandButtons\\BTNVillagerKid.blp"
set Eo[(1+GetPlayerId(GetEnumPlayer()))]=Vvendifif(fC())then
set Vv="ReplaceableTextures\\CommandButtons\\BTNChaosBlademaster.blp"set Eo[(1+GetPlayerId(GetEnumPlayer()))]=Vvendifif(FC())then
set Vv="ReplaceableTextures\\CommandButtons\\BTNLichVersion2.blp"set Eo[(1+GetPlayerId(GetEnumPlayer()))]=Vvendifendfunctionfunction GC takes nothing returns nothingcall ForForce(Dx,function gC)endfunctionfunction HC takes nothing returns nothingcall SetPlayerTechResearchedSwap('R004',$F,Player($D))call SetPlayerTechResearchedSwap('R004',$F,Player($E))set Av=gAcall SetUnitVertexColorBJ(Av,100.,100.,100.,35.)
call TriggerRegisterUnitStateEvent(XI,Av,UNIT_STATE_LIFE,LESS_THAN,1000.)call DisableTrigger(GetTriggeringTrigger())endfunctionfunction lC takes nothing returns nothingset xv=(1+GetPlayerId(GetEnumPlayer()))set Ie=(I2R(mo[xv])/ S2R(fr[rv]))set Ao=(I2R(gX[xv])/ 150.)set Ie=(Ie-Ao)if(pX==false)thenset Jr[bj_forLoopAIndex]=.0else
if(Ie>=1.)thenset Jr[xv]=1.elseif(Ie<1.)and(Ie>=.1)then
set Jr[xv]=Ieelse
set Jr[xv]=.0endifendifendfunctionfunction LC takes nothing returns nothingcall ForForce(Dx,function lC)endfunctionfunction qC takes nothing returns booleanreturn(Ba==false)and(Bx==false)endfunctionfunction QC takes nothing returns nothingcall TimerDialogSetTimeColor(fv,$FF,0,0,$FF)
if PX==false thenset rv=(rv+1)set Gv=trueif rv==$A thenset bj_forLoopAIndex=0loop
exitwhen bj_forLoopAIndex>7call ReplaceUnitBJ(lo[bj_forLoopAIndex],'h05E',1)set lo[bj_forLoopAIndex]=bj_lastReplacedUnit
set bj_forLoopAIndex=bj_forLoopAIndex+1endloopendifcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,Z[rv])
call TriggerExecute(WV)call TriggerExecute(HE)call TriggerExecute(sV)call TriggerExecute(lE)call TriggerExecute(qR)call YA(1.)call TriggerExecute(hE)call YA(.5)call TriggerExecute(KE)call TriggerExecute(HX)call TriggerExecute(oE)call Eb()call YA(2)call TriggerExecute(mE)set SV=trueendifendfunctionfunction SC takes nothing returns booleanreturn GetBooleanAnd((IsPlayerAlly(GetFilterPlayer(),Player(8))),(IsPlayerInForce(GetFilterPlayer(),Dx)))endfunctionfunction tC takes nothing returns booleanreturn GetBooleanAnd((IsPlayerAlly(GetFilterPlayer(),Player(8))),(IsPlayerInForce(GetFilterPlayer(),Dx)))endfunctionfunction TC takes nothing returns booleanreturn(CountPlayersInForceBJ(fN(Condition(function tC)))>0)endfunctionfunction uC takes nothing returns booleanreturn GetBooleanAnd((IsPlayerAlly(GetFilterPlayer(),Player(9))),(IsPlayerInForce(GetFilterPlayer(),Dx)))endfunctionfunction UC takes nothing returns booleanreturn GetBooleanAnd((IsPlayerAlly(GetFilterPlayer(),Player(9))),(IsPlayerInForce(GetFilterPlayer(),Dx)))endfunctionfunction wC takes nothing returns booleanreturn(CountPlayersInForceBJ(fN(Condition(function UC)))>0)endfunctionfunction WC takes nothing returns booleanreturn(IsPlayerAlly(GetEnumPlayer(),Player(8)))endfunctionfunction yC takes nothing returns booleanreturn(GetFilterPlayer()==GetEnumPlayer())endfunctionfunction YC takes nothing returns booleanreturn(Hv>0)
endfunctionfunction zC takes nothing returns booleanreturn(rv==$A)or(rv==20)
endfunctionfunction ZC takes nothing returns booleanreturn(zC())
endfunctionfunction vd takes nothing returns booleanreturn(GetFilterPlayer()==GetEnumPlayer())endfunctionfunction ed takes nothing returns nothingif(WC())then
set Hv=xvelse
set Hv=hvendifcall AdjustPlayerStateBJ(Hv,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)set mr[(1+GetPlayerId(GetEnumPlayer()))]=(mr[(1+GetPlayerId(GetEnumPlayer()))]+Hv)if(YC())then
call DisplayTimedTextToForce(fN(Condition(function yC)),7.,("::: You received |cffFFcc00"+(I2S(Hv)+"|r gold from your King's kills. ")))
endifset Hv=Yv[rv]if(ZC())then
set Hv=(Hv*2)endifcall AdjustPlayerStateBJ(Hv,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)set mr[(1+GetPlayerId(GetEnumPlayer()))]=(mr[(1+GetPlayerId(GetEnumPlayer()))]+Hv)call DisplayTimedTextToForce(fN(Condition(function vd)),7.,("::: You received |cffFFcc00"+(I2S(Hv)+"|r gold for completing the level. ")))endfunctionfunction xd takes nothing returns booleanreturn(GetFilterPlayer()==GetEnumPlayer())endfunctionfunction od takes nothing returns nothingcall AdjustPlayerStateBJ(ox[(1+GetPlayerId(GetEnumPlayer()))],GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)set oo[(1+GetPlayerId(GetEnumPlayer()))]=(oo[(1+GetPlayerId(GetEnumPlayer()))]+ox[(1+GetPlayerId(GetEnumPlayer()))])
set mr[(1+GetPlayerId(GetEnumPlayer()))]=(mr[(1+GetPlayerId(GetEnumPlayer()))]+ox[(1+GetPlayerId(GetEnumPlayer()))])
call DisplayTimedTextToForce(fN(Condition(function xd)),7.,("::: You earned |cffFFcc00"+(I2S(ox[(1+GetPlayerId(GetEnumPlayer()))])+"|r gold from your income. ")))endfunctionfunction rd takes nothing returns booleanreturn(rv==16)endfunctionfunction ad takes nothing returns booleanreturn(rd())
endfunctionfunction nd takes nothing returns booleanreturn(rv==$A)or(rv==20)
endfunctionfunction Vd takes nothing returns booleanreturn(nd())
endfunctionfunction Ed takes nothing returns booleanreturn(rv==4)or(rv==$D)or(rv==19)or(rv==23)or(rv==27)endfunctionfunction Xd takes nothing returns booleanreturn(Ed())
endfunctionfunction Od takes nothing returns booleanreturn(Fi[$A])and(rv>=(3+6))
endfunctionfunction Rd takes nothing returns booleanreturn(ModuloInteger(rv,4)==0)endfunctionfunction Id takes nothing returns booleanreturn(PX==false)endfunctionfunction Ad takes nothing returns booleanreturn(Id())
endfunctionfunction Nd takes nothing returns nothingcall DisableTrigger(GetTriggeringTrigger())set Gv=false
set NO=false
set ur=false
set SV=false
set Li=false
call TriggerExecute(uV)call YA(1.)call TriggerExecute(kE)call TriggerExecute(YV)call TriggerExecute(wV)call TriggerExecute(HE)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,7.,"TRIGSTR_4255")
call PlaySoundBJ(Wn)
call YA(2.)if(TC())then
set xv=(GetPlayerState(Player(8),PLAYER_STATE_RESOURCE_GOLD)/ CountPlayersInForceBJ(fN(Condition(function SC))))
else
set xv=0
endifif(wC())then
set hv=(GetPlayerState(Player(9),PLAYER_STATE_RESOURCE_GOLD)/ CountPlayersInForceBJ(fN(Condition(function uC))))
else
set hv=0
endifcall ForForce(Dx,function ed)call ForForce(Dx,function od)call SetPlayerStateBJ(Player(8),PLAYER_STATE_RESOURCE_GOLD,0)call SetPlayerStateBJ(Player(9),PLAYER_STATE_RESOURCE_GOLD,0)call PlaySoundBJ(Zn)
if(ad())then
call EnableTrigger(zR)call TriggerExecute(zR)endifif(Vd())then
set PX=truecall TriggerExecute(PV)call TriggerExecute(mV)call TriggerExecute(LV)call TriggerExecute(MV)call StartTimerBJ(nv,false,30.)call TimerDialogSetTitle(fv,"TRIGSTR_9145")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,7.,("::: You have |CFFFF0000"+("30|r seconds to prepare for Arena Battle")))else
call StartTimerBJ(nv,false,I2R(yv[(rv+1)]))call TimerDialogSetTitle(fv,("Level "+(I2S((rv+1))+" in")))call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,7.,("::: You have |CFFFF0000"+(I2S(yv[(rv+1)])+"|r seconds to prepare for the next level. ")))
endifcall TimerDialogSetTimeColor(fv,$FA,$D2,20,$FF)call EnableTrigger(GetTriggeringTrigger())if(Xd())then
call TriggerExecute(tO)call TriggerExecute(uO)endifif(Od())then
call EnableTrigger(jV)endifif(Rd())then
call TriggerExecute(sO)endifcall ConditionalTriggerExecute(VI)call TriggerExecute(xE)if(Ad())then
call YA(2.)call TriggerExecute(bI)endifif m and rv>=$A then
call eB(true)set m=falseendifendfunctionfunction Bd takes nothing returns nothingcall TriggerExecute(LX)endfunctionfunction Cd takes nothing returns booleanreturn(rv==bx)or(Bx)
endfunctionfunction dd takes nothing returns booleanreturn(kx)endfunctionfunction Dd takes nothing returns booleanreturn(Bx==false)endfunctionfunction fd takes nothing returns booleanreturn(Cd())
endfunctionfunction Fd takes nothing returns nothingif(fd())then
if(Dd())then
call TriggerExecute(ZV)else
if(dd())then
call TriggerExecute(eE)endifendifelse
call TriggerExecute(TV)call ConditionalTriggerExecute(jE)endifendfunctionfunction Gd takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction hd takes nothing returns nothingcall CreateNUnitsAtLoc(1,'u004',GetEnumPlayer(),kv,bj_UNIT_FACING)call GroupAddUnit(ie,bj_lastCreatedUnit)
endfunctionfunction Hd takes nothing returns nothingcall ShowUnitHide(GetEnumUnit())
endfunctionfunction jd takes nothing returns nothingcall ForGroupBJ(ie,function Gd)call GroupClear(ie)call ForForce(Dx,function hd)call ForGroupBJ(Ex,function Hd)call GroupClear(Go)endfunctionfunction kd takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction Kd takes nothing returns nothingcall CreateNUnitsAtLoc(1,'u00D',GetEnumPlayer(),kv,bj_UNIT_FACING)call GroupAddUnit(ie,bj_lastCreatedUnit)
endfunctionfunction ld takes nothing returns nothingcall ShowUnitShow(GetEnumUnit())
endfunctionfunction Ld takes nothing returns nothingcall UnitSetConstructionProgress(GetEnumUnit(),99)endfunctionfunction md takes nothing returns nothingcall UnitSetUpgradeProgress(GetEnumUnit(),99)endfunctionfunction Md takes nothing returns nothingcall ForGroupBJ(ie,function kd)call GroupClear(ie)call ForForce(Dx,function Kd)call ForGroupBJ(Ex,function ld)call ForGroupBJ(vX,function Ld)call ForGroupBJ(AX,function md)endfunctionfunction Pd takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_GIANT))!=null)!=nullendfunctionfunction qd takes nothing returns nothingif((GetEnumUnit()!=EA)and(GetEnumUnit()!=vA))thencall RemoveUnit(GetEnumUnit())endifendfunctionfunction Qd takes nothing returns nothingset Nv=iN(bj_mapInitialPlayableArea,Condition(function Pd))call ForGroup(Nv,function qd)call DestroyGroup(Nv)endfunctionfunction sd takes nothing returns nothingset yV=CreateTrigger()call TriggerAddAction(yV,function Qd)endfunctionfunction Sd takes nothing returns booleanreturn(GetUnitTypeId(GetEnumUnit())=='h076')
endfunctionfunction td takes nothing returns nothingcall ShowUnitShow(GetEnumUnit())
call UnitResetCooldown(GetEnumUnit())call SetUnitManaPercentBJ(GetEnumUnit(),'d')
if(Sd())then
call GroupRemoveUnit(ha,GetEnumUnit())call ReplaceUnitBJ(GetEnumUnit(),'h06I',1)set Av=bj_lastReplacedUnitcall GroupAddUnit(ha,Av)
call SetUnitVertexColorBJ(Av,'d','d','d',50.)call SetUnitTimeScalePercent(Av,.0)call ResetUnitAnimation(Av)endifendfunctionfunction Td takes nothing returns nothingcall GroupClear(ex)call ForGroupBJ(ha,function td)endfunctionfunction Ud takes nothing returns nothingcall SetUnitMoveSpeed(GetEnumUnit(),GetUnitDefaultMoveSpeed(GetEnumUnit()))endfunctionfunction wd takes nothing returns nothingset Nv=AN(z[rv])
call ForGroupBJ(Nv,function Ud)call DestroyGroup(Nv)endfunctionfunction yd takes nothing returns booleanreturn GetBooleanAnd((IsPlayerAlly(GetFilterPlayer(),Player(8))),(IsPlayerInForce(GetFilterPlayer(),Dx)))endfunctionfunction Yd takes nothing returns booleanreturn GetBooleanAnd((IsPlayerAlly(GetFilterPlayer(),Player(8))),(IsPlayerInForce(GetFilterPlayer(),Dx)))endfunctionfunction zd takes nothing returns booleanreturn(CountPlayersInForceBJ(fN(Condition(function Yd)))>0)endfunctionfunction Zd takes nothing returns booleanreturn GetBooleanAnd((IsPlayerAlly(GetFilterPlayer(),Player(9))),(IsPlayerInForce(GetFilterPlayer(),Dx)))endfunctionfunction vD takes nothing returns booleanreturn GetBooleanAnd((IsPlayerAlly(GetFilterPlayer(),Player(9))),(IsPlayerInForce(GetFilterPlayer(),Dx)))endfunctionfunction eD takes nothing returns booleanreturn(CountPlayersInForceBJ(fN(Condition(function vD)))>0)endfunctionfunction xD takes nothing returns booleanreturn(IsPlayerAlly(GetEnumPlayer(),Player(8)))endfunctionfunction oD takes nothing returns booleanreturn(GetFilterPlayer()==GetEnumPlayer())endfunctionfunction rD takes nothing returns booleanreturn(Hv>0)
endfunctionfunction iD takes nothing returns booleanreturn(GetFilterPlayer()==GetEnumPlayer())endfunctionfunction aD takes nothing returns nothingif(xD())then
set Hv=xvelse
set Hv=hvendifcall AdjustPlayerStateBJ(Hv,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)set mr[(1+GetPlayerId(GetEnumPlayer()))]=(mr[(1+GetPlayerId(GetEnumPlayer()))]+Hv)if(rD())then
call DisplayTimedTextToForce(fN(Condition(function oD)),7.,("You received |cffFFcc00"+(I2S(Hv)+"|r gold from your King's kills.")))endifset Hv=(Yv[30]*2)call AdjustPlayerStateBJ(Hv,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)set mr[(1+GetPlayerId(GetEnumPlayer()))]=(mr[(1+GetPlayerId(GetEnumPlayer()))]+Hv)call DisplayTimedTextToForce(fN(Condition(function iD)),7.,("You received |cffFFcc00"+(I2S(Hv)+"|r gold for completing the level.")))call FogModifierStart(ni[(1+GetPlayerId(GetEnumPlayer()))])call FogModifierStart(Vi[(1+GetPlayerId(GetEnumPlayer()))])call FogModifierStart(ai[(1+GetPlayerId(GetEnumPlayer()))])endfunctionfunction nD takes nothing returns booleanreturn(GetFilterPlayer()==GetEnumPlayer())endfunctionfunction VD takes nothing returns nothingset oo[(1+GetPlayerId(GetEnumPlayer()))]=(oo[(1+GetPlayerId(GetEnumPlayer()))]+ox[(1+GetPlayerId(GetEnumPlayer()))])
call AdjustPlayerStateBJ(ox[(1+GetPlayerId(GetEnumPlayer()))],GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)set mr[(1+GetPlayerId(GetEnumPlayer()))]=(mr[(1+GetPlayerId(GetEnumPlayer()))]+ox[(1+GetPlayerId(GetEnumPlayer()))])
call DisplayTimedTextToForce(fN(Condition(function nD)),7.,("You earned |cffFFcc00"+(I2S(ox[(1+GetPlayerId(GetEnumPlayer()))])+"|r gold from your income.")))endfunctionfunction ED takes nothing returns booleanreturn(GetUnitTypeId(w[xv])=='u00P')
endfunctionfunction XD takes nothing returns nothingif(ED())then
call UnitRemoveAbility(w[xv],'A09V')
call UnitRemoveAbility(w[xv],'A09W')
call UnitRemoveAbility(w[xv],'A09U')
call UnitRemoveAbility(w[xv],'A09P')
call UnitAddAbility(w[xv],'A09E')call UnitAddAbility(w[xv],'A09F')call UnitAddAbility(w[xv],'A09G')call UnitAddAbility(w[xv],'A09H')endifendfunctionfunction OD takes nothing returns nothingset do=false
call TriggerExecute(mV)call TriggerExecute(LV)call TriggerExecute(MV)set Bx=trueset rv=(rv+1)set Gv=false
set NO=false
set Li=false
set SV=false
call YA(2)call TriggerExecute(kE)call TriggerExecute(YV)call TriggerExecute(wV)if(zd())then
set xv=(GetPlayerState(Player(8),PLAYER_STATE_RESOURCE_GOLD)/ CountPlayersInForceBJ(fN(Condition(function yd))))
else
set xv=0
endifif(eD())then
set hv=(GetPlayerState(Player(9),PLAYER_STATE_RESOURCE_GOLD)/ CountPlayersInForceBJ(fN(Condition(function Zd))))
else
set hv=0
endifcall ForForce(Dx,function aD)call ForForce(Dx,function VD)call PlaySoundBJ(wn)
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30,"TRIGSTR_5525")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30,"TRIGSTR_5526")
call StartTimerBJ(nv,false,60.)call TimerDialogSetTitle(fv,"TRIGSTR_4262")call TimerDialogSetTimeColor(fv,$FA,$D2,20,$FF)call ForForce(Dx,function XD)call EnableTrigger(vE)call EnableTrigger(eE)call DestroyTrigger(tV)endfunctionfunction ID takes nothing returns booleanreturn(Bx)and(Ba==false)
endfunctionfunction AD takes nothing returns booleanreturn(Gv==false)endfunctionfunction ND takes nothing returns nothingcall ConditionalTriggerExecute(jE)call DisableTrigger(jE)call DestroyTrigger(jE)set kx=trueif(AD())then
call TriggerExecute(WV)call YA(1.)set Gv=truecall TriggerExecute(hE)else
call TriggerExecute(HX)endifcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,Z[(bx+1)])
set rv=31call Eb()call YA(1.)call TriggerExecute(mE)set SV=trueset gr=((gr*5.)/ 6.)
call StartTimerBJ(nv,false,(gr+10.))
call TimerDialogSetTitle(fv,"TRIGSTR_6403")call TimerDialogSetTimeColor(fv,$FA,$D2,20,$FF)endfunctionfunction BD takes nothing returns booleanreturn(IsUnitInGroup(GetFilterUnit(),Ha))endfunctionfunction cD takes nothing returns nothinglocal unit u=GetEnumUnit()local integer id=GetUnitUserData(u)call SetUnitPositionLoc(u,rx)call IssueImmediateOrderById(u,$D0004)call GroupRemoveUnit(XV[id],u)call GroupRemoveUnit(tX[id],u)set u=nullendfunctionfunction CD takes nothing returns booleanreturn(IsUnitInGroup(GetFilterUnit(),Ha))endfunctionfunction dD takes nothing returns nothinglocal unit u=GetEnumUnit()local integer id=GetUnitUserData(u)call SetUnitPositionLoc(u,ix)call IssueImmediateOrderById(u,$D0004)call GroupRemoveUnit(XV[id],u)call GroupRemoveUnit(tX[id],u)set u=nullendfunctionfunction DD takes nothing returns nothingset kx=false
call PlaySoundBJ(Wn)
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,12.,"TRIGSTR_6404")call YA(1.)call ForGroupBJ(bN(Player(8),Condition(function BD)),function cD)call ForGroupBJ(bN(Player(9),Condition(function CD)),function dD)endfunctionfunction FD takes nothing returns booleanreturn(PX)endfunctionfunction gD takes nothing returns booleanreturn(rv>=30)endfunctionfunction GD takes nothing returns booleanreturn((mo[(1+GetPlayerId(GetEnumPlayer()))]+Tr[(1+GetPlayerId(GetEnumPlayer()))])<hv)endfunctionfunction hD takes nothing returns booleanreturn((mo[(1+GetPlayerId(GetEnumPlayer()))]+Tr[(1+GetPlayerId(GetEnumPlayer()))])<(hv-'d'))
endfunctionfunction HD takes nothing returns booleanreturn((mo[(1+GetPlayerId(GetEnumPlayer()))]+Tr[(1+GetPlayerId(GetEnumPlayer()))])<(hv-300))
endfunctionfunction jD takes nothing returns booleanreturn((mo[(1+GetPlayerId(GetEnumPlayer()))]+Tr[(1+GetPlayerId(GetEnumPlayer()))])<(hv-500))
endfunctionfunction JD takes nothing returns booleanreturn(GetUnitTypeId(w[xv])=='u00P')
endfunctionfunction kD takes nothing returns nothingset xv=(1+GetPlayerId(GetEnumPlayer()))if(JD())then
if(jD())then
call UnitRemoveAbility(w[xv],'A09V')
call UnitRemoveAbility(w[xv],'A09W')
call UnitRemoveAbility(w[xv],'A09U')
call UnitAddAbility(w[xv],'A09E')call UnitAddAbility(w[xv],'A09F')call UnitAddAbility(w[xv],'A09G')call UnitRemoveAbility(w[xv],'A09P')
call UnitAddAbility(w[xv],'A09H')else
if(HD())then
call UnitRemoveAbility(w[xv],'A09V')
call UnitRemoveAbility(w[xv],'A09W')
call UnitRemoveAbility(w[xv],'A09U')
call UnitAddAbility(w[xv],'A09E')call UnitAddAbility(w[xv],'A09F')call UnitAddAbility(w[xv],'A09G')else
if(hD())then
call UnitRemoveAbility(w[xv],'A09V')
call UnitRemoveAbility(w[xv],'A09W')
call UnitAddAbility(w[xv],'A09E')call UnitAddAbility(w[xv],'A09F')else
if(GD())then
call UnitRemoveAbility(w[xv],'A09V')
call UnitAddAbility(w[xv],'A09E')endifendifendifendifendifendfunctionfunction KD takes nothing returns nothingset hv=(S2I(fr[(rv+1)])+(rv*rv))
if(FD())then
set hv=(S2I(fr[(rv+0)])+(rv*rv))
endifif(gD())then
set hv=$3E80
endifcall ForForce(Dx,function kD)endfunctionfunction LD takes nothing returns booleanreturn(GetUnitTypeId(w[xv])=='u00P')
endfunctionfunction mD takes nothing returns nothingset xv=(1+GetPlayerId(GetEnumPlayer()))if(LD())then
call UnitRemoveAbility(w[xv],'A09E')
call UnitRemoveAbility(w[xv],'A09F')
call UnitRemoveAbility(w[xv],'A09G')
call UnitRemoveAbility(w[xv],'A09H')
call UnitAddAbility(w[xv],'A09V')call UnitAddAbility(w[xv],'A09W')call UnitAddAbility(w[xv],'A09U')call UnitAddAbility(w[xv],'A09P')endifendfunctionfunction MD takes nothing returns nothingcall ForForce(Dx,function mD)endfunctionfunction PD takes nothing returns booleanreturn(PX)endfunctionfunction qD takes nothing returns nothingcall FogModifierStart(Vi[(1+GetPlayerId(GetEnumPlayer()))])endfunctionfunction QD takes nothing returns nothingcall PlayMusicBJ(xV)
call TriggerExecute(PV)call TriggerExecute(mV)call TriggerExecute(LV)call TriggerExecute(MV)call TriggerExecute(pV)call ForForce(Dx,function qD)call TriggerExecute(oE)call TriggerExecute(WV)set Gv=trueset go=truecall YA(1.)call TriggerExecute(iE)call YA(1.)call TriggerExecute(aE)call YA(1.)call TriggerExecute(nE)call ConditionalTriggerExecute(OE)set SV=truecall ConditionalTriggerExecute(lV)call ConditionalTriggerExecute(VE)endfunctionfunction uD takes nothing returns nothingset Av=GetEnumUnit()
set Ev=GetUnitLoc(Av)call ShowUnitHide(Av)if(IsPlayerAlly(GetOwningPlayer(Av),Player(8)))thenset gv=Player(8)
else
set gv=Player(9)
endifset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=Jvloop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif(GetUnitTypeId(Av)==cv[bj_forLoopAIndex])thenset xv=bj_forLoopAIndexendifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopset Bv=CreateUnit(gv,Cv[xv],GetLocationX(Ev),GetLocationY(Ev),bj_UNIT_FACING)call SetUnitColor(Bv,GetPlayerColor(GetOwningPlayer(Av)))call SetUnitUserData(Bv,(1+GetPlayerId(GetOwningPlayer(Av))))if(IsPlayerAlly(GetOwningPlayer(Bv),Player(8)))thencall GroupAddUnit(QX,Bv)
else
call GroupAddUnit(qX,Bv)
endifcall UnitResetCooldown(Bv)call SetUnitMoveSpeed(Bv,.0)
call SetUnitPathing(Bv,true)
call IssuePointOrderByIdLoc(Bv,$D0012,GetPlayerStartLocationLoc(GetOwningPlayer(Av)))call RemoveLocation(Ev)endfunctionfunction UD takes nothing returns nothingcall TriggerSleepAction(.5)call ForGroupBJ(ha,function uD)call TriggerExecute(HX)endfunctionfunction WD takes nothing returns nothingcall SetUnitMoveSpeed(w[(1+GetPlayerId(GetEnumPlayer()))],.0)set Ev=GetUnitLoc(w[(1+GetPlayerId(GetEnumPlayer()))])call SetUnitPositionLoc(w[(1+GetPlayerId(GetEnumPlayer()))],vi[(1+GetPlayerId(GetEnumPlayer()))])call AddSpecialEffectLocBJ(Ev,"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(Ev)set Ev=GetUnitLoc(w[(1+GetPlayerId(GetEnumPlayer()))])call AddSpecialEffectLocBJ(Ev,"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(Ev)endfunctionfunction yD takes nothing returns nothingcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),GetUnitLoc(w[(1+GetPlayerId(GetEnumPlayer()))]),1.)endfunctionfunction zD takes nothing returns nothinglocal unit ac=GetEnumUnit()local player p=GetOwningPlayer(ac)set Ev=GetUnitLoc(ac)call ShowUnitHide(ac)if(IsPlayerAlly(p,Player(8)))thenset jv=GetRectCenter(qn)
call CreateNUnitsAtLocFacingLocBJ(1,GetUnitTypeId(ac),Player(8),Ev,jv)call GroupAddUnit(QX,bj_lastCreatedUnit)
else
set jv=GetRectCenter(Qn)
call CreateNUnitsAtLocFacingLocBJ(1,GetUnitTypeId(ac),Player(9),Ev,jv)call GroupAddUnit(qX,bj_lastCreatedUnit)
endifcall SetUnitColor(bj_lastCreatedUnit,GetPlayerColor(p))call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000C,jv)call RemoveLocation(jv)call RemoveLocation(Ev)call IssueImmediateOrderById(bj_lastCreatedUnit,$D0019)set p=nullset ac=nullendfunctionfunction ZD takes nothing returns nothinglocal unit ac=GetEnumUnit()local location Acif IsUnitType(ac,UNIT_TYPE_MELEE_ATTACKER)thenset Ac=GetRandomLocInRect(Ki)else
set Ac=GetRandomLocInRect(li)endifset Ev=GetUnitLoc(ac)call SetUnitPositionLoc(ac,Ac)call AddSpecialEffectLocBJ(Ev,"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(Ac,"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)
call SetUnitMoveSpeed(ac,GetUnitDefaultMoveSpeed(ac))set jv=GetRectCenter(qn)
call IssuePointOrderByIdLoc(ac,$D000C,jv)call RemoveLocation(jv)call RemoveLocation(Ev)call RemoveLocation(Ac)call IssueImmediateOrderById(ac,$D0019)set ac=nullset Ac=nullendfunctionfunction vf takes nothing returns nothinglocal unit ac=GetEnumUnit()local location Acif IsUnitType(ac,UNIT_TYPE_MELEE_ATTACKER)thenset Ac=GetRandomLocInRect(mi)else
set Ac=GetRandomLocInRect(Pi)endifset Ev=GetUnitLoc(ac)call SetUnitPositionLoc(ac,Ac)call AddSpecialEffectLocBJ(Ev,"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(Ac,"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)
call SetUnitMoveSpeed(ac,GetUnitDefaultMoveSpeed(ac))set jv=GetRectCenter(Qn)
call IssuePointOrderByIdLoc(GetEnumUnit(),$D000C,jv)
call RemoveLocation(jv)call RemoveLocation(Ev)call RemoveLocation(Ac)call IssueImmediateOrderById(GetEnumUnit(),$D0019)set ac=nullset Ac=nullendfunctionfunction ef takes nothing returns nothingcall ForForce(Dx,function WD)call ForForce(Dx,function yD)call YA(.5)call ForGroupBJ(tr,function zD)call YA(.5)call ForGroupBJ(QX,function ZD)call YA(.5)call ForGroupBJ(qX,function vf)endfunctionfunction of takes nothing returns nothinglocal unit ac=GetEnumUnit()local location Acif IsUnitType(ac,UNIT_TYPE_MELEE_ATTACKER)thenset Ac=GetRandomLocInRect(Ki)else
set Ac=GetRandomLocInRect(li)endifcall GroupAddUnit(QX,ac)
call SetUnitOwner(ac,Player(8),false)call SetUnitPositionLoc(ac,Ac)call IssueImmediateOrderById(ac,$D0019)call RemoveLocation(Ac)set ac=nullset Ac=nullendfunctionfunction rf takes nothing returns nothinglocal unit ac=GetEnumUnit()local location Acif IsUnitType(ac,UNIT_TYPE_MELEE_ATTACKER)thenset Ac=GetRandomLocInRect(mi)else
set Ac=GetRandomLocInRect(Pi)endifcall GroupAddUnit(qX,ac)
call SetUnitOwner(ac,Player(9),false)call SetUnitPositionLoc(ac,Ac)call IssueImmediateOrderById(ac,$D0019)call RemoveLocation(Ac)set ac=nullset Ac=nullendfunctionfunction af takes nothing returns nothingset Nv=VN(rR,Player($E))
call ForGroupBJ(Nv,function of)call DestroyGroup(Nv)set Nv=VN(iR,Player($D))
call ForGroupBJ(Nv,function rf)call DestroyGroup(Nv)endfunctionfunction Vf takes nothing returns booleanreturn(SV)endfunctionfunction Ef takes nothing returns nothingcall SetUnitMoveSpeed(GetEnumUnit(),GetUnitDefaultMoveSpeed(GetEnumUnit()))set Ev=GetRectCenter(Qn)
call IssuePointOrderByIdLoc(GetEnumUnit(),$D000F,Ev)
call RemoveLocation(Ev)endfunctionfunction Xf takes nothing returns nothingcall SetUnitMoveSpeed(GetEnumUnit(),GetUnitDefaultMoveSpeed(GetEnumUnit()))set Ev=GetRectCenter(qn)
call IssuePointOrderByIdLoc(GetEnumUnit(),$D000F,Ev)
call RemoveLocation(Ev)endfunctionfunction Of takes nothing returns nothingcall YA(.5)call ClearTextMessagesBJ(bj_FORCE_ALL_PLAYERS)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,1.,(Le[1]+"GET READY FOR ARENA BATTLE!|r"))call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,1.,"TRIGSTR_7883")
call YA(1.)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,1.,"TRIGSTR_7884")
call YA(1.)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,1.,"TRIGSTR_7885")
call YA(1.)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,1.,"TRIGSTR_7886")
call YA(1.)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,1.,"TRIGSTR_7887")
call StopMusic(false)call PlaySoundBJ(rV)
call StopSoundBJ(rV,true)call YA(1.)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,1.,"TRIGSTR_7888")
set Li=truecall ForGroupBJ(qX,function Ef)call ForGroupBJ(QX,function Xf)call YA(1.)call PlayMusicBJ(iV)
call StopMusic(true)
call EnableTrigger(XE)endfunctionfunction If takes nothing returns nothingcall SetUnitMoveSpeed(w[(1+GetPlayerId(GetEnumPlayer()))],GetUnitDefaultMoveSpeed(w[(1+GetPlayerId(GetEnumPlayer()))]))call AdjustPlayerStateBJ((rv*5),GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)set mr[(1+GetPlayerId(GetEnumPlayer()))]=(mr[(1+GetPlayerId(GetEnumPlayer()))]+(rv*5))call IssuePointOrderByIdLoc(w[(1+GetPlayerId(GetEnumPlayer()))],$D0012,vi[((1+GetPlayerId(GetEnumPlayer()))-4)])
endfunctionfunction Nf takes nothing returns nothingcall SetUnitMoveSpeed(GetEnumUnit(),500.)set jv=GetRectCenter(Qn)
call IssuePointOrderByIdLoc(GetEnumUnit(),$D000F,Ev)
call RemoveLocation(Ev)call GroupAddUnit(ri,GetEnumUnit())endfunctionfunction bf takes nothing returns booleanreturn(IsPlayerAlly(GetEnumPlayer(),Player(9)))endfunctionfunction Bf takes nothing returns nothingcall SetUnitMoveSpeed(w[(1+GetPlayerId(GetEnumPlayer()))],GetUnitDefaultMoveSpeed(w[(1+GetPlayerId(GetEnumPlayer()))]))if(bf())then
call AdjustPlayerStateBJ((rv*$A),GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
set mr[(1+GetPlayerId(GetEnumPlayer()))]=(mr[(1+GetPlayerId(GetEnumPlayer()))]+(rv*$A))call IssuePointOrderByIdLoc(w[(1+GetPlayerId(GetEnumPlayer()))],$D0012,vi[((1+GetPlayerId(GetEnumPlayer()))-4)])
else
call SetUnitPositionLoc(w[(1+GetPlayerId(GetEnumPlayer()))],GetPlayerStartLocationLoc(GetEnumPlayer()))endifendfunctionfunction Cf takes nothing returns nothingcall SetUnitMoveSpeed(GetEnumUnit(),500.)set jv=GetRectCenter(qn)
call IssuePointOrderByIdLoc(GetEnumUnit(),$D0012,Ev)
call RemoveLocation(Ev)call GroupAddUnit(oi,GetEnumUnit())endfunctionfunction df takes nothing returns booleanreturn(IsPlayerAlly(GetEnumPlayer(),Player(8)))endfunctionfunction Df takes nothing returns nothingcall SetUnitMoveSpeed(w[(1+GetPlayerId(GetEnumPlayer()))],GetUnitDefaultMoveSpeed(w[(1+GetPlayerId(GetEnumPlayer()))]))if(df())then
call AdjustPlayerStateBJ((rv*$A),GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
set mr[(1+GetPlayerId(GetEnumPlayer()))]=(mr[(1+GetPlayerId(GetEnumPlayer()))]+(rv*$A))call IssuePointOrderByIdLoc(w[(1+GetPlayerId(GetEnumPlayer()))],$D0012,vi[((1+GetPlayerId(GetEnumPlayer()))+4)])
else
call SetUnitPositionLoc(w[(1+GetPlayerId(GetEnumPlayer()))],GetPlayerStartLocationLoc(GetEnumPlayer()))endifendfunctionfunction Ff takes nothing returns nothingcall FogModifierStop(ni[(1+GetPlayerId(GetEnumPlayer()))])call CreateFogModifierRectBJ(true,GetEnumPlayer(),FOG_OF_WAR_MASKED,In)call CreateFogModifierRectBJ(true,GetEnumPlayer(),FOG_OF_WAR_FOGGED,In)call FogModifierStop(Vi[(1+GetPlayerId(GetEnumPlayer()))])call CreateFogModifierRectBJ(true,GetEnumPlayer(),FOG_OF_WAR_MASKED,hn)call CreateFogModifierRectBJ(true,GetEnumPlayer(),FOG_OF_WAR_FOGGED,hn)endfunctionfunction gf takes nothing returns nothingcall FogModifierStop(ai[(1+GetPlayerId(GetEnumPlayer()))])call CreateFogModifierRectBJ(true,GetEnumPlayer(),FOG_OF_WAR_MASKED,Rn)call CreateFogModifierRectBJ(true,GetEnumPlayer(),FOG_OF_WAR_FOGGED,Rn)call FogModifierStop(Vi[(1+GetPlayerId(GetEnumPlayer()))])call CreateFogModifierRectBJ(true,GetEnumPlayer(),FOG_OF_WAR_MASKED,hn)call CreateFogModifierRectBJ(true,GetEnumPlayer(),FOG_OF_WAR_FOGGED,hn)endfunctionfunction Gf takes nothing returns booleanreturn(do)endfunctionfunction hf takes nothing returns nothingcall SetUnitPositionLoc(w[(1+GetPlayerId(GetEnumPlayer()))],GetPlayerStartLocationLoc(GetEnumPlayer()))call SetUnitMoveSpeed(w[(1+GetPlayerId(GetEnumPlayer()))],GetUnitDefaultMoveSpeed(w[(1+GetPlayerId(GetEnumPlayer()))]))call PanCameraToTimedLocForPlayer(GetEnumPlayer(),GetPlayerStartLocationLoc(GetEnumPlayer()),0)if(Gf())then
call ForForce(dN(Player(8)),function Ff)
call ForForce(dN(Player(9)),function gf)
endifendfunctionfunction Hf takes nothing returns nothingcall YA(2)call PlayMusicBJ(oV)
call StopMusic(true)
if(CountUnitsInGroup(qX)==0)and(CountUnitsInGroup(QX)!=0)thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,20.,"TRIGSTR_7889")call DisplayTimedTextToForce(dN(Player(8)),20.,("You received |cffFFcc00"+(I2S((rv*$A))+"|r gold from Arena Battle")))call ForGroupBJ(QX,function Cf)call ForForce(Dx,function Df)else
if(CountUnitsInGroup(QX)==0)and(CountUnitsInGroup(qX)!=0)thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,20.,"TRIGSTR_7895")call DisplayTimedTextToForce(dN(Player(9)),20.,("You received |cffFFcc00"+(I2S((rv*$A))+"|r gold from Arena Battle")))call ForGroupBJ(qX,function Nf)call ForForce(Dx,function Bf)else
if(CountUnitsInGroup(QX)==0)and(CountUnitsInGroup(qX)==0)thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,20.,"TRIGSTR_7919")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,20.,("You received |cffFFcc00"+(I2S((rv*5))+"|r gold from Arena Battle")))
call ForForce(Dx,function If)endifendifendifset Li=false
call DisableTrigger(XE)call EnableTrigger(RE)call TriggerExecute(YR)call YA(20.)
set Gv=false
set ur=false
set SV=false
call StopMusic(true)
call DisableTrigger(RE)call TriggerExecute(bE)call TriggerExecute(YV)call TriggerExecute(wV)call FogEnableOn()call FogMaskEnableOn()call ForForce(Dx,function hf)call LeaderboardSetPlayerItemLabelBJ(Player(8),Dv,"West")call LeaderboardSetPlayerItemLabelBJ(Player(9),Dv,"East")call StartTimerBJ(nv,false,30.)call TimerDialogSetTitle(fv,("Level "+(I2S((rv+1))+" in")))call TimerDialogSetTimeColor(fv,$FA,$D2,20,$FF)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,7.,("You have |CFFFF0000"+("30|r seconds to prepare for the next level.")))call StopMusic(false)set PX=false
set go=false
call TriggerExecute(BE)call TriggerExecute(PV)call TriggerExecute(mV)call TriggerExecute(LV)call TriggerExecute(MV)call TriggerExecute(pV)call YA(3.)call TriggerExecute(bI)endfunctionfunction bc takes nothing returns nothingcall IssuePointOrderById(GetEnumUnit(),$D000F,.0,2700.)endfunctionfunction Jf takes nothing returns booleanreturn(PX)endfunctionfunction kf takes nothing returns nothingcall ForGroup(qX,function bc)call ForGroup(QX,function bc)endfunctionfunction lf takes nothing returns booleanreturn(IsPlayerAlly(GetEnumPlayer(),Player(8)))endfunctionfunction Lf takes nothing returns nothingif(lf())then
set ei=(ei+1)else
set xi=(xi+1)endifendfunctionfunction sf takes nothing returns nothingset ei=0
set xi=0
call ForForce(Dx,function Lf)if(xi!=ei)thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,("|cffFF0000East vs West : "+(I2S(xi)+(" vs "+(I2S(ei)+"|r")))))if(ei>xi)thenset xv=(ei-xi)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,("|cffFFcc00EAST TEAM received FREE unit to help them. |r"))set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=xvloop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif(rv==$A or rv==20)then
set Ev=GetRandomLocInRect(Pi)call CreateNUnitsAtLoc(1,'H0D6',Player(9),Ev,bj_UNIT_FACING)
call GroupAddUnit(qX,bj_lastCreatedUnit)
call IssueImmediateOrderById(bj_lastCreatedUnit,$D0019)call RemoveLocation(Ev)if(rv==20)thenset Ev=GetRandomLocInRect(Pi)call CreateNUnitsAtLoc(1,'H0D6',Player(9),Ev,bj_UNIT_FACING)
call GroupAddUnit(qX,bj_lastCreatedUnit)
call IssueImmediateOrderById(bj_lastCreatedUnit,$D0019)call RemoveLocation(Ev)endifendifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopelse
set xv=(xi-ei)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,("|cffFFcc00WEST TEAM received FREE unit to help them. |r"))set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=xvloop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif(rv==$A or rv==20)then
set Ev=GetRandomLocInRect(li)call CreateNUnitsAtLoc(1,'H0D6',Player(8),Ev,bj_UNIT_FACING)
call GroupAddUnit(QX,bj_lastCreatedUnit)
call IssueImmediateOrderById(bj_lastCreatedUnit,$D0019)call RemoveLocation(Ev)if(rv==20)thenset Ev=GetRandomLocInRect(li)call CreateNUnitsAtLoc(1,'H0D6',Player(8),Ev,bj_UNIT_FACING)
call IssueImmediateOrderById(bj_lastCreatedUnit,$D0019)call GroupAddUnit(QX,bj_lastCreatedUnit)
call RemoveLocation(Ev)endifendifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopendifendifendfunctionfunction tf takes nothing returns booleanreturn(PX)and(SV==false)
endfunctionfunction Tf takes nothing returns nothingcall IssuePointOrderByIdLoc(GetEnumUnit(),$D000F,Ev)
endfunctionfunction uf takes nothing returns nothingcall IssuePointOrderByIdLoc(GetEnumUnit(),$D000F,Ev)
endfunctionfunction Uf takes nothing returns nothingset Ev=GetRectCenter(qn)
call ForGroupBJ(oi,function Tf)call RemoveLocation(Ev)set Ev=GetRectCenter(Qn)
call ForGroupBJ(ri,function uf)call RemoveLocation(Ev)endfunctionfunction Wf takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),ri))and(PX)endfunctionfunction yf takes nothing returns nothingset Ev=GetRectCenter(qn)
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D0012,Ev)call GroupRemoveUnit(ri,GetTriggerUnit())call GroupAddUnit(oi,GetTriggerUnit())call RemoveLocation(Ev)endfunctionfunction zf takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),oi))and(PX)endfunctionfunction Zf takes nothing returns nothingset Ev=GetRectCenter(qn)
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D0012,Ev)call GroupRemoveUnit(oi,GetTriggerUnit())call GroupAddUnit(ri,GetTriggerUnit())call RemoveLocation(Ev)endfunctionfunction eF takes nothing returns booleanreturn(((IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED))or(IsUnitType(GetTriggerUnit(),UNIT_TYPE_GIANT)))!=null)!=nullendfunctionfunction xF takes nothing returns booleanreturn(not(PX==false))and(eF())endfunctionfunction oF takes nothing returns nothingcall GroupAddUnit(Ha,GetTriggerUnit())if(GetUnitTypeId(GetTriggerUnit())=='n007')thenreturnendifif(GetOwningPlayer(GetTriggerUnit())==Player(8))then
call GroupAddUnit(QX,GetTriggerUnit())endifif(GetOwningPlayer(GetTriggerUnit())==Player(9))then
call GroupAddUnit(qX,GetTriggerUnit())endifendfunctionfunction iF takes nothing returns nothingif(GetEnumUnit()!=EA and GetEnumUnit()!=vA)thenif(IsUnitType(GetEnumUnit(),UNIT_TYPE_GIANT)or IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED))then
call RemoveUnit(GetEnumUnit())endifendifendfunctionfunction aF takes nothing returns nothingcall ForGroup(QX,function iF)call GroupClear(QX)call ForGroup(qX,function iF)call GroupClear(qX)endfunctionfunction VF takes nothing returns nothingcall ShowUnitShow(GetEnumUnit())
endfunctionfunction EF takes nothing returns nothingcall ConditionalTriggerExecute(xE)call ForGroupBJ(tr,function VF)endfunctionfunction OF takes nothing returns booleanreturn(Ba==false)endfunctionfunction RF takes nothing returns booleanreturn(Zx)endfunctionfunction IF takes nothing returns nothinglocal unit u=GetEnumUnit()if u!=vA and u!=EA thencall SetUnitTimeScalePercent(u,20)endifset u=nullendfunctionfunction AF takes nothing returns nothingcall CinematicFadeBJ(2,3.,"ReplaceableTextures\\CameraMasks\\DreamFilter_Mask.blp",0,0,0,0)if GetUnitTypeId(vA)=='h06H' thencall SetUnitAnimation(vA,"Spell Channel")else
call SetUnitAnimation(vA,"Stand Victory")endifcall CameraSetupApplyForPlayer(true,tn,GetEnumPlayer(),0)call CameraSetupApplyForPlayer(true,un,GetEnumPlayer(),10.)endfunctionfunction NF takes nothing returns nothingcall CinematicFadeBJ(2,3.,"ReplaceableTextures\\CameraMasks\\DreamFilter_Mask.blp",0,0,0,0)if GetUnitTypeId(EA)=='h06H' thencall SetUnitAnimation(EA,"Spell Channel")else
call SetUnitAnimation(EA,"Stand Victory")endifcall CameraSetupApplyForPlayer(true,Tn,GetEnumPlayer(),0)call CameraSetupApplyForPlayer(true,Un,GetEnumPlayer(),10.)endfunctionfunction bF takes nothing returns nothingcall DestroyTimerDialog(fv)call MultiboardDisplay(me,false)
call DestroyLeaderboard(Dv)call PlayMusicBJ(yn)
set Ba=trueset Gv=false
if(RF())then
set Fx=(Le[(1+GetPlayerId(Player(8)))]+GetPlayerName(Player(8)))
set Vo=Player(8)
else
set Fx=(Le[(1+GetPlayerId(Player(9)))]+GetPlayerName(Player(9)))
set Vo=Player(9)
endifcall PauseAllUnitsBJ(true)call SetUnitFacingTimed(vA,bj_UNIT_FACING,0)
call SetUnitFacingTimed(EA,bj_UNIT_FACING,0)
call CinematicModeBJ(true,bj_FORCE_ALL_PLAYERS)call TriggerExecute(fE)call ShowInterfaceForceOff(bj_FORCE_ALL_PLAYERS,1.)call ShowInterfaceForceOn(bj_FORCE_ALL_PLAYERS,1.)call SetUserControlForceOn(bj_FORCE_ALL_PLAYERS)
call ForGroupBJ(nN(bj_mapInitialPlayableArea),function IF)call ForForce(dN(Player(8)),function AF)
call ForForce(dN(Player(9)),function NF)
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60.,"TRIGSTR_4264")call YA(5.)call CinematicFadeBJ(1,1.,"ReplaceableTextures\\CameraMasks\\Black_mask.blp",0,0,0,0)call YA(1.)call TriggerExecute(GE)endfunctionfunction cF takes nothing returns booleanreturn(Ba==false)endfunctionfunction CF takes nothing returns nothinglocal unit u=GetEnumUnit()if u!=vA and u!=EA thencall SetUnitTimeScalePercent(u,20)endifset u=nullendfunctionfunction dF takes nothing returns nothingcall CinematicFadeBJ(2,3.,"ReplaceableTextures\\CameraMasks\\DiagonalSlash_mask.blp",0,0,0,0)call CameraSetupApplyForPlayer(true,tn,GetEnumPlayer(),0)call CameraSetupApplyForPlayer(true,un,GetEnumPlayer(),10.)endfunctionfunction DF takes nothing returns nothingcall CinematicFadeBJ(2,3.,"ReplaceableTextures\\CameraMasks\\DreamFilter_Mask.blp",0,0,0,0)if GetUnitTypeId(EA)=='h06H' thencall SetUnitAnimation(EA,"Spell Channel")else
call SetUnitAnimation(EA,"Stand Victory")endifcall CameraSetupApplyForPlayer(true,Tn,GetEnumPlayer(),0)call CameraSetupApplyForPlayer(true,Un,GetEnumPlayer(),10.)endfunctionfunction fF takes nothing returns nothingset Vo=Player(9)
call TriggerExecute(OV)call DestroyTimerDialog(fv)call MultiboardDisplay(me,false)
call DestroyLeaderboard(Dv)call PlayMusicBJ(yn)
set Ba=trueset Gv=false
set Bx=false
set Fx=(Le[(1+GetPlayerId(Player(9)))]+GetPlayerName(Player(9)))
call PauseAllUnitsBJ(true)call SetUnitFacingTimed(vA,bj_UNIT_FACING,0)
call SetUnitFacingTimed(EA,bj_UNIT_FACING,0)
call CinematicModeBJ(true,bj_FORCE_ALL_PLAYERS)call DisplayTimedTextToForce(dN(Player(8)),60.,"TRIGSTR_4265")call DisplayTimedTextToForce(dN(Player(9)),60.,"TRIGSTR_4264")call TriggerExecute(DE)call ShowInterfaceForceOff(bj_FORCE_ALL_PLAYERS,1.)call ShowInterfaceForceOn(bj_FORCE_ALL_PLAYERS,1.)call SetUserControlForceOn(bj_FORCE_ALL_PLAYERS)
call ForGroupBJ(nN(bj_mapInitialPlayableArea),function CF)call ForForce(dN(Player(8)),function dF)
call ForForce(dN(Player(9)),function DF)
call YA(5.)call CinematicFadeBJ(1,1.,"ReplaceableTextures\\CameraMasks\\Black_mask.blp",0,0,0,0)call YA(1.)call TriggerExecute(GE)endfunctionfunction gF takes nothing returns booleanreturn(Ba==false)endfunctionfunction GF takes nothing returns nothinglocal unit u=GetEnumUnit()if u!=vA and u!=EA thencall SetUnitTimeScalePercent(u,20)endifset u=nullendfunctionfunction hF takes nothing returns nothingcall CinematicFadeBJ(2,3.,"ReplaceableTextures\\CameraMasks\\DreamFilter_Mask.blp",0,0,0,0)if GetUnitTypeId(vA)=='h06H' thencall SetUnitAnimation(vA,"Spell Channel")else
call SetUnitAnimation(vA,"Stand Victory")endifcall CameraSetupApplyForPlayer(true,tn,GetEnumPlayer(),0)call CameraSetupApplyForPlayer(true,un,GetEnumPlayer(),11.)endfunctionfunction HF takes nothing returns nothingcall CinematicFadeBJ(2,3.,"ReplaceableTextures\\CameraMasks\\DiagonalSlash_mask.blp",0,0,0,0)call CameraSetupApplyForPlayer(true,Tn,GetEnumPlayer(),0)call CameraSetupApplyForPlayer(true,Un,GetEnumPlayer(),11.)endfunctionfunction jF takes nothing returns nothingset Vo=Player(8)
call TriggerExecute(OV)call DestroyTimerDialog(fv)call MultiboardDisplay(me,false)
call DestroyLeaderboard(Dv)call PlayMusicBJ(yn)
set Ba=trueset Gv=false
set Bx=false
set Fx=(Le[(1+GetPlayerId(Player(8)))]+GetPlayerName(Player(8)))
call PauseAllUnitsBJ(true)call SetUnitFacingTimed(vA,bj_UNIT_FACING,0)
call SetUnitFacingTimed(EA,bj_UNIT_FACING,0)
call CinematicModeBJ(true,bj_FORCE_ALL_PLAYERS)call DisplayTimedTextToForce(dN(Player(8)),60.,"TRIGSTR_4264")call DisplayTimedTextToForce(dN(Player(9)),60.,"TRIGSTR_4265")call TriggerExecute(DE)call ShowInterfaceForceOff(bj_FORCE_ALL_PLAYERS,1.)call ShowInterfaceForceOn(bj_FORCE_ALL_PLAYERS,1.)call SetUserControlForceOn(bj_FORCE_ALL_PLAYERS)
call ForGroupBJ(nN(bj_mapInitialPlayableArea),function GF)call ForForce(dN(Player(8)),function hF)
call ForForce(dN(Player(9)),function HF)
call YA(5.)call CinematicFadeBJ(1,1.,"ReplaceableTextures\\CameraMasks\\Black_mask.blp",0,0,0,0)call YA(1.)call TriggerExecute(GE)endfunctionfunction kF takes nothing returns booleanreturn(GetPlayerName(GetTriggerPlayer())=="Lisk")or(GetPlayerName(GetTriggerPlayer())=="WorldEdit")endfunctionfunction KF takes nothing returns booleanreturn(kF())
endfunctionfunction lF takes nothing returns booleanreturn(GetPlayerState(GetEnumPlayer(),PLAYER_STATE_LUMBER_GATHERED)>GetPlayerState(Ox,PLAYER_STATE_LUMBER_GATHERED))
endfunctionfunction LF takes nothing returns booleanreturn(ox[(1+GetPlayerId(GetEnumPlayer()))]>ox[(1+GetPlayerId(Ax))])
endfunctionfunction mF takes nothing returns booleanreturn(ba[(1+GetPlayerId(GetEnumPlayer()))]>ba[(1+GetPlayerId(Rx))])
endfunctionfunction MF takes nothing returns booleanreturn(Nx[(1+GetPlayerId(GetEnumPlayer()))]>Nx[(1+GetPlayerId(Ix))])
endfunctionfunction pF takes nothing returns booleanreturn(mo[(1+GetPlayerId(GetEnumPlayer()))]>mo[(1+GetPlayerId(sr))])
endfunctionfunction PF takes nothing returns booleanreturn(gX[(1+GetPlayerId(GetEnumPlayer()))]>gX[(1+GetPlayerId(Sr))])
endfunctionfunction qF takes nothing returns nothingif(lF())then
set Ox=GetEnumPlayer()endifif(LF())then
set Ax=GetEnumPlayer()endifif(mF())then
set Rx=GetEnumPlayer()endifif(MF())then
set Ix=GetEnumPlayer()endifif(pF())then
set sr=GetEnumPlayer()endifif(PF())then
set Sr=GetEnumPlayer()endifendfunctionfunction QF takes nothing returns nothingcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60.,"TRIGSTR_3300")set Ox=Player(0)
set Ax=Player(0)
set Rx=Player(0)
set Ix=Player(0)
set sr=Player(0)
call ForForce(bj_FORCE_ALL_PLAYERS,function qF)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60.,("Highest Fighter Value: "+(W[(1+GetPlayerId(sr))]+(GetPlayerName(sr)+("|r with |cff33AA33"+(I2S(mo[(1+GetPlayerId(sr))])+"|r"))))))call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60.,("Highest Income: "+(W[(1+GetPlayerId(Ax))]+(GetPlayerName(Ax)+("|r with |cff33AA33"+(I2S(ox[(1+GetPlayerId(Ax))])+"|r"))))))call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60.,("Most Lumber Harvested: "+(W[(1+GetPlayerId(Ox))]+(GetPlayerName(Ox)+("|r with |cff33AA33"+(I2S(GetPlayerState(Ox,PLAYER_STATE_LUMBER_GATHERED))+"|r"))))))call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60.,("Most Kills: "+(W[(1+GetPlayerId(Rx))]+(GetPlayerName(Rx)+("|r with |cff33AA33"+(I2S(ba[(1+GetPlayerId(Rx))])+"|r"))))))call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60.,("Most Leaked: "+(W[(1+GetPlayerId(Sr))]+(GetPlayerName(Sr)+("|r with |cff33AA33"+(I2S(gX[(1+GetPlayerId(Sr))])+"|r"))))))
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60.,"TRIGSTR_3300")call YA(2.)call TriggerExecute(fE)endfunctionfunction SF takes nothing returns booleanreturn(rv>30)endfunctionfunction tF takes nothing returns booleanreturn(IsPlayerInForce(Player(-1+(bj_forLoopBIndex)),Cx))and(Ro==false)endfunctionfunction TF takes nothing returns booleanreturn(Vo==Player(8))endfunctionfunction uF takes nothing returns nothingset vo=(CountPlayersInForceBJ(Cx)+1)
call CreateMultiboardBJ(vo,20,MultiboardGetTitleText(me))set fx=bj_lastCreatedMultiboardcall MultiboardSetItemWidthBJ(fx,0,0,9.)
call MultiboardSetItemStyleBJ(fx,0,0,true,false)
set eo="|cff9FC8F8"set xv=2
call MultiboardSetItemValueBJ(fx,1,xv,(eo+("Score|r")))set xv=(xv+1)call MultiboardSetItemValueBJ(fx,1,xv,(eo+("Kills|r")))set xv=(xv+1)call MultiboardSetItemValueBJ(fx,1,xv,(eo+("Gold From Kills|r")))set xv=(xv+1)call MultiboardSetItemValueBJ(fx,1,xv,(eo+("Current Gold|r")))set xv=(xv+1)call MultiboardSetItemValueBJ(fx,1,xv,(eo+("Current Income|r")))
set xv=(xv+1)call MultiboardSetItemValueBJ(fx,1,xv,(eo+("Gold From Inc.|r")))
set xv=(xv+1)call MultiboardSetItemValueBJ(fx,1,xv,(eo+("Current Lumber|r")))
set xv=(xv+1)call MultiboardSetItemValueBJ(fx,1,xv,(eo+("Total Lumber|r")))set xv=(xv+1)call MultiboardSetItemValueBJ(fx,1,xv,(eo+("Fighters Value|r")))
set xv=(xv+1)call MultiboardSetItemValueBJ(fx,1,xv,(eo+("Leaks|r")))set xv=(xv+1)call MultiboardSetItemValueBJ(fx,1,xv,(eo+("Leaks Caught|r")))set xv=(xv+1)call MultiboardSetItemValueBJ(fx,1,xv,(eo+("Workers|r")))set xv=(xv+1)call MultiboardSetItemValueBJ(fx,1,xv,(eo+("Summons Sent|r")))set xv=(xv+1)call MultiboardSetItemValueBJ(fx,1,xv,(eo+("Upgrades|r")))set xv=(xv+1)call MultiboardSetItemValueBJ(fx,1,xv,(eo+("Food Used (Max)|r")))set xv=(xv+1)call MultiboardSetItemValueBJ(fx,1,xv,(eo+("Left At|r")))set xv=(xv+1)call MultiboardSetItemValueBJ(fx,1,xv,(eo+("Winner|r")))
set xv=(xv+2)call MultiboardSetItemValueBJ(fx,1,xv,(eo+("Game Length|r")))set xv=1
set bj_forLoopAIndex=2set bj_forLoopAIndexEnd=voloop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall MultiboardSetItemStyleBJ(fx,bj_forLoopAIndex,1,true,true)set Ro=false
set bj_forLoopBIndex=xvset bj_forLoopBIndexEnd=8loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEndif(tF())then
call MultiboardSetItemValueBJ(fx,bj_forLoopAIndex,1,(Le[bj_forLoopBIndex]+(GetPlayerName(Player(-1+(bj_forLoopBIndex)))+"|r")))call MultiboardSetItemIconBJ(fx,bj_forLoopAIndex,1,Eo[bj_forLoopBIndex])
set hv=2
if(SF())then
call MultiboardSetItemValueBJ(fx,bj_forLoopAIndex,hv,I2S(((yi[bj_forLoopBIndex]/ 30)-gX[bj_forLoopBIndex])))
else
call MultiboardSetItemValueBJ(fx,bj_forLoopAIndex,hv,I2S(((yi[bj_forLoopBIndex]/(rv-1))-gX[bj_forLoopBIndex])))endifset hv=(hv+1)call MultiboardSetItemValueBJ(fx,bj_forLoopAIndex,hv,I2S(ba[bj_forLoopBIndex]))set hv=(hv+1)call MultiboardSetItemValueBJ(fx,bj_forLoopAIndex,hv,I2S(Lo[bj_forLoopBIndex]))set hv=(hv+1)call MultiboardSetItemValueBJ(fx,bj_forLoopAIndex,hv,I2S(GetPlayerState(Player(-1+(bj_forLoopBIndex)),PLAYER_STATE_RESOURCE_GOLD)))set hv=(hv+1)call MultiboardSetItemValueBJ(fx,bj_forLoopAIndex,hv,I2S(ox[bj_forLoopBIndex]))call MultiboardSetItemValueBJ(fx,bj_forLoopAIndex,(hv+1),I2S(oo[bj_forLoopBIndex]))set hv=(hv+2)call MultiboardSetItemValueBJ(fx,bj_forLoopAIndex,hv,I2S(GetPlayerState(Player(-1+(bj_forLoopBIndex)),PLAYER_STATE_RESOURCE_LUMBER)))set hv=(hv+1)call MultiboardSetItemValueBJ(fx,bj_forLoopAIndex,hv,I2S(GetPlayerState(Player(-1+(bj_forLoopBIndex)),PLAYER_STATE_LUMBER_GATHERED)))set hv=(hv+1)call MultiboardSetItemValueBJ(fx,bj_forLoopAIndex,hv,I2S(mo[bj_forLoopBIndex]))set hv=(hv+1)call MultiboardSetItemValueBJ(fx,bj_forLoopAIndex,hv,I2S(gX[bj_forLoopBIndex]))set hv=(hv+1)call MultiboardSetItemValueBJ(fx,bj_forLoopAIndex,hv,I2S(GX[bj_forLoopBIndex]))set hv=(hv+1)call MultiboardSetItemValueBJ(fx,bj_forLoopAIndex,hv,((I2S(ro[bj_forLoopBIndex])+"/")+I2S((GetPlayerTechCountSimple('R003',Player(-1+(bj_forLoopBIndex)))+GetPlayerTechCountSimple('R00H',Player(-1+(bj_forLoopBIndex)))))))
set hv=(hv+1)call MultiboardSetItemValueBJ(fx,bj_forLoopAIndex,hv,I2S(Nx[bj_forLoopBIndex]))set hv=(hv+1)call MultiboardSetItemValueBJ(fx,bj_forLoopAIndex,hv,I2S(Qo[bj_forLoopBIndex]))set hv=(hv+1)call MultiboardSetItemValueBJ(fx,bj_forLoopAIndex,hv,I2S(Xo[bj_forLoopBIndex]))set hv=(hv+1)call MultiboardSetItemValueBJ(fx,bj_forLoopAIndex,hv,io[bj_forLoopBIndex])set xv=(bj_forLoopBIndex+1)set Ro=trueendifset bj_forLoopBIndex=bj_forLoopBIndex+1endloopset bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall MultiboardSetItemValueBJ(fx,2,(MultiboardGetRowCount(fx)-2),Fx)
if(TF())then
call MultiboardSetItemValueBJ(fx,2,(MultiboardGetRowCount(fx)-1),(I2S(R2I(GetUnitStateSwap(UNIT_STATE_LIFE,vA)))+" hp left"))else
call MultiboardSetItemValueBJ(fx,2,(MultiboardGetRowCount(fx)-1),(I2S(R2I(GetUnitStateSwap(UNIT_STATE_LIFE,EA)))+" hp left"))endifcall MultiboardSetItemValueBJ(fx,2,MultiboardGetRowCount(fx),(Qe+(" (Level "+(I2S(rv)+")"))))call MultiboardDisplay(fx,true)call MultiboardMinimize(fx,false)endfunctionfunction wF takes nothing returns nothingset xv=0
set xv=(xv+1)set Fe[xv]='A022'set xv=(xv+1)set Fe[xv]='A01T'set xv=(xv+1)set Fe[xv]='A021'set xv=(xv+1)set Fe[xv]='A01W'set xv=(xv+1)set Fe[xv]='A01U'set xv=(xv+1)set Fe[xv]='S001'set xv=(xv+1)set Fe[xv]='A01Z'set fe=xvset Fx=(Le[(1+GetPlayerId(Player(8)))]+GetPlayerName(Player(8)))
set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=8loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset io[bj_forLoopAIndex]="Here"set Eo[bj_forLoopAIndex]="ReplaceableTextures\\CommandButtons\\BTNSelectHeroOn.blp"set bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall DestroyTrigger(FE)endfunctionfunction og takes nothing returns booleanreturn(Ba)endfunctionfunction rg takes nothing returns nothingcall EndGame(true)endfunctionfunction ig takes nothing returns nothingcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,1.,(Le[1]+"game will disconnect in 30 seconds."))call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,1.,(Le[5]+"30"))call YA(5.)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,1.,(Le[5]+"25"))call YA(5.)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,1.,(Le[5]+"20"))call YA(5.)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,1.,(Le[5]+"15"))call YA(5.)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,1.,(Le[5]+"10"))call YA(1.)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,1.,(Le[1]+"9"))call YA(1.)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,1.,(Le[1]+"8"))call YA(1.)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,1.,(Le[1]+"7"))call YA(1.)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,1.,(Le[1]+"6"))call YA(1.)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,1.,(Le[1]+"5"))call YA(1.)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,1.,(Le[1]+"4"))call YA(1.)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,1.,(Le[1]+"3"))call YA(1.)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,1.,(Le[1]+"2"))call YA(1.)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,1.,(Le[1]+"1"))call YA(1.)call ForForce(Dx,function rg)endfunctionfunction ng takes nothing returns nothinglocal unit u=GetEnumUnit()local unit u2local location p=GetUnitLoc(u)local player id=GetOwningPlayer(u)call ShowUnit(u,false)if(IsPlayerAlly(id,Player(8)))thenset gv=Player(8)
else
set gv=Player(9)
endifset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=Jvloop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif(GetUnitTypeId(u)==cv[bj_forLoopAIndex])thenset xv=bj_forLoopAIndexendifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopset u2=CreateUnitAtLoc(gv,Cv[xv],p,AngleBetweenPoints(p,Wx[(GetPlayerId(id)+1)]))call SetUnitColor(u2,GetPlayerColor(id))
call SetUnitUserData(u2,(GetPlayerId(id)+1))
call GroupAddUnit(Ha,u2)
call GroupAddUnit(tX[(GetPlayerId(id)+1)],u2)call UnitResetCooldown(u2)call RemoveLocation(p)set p=nullset u=nullset u2=nullendfunctionfunction Vg takes nothing returns nothingcall ForGroup(ha,function ng)call Hb()endfunctionfunction Xg takes nothing returns nothingset mo[(1+GetPlayerId(GetEnumPlayer()))]=0set Tr[(1+GetPlayerId(GetEnumPlayer()))]=0endfunctionfunction Og takes nothing returns nothingset mo[(1+GetPlayerId(GetOwningPlayer(GetEnumUnit())))]=(mo[(1+GetPlayerId(GetOwningPlayer(GetEnumUnit())))]+GetUnitPointValue(GetEnumUnit()))endfunctionfunction Rg takes nothing returns nothinglocal unit u=GetEnumUnit()local integer id=GetUnitUserData(u)set Tr[id]=(Tr[id]+GetUnitPointValue(u))
set u=nullendfunctionfunction Ig takes nothing returns nothingcall ForForce(Dx,function Xg)call ForGroupBJ(ha,function Og)call ForGroupBJ(tr,function Rg)call TriggerExecute(mV)endfunctionfunction Ng takes nothing returns nothinglocal integer id=GetPlayerId(GetEnumPlayer())+1local integer i=0local integer bg=rvlocal real r1=.0
local real r2=.0
if(bg>30)thenset bg=30endifset r1=(I2R(mo[id])/ S2R(fr[bg]))set i='d'+(5-Yi[id])*$Aif(i<'d')thenset i='d'endifif(i>$96)thenset i=$96endifset r1=r1*I2R(i)
set r2=(I2R(ox[id])/ I2R(Yv[bg]))set r2=r2*100.set yi[id]=yi[id]+R2I(r1)+R2I(r2)endfunctionfunction Bg takes nothing returns nothingcall ForForce(Dx,function Ng)call TriggerExecute(pV)endfunctionfunction Dg takes nothing returns nothingif(GetEnumUnit()!=EA and GetEnumUnit()!=vA)thenif(IsUnitType(GetEnumUnit(),UNIT_TYPE_GIANT)or IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED))then
call RemoveUnit(GetEnumUnit())endifendifendfunctionfunction fg takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction Fg takes nothing returns booleanreturn(GetUnitTypeId(GetFilterUnit())=='u006')endfunctionfunction gg takes nothing returns nothingcall ForGroup(Ha,function Dg)call GroupClear(Ha)call ForGroup(tr,function Dg)call GroupClear(tr)set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=8loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall GroupClear(XV[bj_forLoopAIndex])call GroupClear(tX[bj_forLoopAIndex])set bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall GroupClear(nO)call GroupClear(AO)call GroupClear(qX)call GroupClear(QX)call GroupEnumUnitsInRect(Nv,bj_mapInitialPlayableArea,Condition(function Fg))call ForGroup(Nv,function fg)call DestroyGroup(Nv)endfunctionfunction hg takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_GIANT))!=null)!=nullendfunctionfunction Hg takes nothing returns booleanreturn(GetUnitTypeId(GetEnumUnit())=='h066')or(GetUnitTypeId(GetEnumUnit())=='h067')or(GetUnitTypeId(GetEnumUnit())=='h068')or(GetUnitTypeId(GetEnumUnit())=='h0D3')
endfunctionfunction jg takes nothing returns booleanreturn(Hg())
endfunctionfunction Jg takes nothing returns booleanreturn(GetUnitTypeId(GetEnumUnit())=='h06G')
endfunctionfunction kg takes nothing returns nothingif(jg())then
call SetUnitVertexColorBJ(GetEnumUnit(),100.,100.,100.,35.)endifif(Jg())then
call SetUnitVertexColorBJ(GetEnumUnit(),100.,100.,100.,35.)endifendfunctionfunction Kg takes nothing returns nothingset Nv=iN(bj_mapInitialPlayableArea,Condition(function hg))call ForGroupBJ(Nv,function kg)call DestroyGroup(Nv)endfunctionfunction Lg takes nothing returns booleanreturn(rv>=$A)and(lr==false)and(Lr==false)endfunctionfunction mg takes nothing returns booleanreturn(rv>=$F)and(Lr==false)
endfunctionfunction Mg takes nothing returns booleanreturn(GetUnitTypeId(hr[bj_forLoopAIndex])!='h0B0')endfunctionfunction pg takes nothing returns booleanreturn(Lr)endfunctionfunction Pg takes nothing returns nothingif(mg())then
set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=8loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall ReplaceUnitBJ(hr[bj_forLoopAIndex],'h0B0',1)set hr[bj_forLoopAIndex]=bj_lastReplacedUnit
set Lr=trueset bj_forLoopAIndex=bj_forLoopAIndex+1endloopelse
if(Lg())then
set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=8loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall ReplaceUnitBJ(hr[bj_forLoopAIndex],'h0AZ',1)set hr[bj_forLoopAIndex]=bj_lastReplacedUnit
set lr=trueset bj_forLoopAIndex=bj_forLoopAIndex+1endloopendifendifif(pg())then
set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=8loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif(Mg())then
call ReplaceUnitBJ(hr[bj_forLoopAIndex],'h0B0',1)set hr[bj_forLoopAIndex]=bj_lastReplacedUnit
endifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopendifendfunctionfunction tg takes nothing returns booleanreturn GetBooleanAnd((GetPlayerSlotState(GetFilterPlayer())==PLAYER_SLOT_STATE_PLAYING),(GetBooleanAnd((IsPlayerAlly(GetFilterPlayer(),Player(9))),(GetFilterPlayer()!=Player(9)))))
endfunctionfunction Tg takes nothing returns nothingset Hv=(Hv+1)set Ux[Hv]=GetEnumPlayer()endfunctionfunction ug takes nothing returns booleanreturn GetBooleanAnd((GetPlayerSlotState(GetFilterPlayer())==PLAYER_SLOT_STATE_PLAYING),(GetBooleanAnd((IsPlayerAlly(GetFilterPlayer(),Player(8))),(GetFilterPlayer()!=Player(8)))))
endfunctionfunction Ug takes nothing returns nothingset Wv=(Wv+1)set wx[Wv]=GetEnumPlayer()endfunctionfunction wg takes nothing returns booleanreturn(Zx==false)endfunctionfunction Wg takes nothing returns booleanreturn(ne==false)endfunctionfunction zg takes nothing returns nothinglocal unit u=GetEnumUnit()local integer id=GetPlayerId(Ux[ux])
local integer Bc=(ModuloInteger(id/2,2)+1)*16call SetUnitUserData(u,Bc)call SetUnitPositionLoc(u,Wx[(1+id)])call GroupAddUnit(EV,u)call GroupAddUnit(kV[2],u)call GroupAddUnit(eO[(1+id)],u)call IssuePointOrderByIdLoc(u,$D000F,re[(1+id)])
if(ux==Hv)thenset ux=1
else
set ux=(ux+1)endifset u=nullendfunctionfunction vG takes nothing returns nothinglocal unit u=GetEnumUnit()local integer id=GetPlayerId(wx[Ae])
local integer Bc=(ModuloInteger(id/2,2)+1)*16call SetUnitUserData(u,Bc)call SetUnitPositionLoc(u,Wx[(1+id)])call GroupAddUnit(EV,u)call GroupAddUnit(kV[1],u)call GroupAddUnit(eO[(1+id)],u)call IssuePointOrderByIdLoc(u,$D000F,re[(1+id)])
if(Ae==Wv)thenset Ae=1
else
set Ae=(Ae+1)endifset u=nullendfunctionfunction eG takes nothing returns nothingif(yx)thenset Ux[1]=Player(4)set Ux[2]=Player(5)set Ux[3]=Player(6)set Ux[4]=Player(7)set wx[1]=Player(0)set wx[2]=Player(1)set wx[3]=Player(2)set wx[4]=Player(3)set Hv=4
set Wv=4
else
set Hv=0
set Wv=0
call ForForce(fN(Condition(function tg)),function Tg)call ForForce(fN(Condition(function ug)),function Ug)if(wg())then
set wx[1]=Player(0)set wx[2]=Player(1)set wx[3]=Player(2)set wx[4]=Player(3)set Wv=4
endifif(Wg())then
set Ux[1]=Player(4)set Ux[2]=Player(5)set Ux[3]=Player(6)set Ux[4]=Player(7)set Hv=4
endifendifset ux=GetRandomInt(1,Hv)set Ae=GetRandomInt(1,Wv)set Nv=VN(rR,Player($E))
call ForGroupBJ(Nv,function zg)call DestroyGroup(Nv)set Nv=VN(iR,Player($D))
call ForGroupBJ(Nv,function vG)call DestroyGroup(Nv)endfunctionfunction oG takes nothing returns booleanreturn(Zx)and(ne==false)
endfunctionfunction rG takes nothing returns nothingset Ev=GetRandomLocInRect(Ja)call CreateNUnitsAtLoc(1,GetUnitTypeId(GetEnteringUnit()),Player($D),Ev,bj_UNIT_FACING)call RemoveLocation(Ev)if not IsUnitType(GetEnteringUnit(),UNIT_TYPE_PEON)thencall UnitRemoveType(bj_lastCreatedUnit,UNIT_TYPE_PEON)endifif GetUnitTypeId(GetEnteringUnit())=='h05A' then
call IssueImmediateOrderById(bj_lastCreatedUnit,$D00D1)endifendfunctionfunction aG takes nothing returns booleanreturn(Zx==false)and(ne)
endfunctionfunction nG takes nothing returns nothingset Ev=GetRandomLocInRect(ja)call CreateNUnitsAtLoc(1,GetUnitTypeId(GetEnteringUnit()),Player($E),Ev,bj_UNIT_FACING)call RemoveLocation(Ev)if not IsUnitType(GetEnteringUnit(),UNIT_TYPE_PEON)thencall UnitRemoveType(bj_lastCreatedUnit,UNIT_TYPE_PEON)endifif GetUnitTypeId(GetEnteringUnit())=='h05A' then
call IssueImmediateOrderById(bj_lastCreatedUnit,$D00D1)endifendfunctionfunction EG takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_ANCIENT))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_UNDEAD)==false))!=nullendfunctionfunction OG takes nothing returns nothinglocal unit u=GetTriggerUnit()if(GetUnitTypeId(w[(1+GetPlayerId(GetOwningPlayer(u)))])!='u00I')thencall GroupAddUnit(ex,u)endifcall GroupRemoveUnit(vX,u)call TriggerExecute(HE)set u=nullendfunctionfunction IG takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_ANCIENT))!=null
endfunctionfunction AG takes nothing returns nothingcall GroupRemoveUnit(AX,GetTriggerUnit())call TriggerExecute(HE)endfunctionfunction bG takes nothing returns booleanreturn(IsUnitType(GetConstructingStructure(),UNIT_TYPE_ANCIENT))!=nullendfunctionfunction CG takes nothing returns nothinglocal integer id
set Av=GetConstructingStructure()set id=GetUnitTypeId(Av)
call GroupAddUnit(ha,Av)
call GroupAddUnit(vX,Av)
call SetUnitVertexColorBJ(Av,'d','d','d',50.)if(id=='h07D')or(id=='h07E')or(id=='h07G')or(id=='h07F')or(id=='h07H')or(id=='h07I')then
call SetUnitVertexColorBJ(Av,'d','d','d',100.)else
call SetUnitTimeScalePercent(Av,.0)endifcall ResetUnitAnimation(Av)call TriggerExecute(HE)endfunctionfunction DG takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_ANCIENT))!=null
endfunctionfunction FG takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='h020')endfunctionfunction gG takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='h062')or(GetUnitTypeId(GetTriggerUnit())=='h05Q')or(GetUnitTypeId(GetTriggerUnit())=='h05T')endfunctionfunction GG takes nothing returns booleanreturn(gG())
endfunctionfunction hG takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='h060')endfunctionfunction HG takes nothing returns nothingset Av=GetTriggerUnit()call SetUnitVertexColorBJ(Av,'d','d','d',50.)call SetUnitTimeScalePercent(Av,.0)call ResetUnitAnimation(Av)call TriggerExecute(HE)if(IsUnitInGroup(Av,AX))then
call GroupRemoveUnit(AX,Av)else
call GroupAddUnit(AX,Av)
endifif(FG())then
call SetUnitVertexColorBJ(Av,.0,.0,.0,50.)endifif(GG())then
call SetUnitVertexColorBJ(Av,100.,100.,100.,65.)
endifif(hG())then
call SetUnitVertexColorBJ(Av,100.,100.,100.,65.)
endifendfunctionfunction JG takes nothing returns booleanreturn(IsUnitType(GetCancelledStructure(),UNIT_TYPE_ANCIENT))!=nullendfunctionfunction kG takes nothing returns nothingset Av=GetCancelledStructure()call GroupRemoveUnit(ha,Av)call GroupRemoveUnit(vX,Av)call TriggerExecute(HE)endfunctionfunction lG takes nothing returns booleanreturn(((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(GetOwningPlayer(GetTriggerUnit())==GetTriggerPlayer()))!=null)!=nullendfunctionfunction LG takes nothing returns nothingcall GroupAddUnit(iv[(1+GetPlayerId(GetTriggerPlayer()))],GetTriggerUnit())endfunctionfunction MG takes nothing returns booleanreturn(IsUnitInGroup(GetTriggerUnit(),iv[(1+GetPlayerId(GetTriggerPlayer()))]))endfunctionfunction pG takes nothing returns nothingcall GroupRemoveUnit(iv[(1+GetPlayerId(GetTriggerPlayer()))],GetTriggerUnit())endfunctionfunction qG takes nothing returns booleanreturn(((GetOwningPlayer(GetLeavingUnit())==Player(0))and(IsUnitType(GetLeavingUnit(),UNIT_TYPE_UNDEAD))and(go==false))!=null)!=null
endfunctionfunction QG takes nothing returns nothinglocal effect sGlocal unit u
set u=GetLeavingUnit()set sG=AddSpecialEffectLoc("Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl",GetPlayerStartLocationLoc(GetOwningPlayer(u)))
call SetUnitPositionLoc(GetLeavingUnit(),GetPlayerStartLocationLoc(GetOwningPlayer(GetLeavingUnit())))call DisplayTimedTextToForce(CN(GetOwningPlayer(GetLeavingUnit())),4.,"TRIGSTR_4278")call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetLeavingUnit()),GetPlayerStartLocationLoc(GetOwningPlayer(GetLeavingUnit())),0)call TriggerSleepAction(4.)call DestroyEffect(sG)set u=nullendfunctionfunction tG takes nothing returns booleanreturn(((GetOwningPlayer(GetLeavingUnit())==Player(1))and(IsUnitType(GetLeavingUnit(),UNIT_TYPE_UNDEAD))and(go==false))!=null)!=null
endfunctionfunction TG takes nothing returns nothinglocal effect sGlocal unit u
set u=GetLeavingUnit()set sG=AddSpecialEffectLoc("Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl",GetPlayerStartLocationLoc(GetOwningPlayer(u)))
call SetUnitPositionLoc(GetLeavingUnit(),GetPlayerStartLocationLoc(GetOwningPlayer(GetLeavingUnit())))call DisplayTimedTextToForce(CN(GetOwningPlayer(GetLeavingUnit())),4.,"TRIGSTR_4278")call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetLeavingUnit()),GetPlayerStartLocationLoc(GetOwningPlayer(GetLeavingUnit())),0)call TriggerSleepAction(4.)call DestroyEffect(sG)set u=nullendfunctionfunction UG takes nothing returns booleanreturn(((GetOwningPlayer(GetLeavingUnit())==Player(2))and(IsUnitType(GetLeavingUnit(),UNIT_TYPE_UNDEAD))and(go==false))!=null)!=null
endfunctionfunction wG takes nothing returns nothinglocal effect sGlocal unit u
set u=GetLeavingUnit()set sG=AddSpecialEffectLoc("Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl",GetPlayerStartLocationLoc(GetOwningPlayer(u)))
call SetUnitPositionLoc(GetLeavingUnit(),GetPlayerStartLocationLoc(GetOwningPlayer(GetLeavingUnit())))call DisplayTimedTextToForce(CN(GetOwningPlayer(GetLeavingUnit())),4.,"TRIGSTR_4278")call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetLeavingUnit()),GetPlayerStartLocationLoc(GetOwningPlayer(GetLeavingUnit())),0)call TriggerSleepAction(4.)call DestroyEffect(sG)set u=nullendfunctionfunction yG takes nothing returns booleanreturn(((GetOwningPlayer(GetLeavingUnit())==Player(3))and(IsUnitType(GetLeavingUnit(),UNIT_TYPE_UNDEAD))and(go==false))!=null)!=null
endfunctionfunction YG takes nothing returns nothinglocal effect sGlocal unit u
set u=GetLeavingUnit()set sG=AddSpecialEffectLoc("Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl",GetPlayerStartLocationLoc(GetOwningPlayer(u)))
call SetUnitPositionLoc(GetLeavingUnit(),GetPlayerStartLocationLoc(GetOwningPlayer(GetLeavingUnit())))call DisplayTimedTextToForce(CN(GetOwningPlayer(GetLeavingUnit())),4.,"TRIGSTR_4278")call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetLeavingUnit()),GetPlayerStartLocationLoc(GetOwningPlayer(GetLeavingUnit())),0)call TriggerSleepAction(4.)call DestroyEffect(sG)set u=nullendfunctionfunction ZG takes nothing returns booleanreturn(((GetOwningPlayer(GetLeavingUnit())==Player(4))and(IsUnitType(GetLeavingUnit(),UNIT_TYPE_UNDEAD))and(go==false))!=null)!=null
endfunctionfunction vh takes nothing returns nothinglocal effect sGlocal unit u
set u=GetLeavingUnit()set sG=AddSpecialEffectLoc("Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl",GetPlayerStartLocationLoc(GetOwningPlayer(u)))
call SetUnitPositionLoc(GetLeavingUnit(),GetPlayerStartLocationLoc(GetOwningPlayer(GetLeavingUnit())))call DisplayTimedTextToForce(CN(GetOwningPlayer(GetLeavingUnit())),4.,"TRIGSTR_4278")call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetLeavingUnit()),GetPlayerStartLocationLoc(GetOwningPlayer(GetLeavingUnit())),0)call TriggerSleepAction(4.)call DestroyEffect(sG)set u=nullendfunctionfunction xh takes nothing returns booleanreturn(((GetOwningPlayer(GetLeavingUnit())==Player(5))and(IsUnitType(GetLeavingUnit(),UNIT_TYPE_UNDEAD))and(go==false))!=null)!=null
endfunctionfunction oh takes nothing returns nothinglocal effect sGlocal unit u
set u=GetLeavingUnit()set sG=AddSpecialEffectLoc("Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl",GetPlayerStartLocationLoc(GetOwningPlayer(u)))
call SetUnitPositionLoc(GetLeavingUnit(),GetPlayerStartLocationLoc(GetOwningPlayer(GetLeavingUnit())))call DisplayTimedTextToForce(CN(GetOwningPlayer(GetLeavingUnit())),4.,"TRIGSTR_4278")call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetLeavingUnit()),GetPlayerStartLocationLoc(GetOwningPlayer(GetLeavingUnit())),0)call TriggerSleepAction(4.)call DestroyEffect(sG)set u=nullendfunctionfunction ih takes nothing returns booleanreturn(((GetOwningPlayer(GetLeavingUnit())==Player(6))and(IsUnitType(GetLeavingUnit(),UNIT_TYPE_UNDEAD))and(go==false))!=null)!=null
endfunctionfunction ah takes nothing returns nothinglocal effect sGlocal unit u
set u=GetLeavingUnit()set sG=AddSpecialEffectLoc("Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl",GetPlayerStartLocationLoc(GetOwningPlayer(u)))
call SetUnitPositionLoc(GetLeavingUnit(),GetPlayerStartLocationLoc(GetOwningPlayer(GetLeavingUnit())))call DisplayTimedTextToForce(CN(GetOwningPlayer(GetLeavingUnit())),4.,"TRIGSTR_4278")call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetLeavingUnit()),GetPlayerStartLocationLoc(GetOwningPlayer(GetLeavingUnit())),0)call TriggerSleepAction(4.)call DestroyEffect(sG)set u=nullendfunctionfunction Vh takes nothing returns booleanreturn(((GetOwningPlayer(GetLeavingUnit())==Player(7))and(IsUnitType(GetLeavingUnit(),UNIT_TYPE_UNDEAD))and(go==false))!=null)!=null
endfunctionfunction Eh takes nothing returns nothinglocal effect sGlocal unit u
set u=GetLeavingUnit()set sG=AddSpecialEffectLoc("Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl",GetPlayerStartLocationLoc(GetOwningPlayer(u)))
call SetUnitPositionLoc(GetLeavingUnit(),GetPlayerStartLocationLoc(GetOwningPlayer(GetLeavingUnit())))call DisplayTimedTextToForce(CN(GetOwningPlayer(GetLeavingUnit())),4.,"TRIGSTR_4278")call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetLeavingUnit()),GetPlayerStartLocationLoc(GetOwningPlayer(GetLeavingUnit())),0)call TriggerSleepAction(4.)call DestroyEffect(sG)set u=nullendfunctionfunction Oh takes nothing returns nothinglocal integer Cc
set xv=0
set xv=(xv+1)set to[xv]='h010'set xv=(xv+1)set to[xv]='h01P'set xv=(xv+1)set to[xv]='h01C'set xv=(xv+1)set to[xv]='h06J'set xv=(xv+1)set to[xv]='h040'set xv=(xv+1)set to[xv]='h05N'set xv=(xv+1)set to[xv]='h00M'set xv=(xv+1)set to[xv]='h07J'set xv=(xv+1)set to[xv]='h08F'set xv=(xv+1)set to[xv]='h09L'set xv=(xv+1)set to[xv]='h0BC'set xv=(xv+1)set to[xv]='h0BF'set xv=(xv+1)set to[xv]='h0CF'set To[1]=xv
set xv=0
set xv=(xv+1)set uo[xv]='h012'set xv=(xv+1)set uo[xv]='h01T'set xv=(xv+1)set uo[xv]='h06K'set xv=(xv+1)set uo[xv]='h01E'set xv=(xv+1)set uo[xv]='h042'set xv=(xv+1)set uo[xv]='h05S'set xv=(xv+1)set uo[xv]='h00O'set xv=(xv+1)set uo[xv]='h07O'set xv=(xv+1)set uo[xv]='h08H'set xv=(xv+1)set uo[xv]='h09W'set xv=(xv+1)set uo[xv]='h0AE'set xv=(xv+1)set uo[xv]='h0BE'set xv=(xv+1)set uo[xv]='h0BV'set xv=(xv+1)set uo[xv]='h0CI'set To[2]=xv
set xv=0
set xv=(xv+1)set Uo[xv]='h014'set xv=(xv+1)set Uo[xv]='h06M'set xv=(xv+1)set Uo[xv]='h044'set xv=(xv+1)set Uo[xv]='h01H'set xv=(xv+1)set Uo[xv]='h01V'set xv=(xv+1)set Uo[xv]='h00P'set xv=(xv+1)set Uo[xv]='h05R'set xv=(xv+1)set Uo[xv]='h07Q'set xv=(xv+1)set Uo[xv]='h08N'set xv=(xv+1)set Uo[xv]='h09N'set xv=(xv+1)set Uo[xv]='h0AB'set xv=(xv+1)set Uo[xv]='h0BH'set xv=(xv+1)set Uo[xv]='h0BX'set xv=(xv+1)set Uo[xv]='h0CO'set To[3]=xv
set xv=0
set xv=(xv+1)set wo[xv]='h016'set xv=(xv+1)set wo[xv]='h06O'set xv=(xv+1)set wo[xv]='h046'set xv=(xv+1)set wo[xv]='h01I'set xv=(xv+1)set wo[xv]='h01X'set xv=(xv+1)set wo[xv]='h00N'set xv=(xv+1)set wo[xv]='h05V'set xv=(xv+1)set wo[xv]='h07S'set xv=(xv+1)set wo[xv]='h09R'set xv=(xv+1)set wo[xv]='h08Q'set xv=(xv+1)set wo[xv]='h0AH'set xv=(xv+1)set wo[xv]='h0BJ'set xv=(xv+1)set wo[xv]='h0C4'set xv=(xv+1)set wo[xv]='h0CQ'set To[4]=xv
set xv=0
set xv=(xv+1)set Wo[xv]='h06Q'set xv=(xv+1)set Wo[xv]='h018'set xv=(xv+1)set Wo[xv]='h01K'set xv=(xv+1)set Wo[xv]='h048'set xv=(xv+1)set Wo[xv]='h00Q'set xv=(xv+1)set Wo[xv]='h01Z'set xv=(xv+1)set Wo[xv]='h05X'set xv=(xv+1)set Wo[xv]='h07U'set xv=(xv+1)set Wo[xv]='h09T'set xv=(xv+1)set Wo[xv]='h08V'set xv=(xv+1)set Wo[xv]='h0AL'set xv=(xv+1)set Wo[xv]='h0BM'set xv=(xv+1)set Wo[xv]='h0C5'set xv=(xv+1)set Wo[xv]='h0CW'set To[5]=xv
set xv=0
set xv=(xv+1)set yo[xv]='h01A'set xv=(xv+1)set yo[xv]='h06S'set xv=(xv+1)set yo[xv]='h021'set xv=(xv+1)set yo[xv]='h05Z'set xv=(xv+1)set yo[xv]='h04A'set xv=(xv+1)set yo[xv]='h01M'set xv=(xv+1)set yo[xv]='h00S'set xv=(xv+1)set yo[xv]='h07W'set xv=(xv+1)set yo[xv]='h090'set xv=(xv+1)set yo[xv]='h0A3'set xv=(xv+1)set yo[xv]='h0AR'set xv=(xv+1)set yo[xv]='h0BO'set xv=(xv+1)set yo[xv]='h0C9'set xv=(xv+1)set yo[xv]='h0D0'set To[6]=xv
set Cc=0
loop
set U[Cc]=99
set ov[Cc]=99set av[Cc]=99set bv[Cc]=99set dv[Cc]=99set ae[Cc]=99set Cc=Cc+1exitwhen Cc>7endloopendfunctionfunction Ih takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='h07D')or(GetUnitTypeId(GetTriggerUnit())=='h07E')or(GetUnitTypeId(GetTriggerUnit())=='h07G')or(GetUnitTypeId(GetTriggerUnit())=='h07F')or(GetUnitTypeId(GetTriggerUnit())=='h07H')or(GetUnitTypeId(GetTriggerUnit())=='h07I')endfunctionfunction Ah takes nothing returns booleanreturn(Ih())
endfunctionfunction Nh takes nothing returns nothinglocal unit u
set u=GetTriggerUnit()call GroupRemoveUnit(ha,GetTriggerUnit())set Ev=GetUnitLoc(u)
call AddSpecialEffectLocBJ(Ev,"Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl")call DestroyEffect(bj_lastCreatedEffect)
call YA(.3)if((GetUnitTypeId(u)=='h07D'))thenset u=ReplaceUnitBJ(u,to[GetRandomInt(1,To[1])],3)set hv=GetUnitPointValue(bj_lastReplacedUnit)endifif((GetUnitTypeId(u)=='h07E'))thenset u=ReplaceUnitBJ(u,uo[GetRandomInt(1,To[2])],3)endifif((GetUnitTypeId(u)=='h07G'))thenset u=ReplaceUnitBJ(u,Uo[GetRandomInt(1,To[3])],3)endifif((GetUnitTypeId(u)=='h07F'))thenset u=ReplaceUnitBJ(u,wo[GetRandomInt(1,To[4])],3)endifif((GetUnitTypeId(u)=='h07H'))thenset u=ReplaceUnitBJ(u,Wo[GetRandomInt(1,To[5])],3)endifif((GetUnitTypeId(u)=='h07I'))thenset u=ReplaceUnitBJ(u,yo[GetRandomInt(1,To[6])],3)endifset u=bj_lastReplacedUnitcall GroupAddUnit(ha,bj_lastReplacedUnit)set xv=GetUnitPointValue(GetTriggerUnit())call SetPlayerStateBJ(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_GOLD_GATHERED,(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_GOLD_GATHERED)-xv))set hv=GetUnitPointValue(bj_lastReplacedUnit)call SetPlayerStateBJ(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_GOLD_GATHERED,(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_GOLD_GATHERED)+hv))if(xv>hv)thenset Hv=xv-hv
call Xb(GetTriggerUnit(),"- "+I2S(Hv),100.,.0,.0,GetOwningPlayer(GetTriggerUnit()))set mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=(mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]-Hv)endifif(xv<hv)thenset Hv=hv-xv
call Xb(GetTriggerUnit(),"+ "+I2S(Hv),100.,77.,.0,GetOwningPlayer(GetTriggerUnit()))
set mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=(mr[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]+Hv)endifcall SetUnitVertexColorBJ(u,'d','d','d',50.)
call SetUnitTimeScalePercent(u,.0)call ResetUnitAnimation(u)if((GetUnitTypeId(u)=='h05N'))thencall SetUnitTimeScalePercent(u,100.)
call YA(.3)call SetUnitTimeScalePercent(u,.0)call ResetUnitAnimation(u)endifset u=nullcall TriggerExecute(HE)endfunctionfunction Bh takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='u00I')endfunctionfunction ch takes nothing returns nothingcall SetUnitVertexColorBJ(GetTriggerUnit(),'d','d','d',100.)
endfunctionfunction dh takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='u00I')endfunctionfunction Dh takes nothing returns booleanreturn(GetFilterPlayer()==GetTriggerPlayer())endfunctionfunction fh takes nothing returns nothingcall SetUnitFlyHeight(GetTriggerUnit(),GetUnitDefaultFlyHeight(GetTriggerUnit()),.0)
call DisplayTimedTextToForce(fN(Condition(function Dh)),11.,"TRIGSTR_5459")endfunctionfunction gh takes nothing returns booleanreturn(SV)and(Li)endfunctionfunction Gh takes nothing returns booleanreturn(UnitHasBuffBJ(GetFilterUnit(),'B03Q'))endfunctionfunction hh takes nothing returns booleanreturn(Ie<1.)endfunctionfunction Hh takes nothing returns booleanreturn(GetUnitLifePercent(GetEnumUnit())>2.)
endfunctionfunction jh takes nothing returns nothingif(Hh())then
set Ie=(GetUnitLifePercent(GetEnumUnit())-1.)if(hh())then
set Ie=1.endifcall SetUnitLifePercentBJ(GetEnumUnit(),Ie)endifendfunctionfunction Jh takes nothing returns booleanreturn(IsPlayerEnemy(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(GetEnumUnit())))endfunctionfunction Kh takes nothing returns booleanreturn(GetUnitTypeId(GetFilterUnit())!='h03D')and(GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetEnumUnit()))and(UnitHasBuffBJ(GetFilterUnit(),'B00D')==false)and(GetFilterUnit()!=GetEnumUnit())endfunctionfunction ph takes nothing returns booleanreturn(Ko[GetUnitUserData(GetEnumUnit())]==false)and(GetUnitStateSwap(UNIT_STATE_MANA,GetEnumUnit())==GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetEnumUnit()))and(GetUnitMoveSpeed(GetEnumUnit())>=5.)and(CountUnitsInGroup(ho)>0)endfunctionfunction Ph takes nothing returns nothinglocal boolean Dc=truelocal unit u=GetEnumUnit()local boolexpr fc=Condition(function Jh)
local boolexpr Fc=Condition(function Kh)
set Ev=GetUnitLoc(u)
set ho=XN(600.,Ev,fc)if(ph())then
set Ko[GetUnitUserData(u)]=trueset Ev=GetUnitLoc(u)
call GroupClear(Hx)set Hx=XN(128.,Ev,Fc)if(IsUnitGroupEmptyBJ(Hx))thencall DestroyGroup(Hx)set Hx=XN(256.,Ev,Fc)if(IsUnitGroupEmptyBJ(Hx))thenset Hx=XN(384.,Ev,Fc)if(IsUnitGroupEmptyBJ(Hx))thenset Dc=false
endifendifendifif(Dc)thenset Av=GroupPickRandomUnit(Hx)call UnitAddAbility(u,'A00X')call IssueTargetOrderById(u,$D00F1,Av)endifcall RemoveLocation(Ev)call DestroyGroup(Hx)else
if(GetUnitAbilityLevelSwapped('A00X',u)==1)thencall UnitRemoveAbility(u,'A00X')
endifendifcall DestroyGroup(ho)call RemoveLocation(Ev)call DestroyBoolExpr(fc)
call DestroyBoolExpr(Fc)
set fc=nullset Fc=nullset u=nullendfunctionfunction qh takes nothing returns booleanreturn(GetUnitStateSwap(UNIT_STATE_MANA,GetEnumUnit())==GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetEnumUnit()))
endfunctionfunction Qh takes nothing returns nothingif(qh())then
call SetUnitManaBJ(GetEnumUnit(),0)set Ev=GetUnitLoc(GetEnumUnit())
call CreateNUnitsAtLoc(1,'u006',GetOwningPlayer(GetEnumUnit()),Ev,bj_UNIT_FACING)set Bv=bj_lastCreatedUnitcall UnitAddAbility(Bv,'A029')call IssueImmediateOrderById(Bv,$D022E)call UnitApplyTimedLifeBJ(3.,'BTLF',Bv)call RemoveLocation(Ev)endifendfunctionfunction sh takes nothing returns booleanreturn(GetUnitStateSwap(UNIT_STATE_MANA,GetEnumUnit())==GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetEnumUnit()))
endfunctionfunction Sh takes nothing returns nothingif(sh())then
call SetUnitManaBJ(GetEnumUnit(),0)set Ev=GetUnitLoc(GetEnumUnit())
call CreateNUnitsAtLoc(1,'u006',GetOwningPlayer(GetEnumUnit()),Ev,bj_UNIT_FACING)set Bv=bj_lastCreatedUnitcall UnitAddAbility(Bv,'A02C')call IssueImmediateOrderById(Bv,$D022E)call UnitApplyTimedLifeBJ(3.,'BTLF',Bv)call RemoveLocation(Ev)endifendfunctionfunction th takes nothing returns booleanreturn GetBooleanOr((GetUnitTypeId(GetFilterUnit())=='h06V'),(GetUnitTypeId(GetFilterUnit())=='h06Z'))endfunctionfunction Th takes nothing returns booleanreturn(GetUnitAbilityLevelSwapped('A056',GetEnumUnit())==1)endfunctionfunction uh takes nothing returns booleanreturn GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(GetEnumUnit()))),(UnitHasBuffBJ(GetFilterUnit(),'B027')==false))endfunctionfunction Uh takes nothing returns booleanreturn(CountUnitsInGroup(Hx)>0)endfunctionfunction wh takes nothing returns booleanreturn(GetUnitManaPercent(GetEnumUnit())==100.)and(Jo[GetUnitUserData(GetEnumUnit())]==false)endfunctionfunction Wh takes nothing returns nothingif(wh())then
set Ev=GetUnitLoc(GetEnumUnit())
set Hx=XN(700.,Ev,Condition(function uh))if(Uh())then
set Av=GroupPickRandomUnit(Hx)set Jo[GetUnitUserData(GetEnumUnit())]=truecall UnitAddAbility(GetEnumUnit(),'A056')call IssueTargetOrderById(GetEnumUnit(),$D008A,Av)endifcall RemoveLocation(Ev)call DestroyGroup(Hx)else
if(Th())then
call UnitRemoveAbility(GetEnumUnit(),'A056')
endifendifendfunctionfunction yh takes nothing returns booleanreturn(CountUnitsInGroup(Nv)>0)endfunctionfunction Yh takes nothing returns booleanreturn(GetUnitAbilityLevelSwapped('A059',GetEnumUnit())==1)endfunctionfunction zh takes nothing returns booleanreturn(GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetEnumUnit()))
endfunctionfunction Zh takes nothing returns booleanreturn GetBooleanAnd((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetEnumUnit())),(GetBooleanOr(((GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetFilterUnit())-GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit()))>=100.),(GetUnitLifePercent(GetFilterUnit())<=75.))))endfunctionfunction vH takes nothing returns booleanreturn(Av==null)
endfunctionfunction eH takes nothing returns booleanreturn(CountUnitsInGroup(Hx)>1)or(CountUnitsInGroup(ho)<4)endfunctionfunction xH takes nothing returns booleanreturn(CountUnitsInGroup(Hx)>0)and(eH())
endfunctionfunction oH takes nothing returns booleanreturn(GetUnitMoveSpeed(GetEnumUnit())>=5.)and(xH())
endfunctionfunction rH takes nothing returns booleanreturn(GetUnitManaPercent(GetEnumUnit())==100.)and(Ho[GetUnitUserData(GetEnumUnit())]==false)endfunctionfunction iH takes nothing returns nothingif(rH())then
set Ev=GetUnitLoc(GetEnumUnit())
set ho=XN(700.,Ev,Condition(function zh))set Hx=XN(600.,Ev,Condition(function Zh))if(oH())then
set Ho[GetUnitUserData(GetEnumUnit())]=trueset Av=nullset Av=GroupPickRandomUnit(Hx)if(vH())then
set Av=GroupPickRandomUnit(ho)endifcall UnitAddAbility(GetEnumUnit(),'A059')call IssueTargetOrderById(GetEnumUnit(),$D0215,Av)endifcall RemoveLocation(Ev)call DestroyGroup(Hx)call DestroyGroup(ho)else
if(Yh())then
call UnitRemoveAbility(GetEnumUnit(),'A059')
endifendifendfunctionfunction aH takes nothing returns booleanreturn(CountUnitsInGroup(Nv)>0)endfunctionfunction nH takes nothing returns booleanreturn(GetUnitAbilityLevelSwapped('A05C',GetEnumUnit())==1)endfunctionfunction VH takes nothing returns booleanreturn GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(GetEnumUnit()))),(UnitHasBuffBJ(GetFilterUnit(),'B02B')==false))endfunctionfunction EH takes nothing returns booleanreturn GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(GetEnumUnit()))),(UnitHasBuffBJ(GetFilterUnit(),'B02B')==false))endfunctionfunction XH takes nothing returns booleanreturn(Av==null)
endfunctionfunction OH takes nothing returns booleanreturn GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(GetEnumUnit()))),(UnitHasBuffBJ(GetFilterUnit(),'B02B')==false))endfunctionfunction RH takes nothing returns booleanreturn GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(GetEnumUnit()))),(UnitHasBuffBJ(GetFilterUnit(),'B02B')==false))endfunctionfunction IH takes nothing returns booleanreturn(CountUnitsInGroup(Hx)>2)or(CountUnitsInGroup(ho)<3)endfunctionfunction AH takes nothing returns booleanreturn(CountUnitsInGroup(Hx)>0)and(IH())
endfunctionfunction NH takes nothing returns booleanreturn(GetUnitMoveSpeed(GetEnumUnit())>=5.)and(AH())
endfunctionfunction bH takes nothing returns booleanreturn(GetUnitManaPercent(GetEnumUnit())==100.)and(jo[GetUnitUserData(GetEnumUnit())]==false)endfunctionfunction BH takes nothing returns nothingif(bH())then
set Ev=GetUnitLoc(GetEnumUnit())
set ho=XN(600.,Ev,Condition(function VH))set Hx=XN(400.,Ev,Condition(function EH))set Av=nullset Av=GroupPickRandomUnit(Hx)if(XH())then
set Av=GroupPickRandomUnit(ho)endifcall RemoveLocation(Ev)call DestroyGroup(Hx)call DestroyGroup(ho)set Ev=GetUnitLoc(Av)set ho=XN(400.,Ev,Condition(function OH))set Hx=XN(200.,Ev,Condition(function RH))if(NH())then
set jo[GetUnitUserData(GetEnumUnit())]=truecall UnitAddAbility(GetEnumUnit(),'A05C')call IssueTargetOrderById(GetEnumUnit(),$D0269,Av)endifcall RemoveLocation(Ev)call DestroyGroup(Hx)call DestroyGroup(ho)else
if(nH())then
call UnitRemoveAbility(GetEnumUnit(),'A05C')
endifendifendfunctionfunction cH takes nothing returns booleanreturn(CountUnitsInGroup(Nv)>0)endfunctionfunction CH takes nothing returns booleanreturn GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(GetEnumUnit()))),(GetBooleanAnd((UnitHasBuffBJ(GetFilterUnit(),'B01X')==false),(UnitHasBuffBJ(GetFilterUnit(),'B01Y')==false))))endfunctionfunction dH takes nothing returns booleanreturn(GetRandomInt(1,3)>1)and(GetUnitMoveSpeed(GetEnumUnit())>=5.)endfunctionfunction DH takes nothing returns nothingif(dH())then
set Ev=GetUnitLoc(GetEnumUnit())
set Av=GroupPickRandomUnit(XN(800.,Ev,Condition(function CH)))call IssueTargetOrderById(GetEnumUnit(),$D00F1,Av)call RemoveLocation(Ev)endifendfunctionfunction fH takes nothing returns booleanreturn GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(GetEnumUnit()))),(GetBooleanAnd((UnitHasBuffBJ(GetFilterUnit(),'B01X')==false),(UnitHasBuffBJ(GetFilterUnit(),'B01Y')==false))))endfunctionfunction FH takes nothing returns booleanreturn(GetRandomInt(1,3)>1)and(GetUnitMoveSpeed(GetEnumUnit())>=5.)endfunctionfunction gH takes nothing returns nothingif(FH())then
set Ev=GetUnitLoc(GetEnumUnit())
set Av=GroupPickRandomUnit(XN(800.,Ev,Condition(function fH)))call IssueTargetOrderById(GetEnumUnit(),$D00F1,Av)call RemoveLocation(Ev)endifendfunctionfunction GH takes nothing returns booleanreturn GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(GetEnumUnit()))),(GetBooleanAnd((UnitHasBuffBJ(GetFilterUnit(),'B01R')==false),(UnitHasBuffBJ(GetFilterUnit(),'B01S')==false))))endfunctionfunction hH takes nothing returns booleanreturn(GetRandomInt(1,3)>1)and(GetUnitMoveSpeed(GetEnumUnit())>=5.)endfunctionfunction HH takes nothing returns nothingif(hH())then
set Ev=GetUnitLoc(GetEnumUnit())
set Av=GroupPickRandomUnit(XN(700.,Ev,Condition(function GH)))call IssueTargetOrderById(GetEnumUnit(),$D006B,Av)call RemoveLocation(Ev)endifendfunctionfunction jH takes nothing returns booleanreturn GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(GetEnumUnit()))),(GetBooleanAnd((UnitHasBuffBJ(GetFilterUnit(),'B01R')==false),(UnitHasBuffBJ(GetFilterUnit(),'B01S')==false))))endfunctionfunction JH takes nothing returns booleanreturn(GetRandomInt(1,3)>1)and(GetUnitMoveSpeed(GetEnumUnit())>=5.)endfunctionfunction kH takes nothing returns nothingif(JH())then
set Ev=GetUnitLoc(GetEnumUnit())
set Av=GroupPickRandomUnit(XN(700.,Ev,Condition(function jH)))call IssueTargetOrderById(GetEnumUnit(),$D006B,Av)call RemoveLocation(Ev)endifendfunctionfunction KH takes nothing returns nothingcall DestroyGroup(Nv)set Nv=iN(bj_mapInitialPlayableArea,Condition(function Gh))call ForGroupBJ(Nv,function jh)call DestroyGroup(Nv)set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=8loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset Ko[bj_forLoopAIndex]=falseset bj_forLoopAIndex=bj_forLoopAIndex+1endloopset Nv=AN('h03D')call ForGroupBJ(Nv,function Ph)call DestroyGroup(Nv)set Nv=AN('h037')call ForGroupBJ(Nv,function Qh)call DestroyGroup(Nv)set Nv=AN('h038')call ForGroupBJ(Nv,function Sh)call DestroyGroup(Nv)set Nv=iN(bj_mapInitialPlayableArea,Condition(function th))if(yh())then
set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=8loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset Jo[bj_forLoopAIndex]=falseset bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall ForGroupBJ(Nv,function Wh)endifcall DestroyGroup(Nv)set Nv=AN('h070')if(aH())then
set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=8loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset Ho[bj_forLoopAIndex]=falseset bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall ForGroupBJ(Nv,function iH)endifcall DestroyGroup(Nv)set Nv=AN('h073')if(cH())then
set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=8loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset jo[bj_forLoopAIndex]=falseset bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall ForGroupBJ(Nv,function BH)endifcall DestroyGroup(Nv)set Nv=AN('h06G')call ForGroupBJ(Nv,function DH)call DestroyGroup(Nv)set Nv=AN('h06F')call ForGroupBJ(Nv,function gH)call DestroyGroup(Nv)set Nv=AN('h063')call ForGroupBJ(Nv,function HH)call DestroyGroup(Nv)set Nv=AN('h064')call ForGroupBJ(Nv,function kH)call DestroyGroup(Nv)endfunctionfunction LH takes nothing returns booleanreturn(GetSpellAbilityId()=='A008')endfunctionfunction mH takes nothing returns booleanreturn(GetUnitTypeId(GetSpellAbilityUnit())=='h07Q')or(GetUnitTypeId(GetSpellAbilityUnit())=='h07R')
endfunctionfunction MH takes nothing returns booleanreturn(mH())
endfunctionfunction pH takes nothing returns booleanreturn(GetUnitTypeId(GetSpellAbilityUnit())=='h07Q')or(GetUnitTypeId(GetSpellAbilityUnit())=='h07R')
endfunctionfunction PH takes nothing returns booleanreturn(pH())
endfunctionfunction qH takes nothing returns booleanreturn(IsUnitInGroup(Av,ex))
endfunctionfunction QH takes nothing returns booleanreturn(xv>0)
endfunctionfunction sH takes nothing returns booleanreturn(GetUnitTypeId(Av)==cv[bj_forLoopBIndex])endfunctionfunction SH takes nothing returns booleanreturn(Gv==false)endfunctionfunction tH takes nothing returns nothinglocal effect sGif(SH())then
set Av=GetSpellAbilityUnit()
set bj_forLoopBIndex=1set bj_forLoopBIndexEnd=Jvloop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEndif(sH())then
set Ev=GetUnitLoc(Av)if(qH())then
set xv=(GetUnitPointValue(GetTriggerUnit())*1)else
if(PH())then
set xv=R2I((I2R(GetUnitPointValue(GetTriggerUnit()))*.9))else
if(MH())then
set xv=R2I((I2R(GetUnitPointValue(GetTriggerUnit()))*.9))else
set xv=R2I((I2R(GetUnitPointValue(GetTriggerUnit()))*oe))endifendifendifcall DisplayTimedTextToForce(CN(GetOwningPlayer(GetSpellAbilityUnit())),7.,(("|cffC0C0C0You sold a|r "+(GetUnitName(Av)+" |cffC0C0C0for|r |cffFFcc00"))+(I2S(xv)+"|r |cffC0C0C0gold.|r")))call AdjustPlayerStateBJ(xv,GetOwningPlayer(Av),PLAYER_STATE_RESOURCE_GOLD)call SetPlayerStateBJ(GetOwningPlayer(Av),PLAYER_STATE_GOLD_GATHERED,(GetPlayerState(GetOwningPlayer(Av),PLAYER_STATE_GOLD_GATHERED)-xv))set hv=GetUnitPointValue(Av)
set Hv=(hv-xv)call SetPlayerStateBJ(GetOwningPlayer(Av),PLAYER_STATE_GOLD_GATHERED,(GetPlayerState(GetOwningPlayer(Av),PLAYER_STATE_GOLD_GATHERED)-Hv))set mr[(1+GetPlayerId(GetOwningPlayer(Av)))]=(mr[(1+GetPlayerId(GetOwningPlayer(Av)))]-Hv)set gv=GetOwningPlayer(GetSpellAbilityUnit())if(QH())then
call Xb(GetSpellAbilityUnit(),"+"+I2S(xv),100.,77.,.0,gv)endifcall GroupRemoveUnit(iv[(1+GetPlayerId(GetOwningPlayer(Av)))],Av)call GroupRemoveUnit(ha,Av)call RemoveUnit(Av)call TriggerExecute(HE)call AddSpecialEffectLocBJ(Ev,"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
set sG=bj_lastCreatedEffectcall RemoveLocation(Ev)endifset bj_forLoopBIndex=bj_forLoopBIndex+1endloopcall DestroyEffect(sG)else
call DisplayTimedTextToForce(CN(GetOwningPlayer(GetSpellAbilityUnit())),7.,"TRIGSTR_4286")endifendfunctionfunction uH takes nothing returns booleanreturn(GetUnitTypeId(GetAttacker())=='h02U')and(GetUnitManaPercent(GetAttacker())==100.)
endfunctionfunction UH takes nothing returns nothingcall IssueImmediateOrderById(GetAttacker(),$D00C4)endfunctionfunction WH takes nothing returns booleanreturn(GetUnitTypeId(GetAttacker())=='h04M')or(GetUnitTypeId(GetAttacker())=='h04N')or(GetUnitTypeId(GetAttacker())=='h06G')
endfunctionfunction yH takes nothing returns booleanreturn(WH())
endfunctionfunction YH takes nothing returns booleanreturn(GetUnitStateSwap(UNIT_STATE_MANA,GetAttacker())>=50.)and(UnitHasBuffBJ(GetAttacker(),'B00O')==false)and(UnitHasBuffBJ(GetAttacker(),'B01Z')==false)endfunctionfunction zH takes nothing returns nothingif(YH())then
call UnitResetCooldown(GetAttacker())call IssueImmediateOrderById(GetAttacker(),$D026D)endifendfunctionfunction vj takes nothing returns booleanreturn(GetUnitTypeId(GetAttacker())=='h0CD')and(GetUnitStateSwap(UNIT_STATE_MANA,GetAttacker())>=3.)and(GetUnitLifePercent(GetAttacker())<=60.)endfunctionfunction rj takes nothing returns nothinglocal unit u=GetAttacker()set Ev=GetUnitLoc(u)
call CreateNUnitsAtLoc(1,'u006',Player(-1+(GetUnitUserData(u))),Ev,bj_UNIT_FACING)set Av=bj_lastCreatedUnitif(GetUnitLifePercent(u)<=20.)thencall UnitAddAbility(Av,'A0AM')else
if(GetUnitLifePercent(u)<=40.)thencall UnitAddAbility(Av,'A08A')else
call UnitAddAbility(Av,'A0AN')endifendifcall IssueTargetOrderById(Av,$D0085,u)call SetUnitManaBJ(u,.0)
call UnitApplyTimedLifeBJ(2.,'BTLF',Av)call RemoveLocation(Ev)set u=nullendfunctionfunction gc takes nothing returns booleanreturn(GetUnitTypeId(GetAttacker())=='h0BT')and(GetUnitStateSwap(UNIT_STATE_MANA,GetAttacker())>=10.)endfunctionfunction hc takes nothing returns nothinglocal unit u=GetAttacker()set Ev=GetUnitLoc(u)
call CreateNUnitsAtLoc(1,'u006',Player(-1+(GetUnitUserData(u))),Ev,bj_UNIT_FACING)set Av=bj_lastCreatedUnitcall UnitAddAbility(Av,'A0A6')call IssueTargetOrderById(Av,$D00F1,u)call SetUnitManaBJ(u,.0)
call UnitApplyTimedLifeBJ(2.,'BTLF',Av)call RemoveLocation(Ev)set u=nullendfunctionfunction aj takes nothing returns booleanreturn(GetSpellAbilityId()=='A09E')endfunctionfunction Vj takes nothing returns booleanreturn(ur)endfunctionfunction Ej takes nothing returns booleanreturn(PX)endfunctionfunction Xj takes nothing returns booleanreturn(rv>=30)endfunctionfunction Oj takes nothing returns booleanreturn((mo[(1+GetPlayerId(GetTriggerPlayer()))]+Tr[(1+GetPlayerId(GetTriggerPlayer()))])>(xv-500))endfunctionfunction Rj takes nothing returns booleanreturn((mo[(1+GetPlayerId(GetTriggerPlayer()))]+Tr[(1+GetPlayerId(GetTriggerPlayer()))])>(xv-300))endfunctionfunction Ij takes nothing returns booleanreturn((mo[(1+GetPlayerId(GetTriggerPlayer()))]+Tr[(1+GetPlayerId(GetTriggerPlayer()))])>(xv-'d'))endfunctionfunction Aj takes nothing returns booleanreturn((mo[(1+GetPlayerId(GetTriggerPlayer()))]+Tr[(1+GetPlayerId(GetTriggerPlayer()))])>xv)
endfunctionfunction Nj takes nothing returns nothingif(IsPlayerAlly(GetOwningPlayer(GetTriggerUnit()),Player(8)))thenset gv=Player(8)
else
set gv=Player(9)
endifset Ev=GetUnitLoc(GetTriggerUnit())call CreateNUnitsAtLoc(1,'n00L',gv,Ev,bj_UNIT_FACING)set Av=bj_lastCreatedUnitset xv=(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))call GroupAddUnit(tX[xv],Av)
call SetUnitUserData(Av,xv)call SetUnitColor(bj_lastCreatedUnit,GetPlayerColor(GetOwningPlayer(GetTriggerUnit())))set qi[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=(qi[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]+25)if(Vj())then
endifcall GroupAddUnit(tr,bj_lastCreatedUnit)
call GroupAddUnit(Ha,bj_lastCreatedUnit)
call GroupAddUnit(tX[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],bj_lastCreatedUnit)
call AddSpecialEffectLocBJ(Ev,"Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl")call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(Ev)call TriggerExecute(HE)call TriggerExecute(LV)set xv=(S2I(fr[(rv+1)])+(rv*(rv*2)))
if(Ej())then
set xv=(S2I(fr[(rv+0)])+(rv*(rv*2)))
endifif(Xj())then
set xv=$3A98
endifif(Aj())then
call UnitRemoveAbility(GetTriggerUnit(),'A09E')call UnitRemoveAbility(GetTriggerUnit(),'A09F')call UnitRemoveAbility(GetTriggerUnit(),'A09G')call UnitRemoveAbility(GetTriggerUnit(),'A09H')call UnitAddAbility(GetTriggerUnit(),'A09V')
call UnitAddAbility(GetTriggerUnit(),'A09W')
call UnitAddAbility(GetTriggerUnit(),'A09U')
call UnitAddAbility(GetTriggerUnit(),'A09P')
else
if(Ij())then
call UnitRemoveAbility(GetTriggerUnit(),'A09F')call UnitRemoveAbility(GetTriggerUnit(),'A09G')call UnitRemoveAbility(GetTriggerUnit(),'A09H')call UnitAddAbility(GetTriggerUnit(),'A09W')
call UnitAddAbility(GetTriggerUnit(),'A09U')
call UnitAddAbility(GetTriggerUnit(),'A09P')
else
if(Rj())then
call UnitRemoveAbility(GetTriggerUnit(),'A09G')call UnitRemoveAbility(GetTriggerUnit(),'A09H')call UnitAddAbility(GetTriggerUnit(),'A09U')
call UnitAddAbility(GetTriggerUnit(),'A09P')
else
if(Oj())then
call UnitRemoveAbility(GetTriggerUnit(),'A09H')call UnitAddAbility(GetTriggerUnit(),'A09P')
endifendifendifendifendfunctionfunction Bj takes nothing returns booleanreturn(GetSpellAbilityId()=='A09F')endfunctionfunction cj takes nothing returns booleanreturn(IsPlayerAlly(GetOwningPlayer(GetTriggerUnit()),Player(8)))endfunctionfunction Cj takes nothing returns booleanreturn(ur)endfunctionfunction dj takes nothing returns booleanreturn(PX)endfunctionfunction Dj takes nothing returns booleanreturn((mo[(1+GetPlayerId(GetTriggerPlayer()))]+Tr[(1+GetPlayerId(GetTriggerPlayer()))])>(xv-500))endfunctionfunction fj takes nothing returns booleanreturn((mo[(1+GetPlayerId(GetTriggerPlayer()))]+Tr[(1+GetPlayerId(GetTriggerPlayer()))])>(xv-300))endfunctionfunction Fj takes nothing returns booleanreturn((mo[(1+GetPlayerId(GetTriggerPlayer()))]+Tr[(1+GetPlayerId(GetTriggerPlayer()))])>(xv-'d'))endfunctionfunction gj takes nothing returns booleanreturn((mo[(1+GetPlayerId(GetTriggerPlayer()))]+Tr[(1+GetPlayerId(GetTriggerPlayer()))])>xv)
endfunctionfunction Gj takes nothing returns nothingif(cj())then
set gv=Player(8)
else
set gv=Player(9)
endifset Ev=GetUnitLoc(GetTriggerUnit())call CreateNUnitsAtLoc(1,'n00M',gv,Ev,bj_UNIT_FACING)set Av=bj_lastCreatedUnitset xv=(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))call GroupAddUnit(tX[xv],Av)
call SetUnitUserData(Av,xv)call SetUnitColor(bj_lastCreatedUnit,GetPlayerColor(GetOwningPlayer(GetTriggerUnit())))set ox[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=(ox[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]+1)set qi[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=(qi[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]+60)if(Cj())then
endifcall GroupAddUnit(tr,bj_lastCreatedUnit)
call GroupAddUnit(Ha,bj_lastCreatedUnit)
call GroupAddUnit(tX[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],bj_lastCreatedUnit)
call AddSpecialEffectLocBJ(Ev,"Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl")call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(Ev)call TriggerExecute(HE)call TriggerExecute(LV)set xv=(S2I(fr[(rv+1)])+(rv*(rv*2)))
if(dj())then
set xv=(S2I(fr[(rv+0)])+(rv*(rv*2)))
endifif(gj())then
call UnitRemoveAbility(GetTriggerUnit(),'A09E')call UnitRemoveAbility(GetTriggerUnit(),'A09F')call UnitRemoveAbility(GetTriggerUnit(),'A09G')call UnitRemoveAbility(GetTriggerUnit(),'A09H')call UnitAddAbility(GetTriggerUnit(),'A09V')
call UnitAddAbility(GetTriggerUnit(),'A09W')
call UnitAddAbility(GetTriggerUnit(),'A09U')
call UnitAddAbility(GetTriggerUnit(),'A09P')
else
if(Fj())then
call UnitRemoveAbility(GetTriggerUnit(),'A09F')call UnitRemoveAbility(GetTriggerUnit(),'A09G')call UnitRemoveAbility(GetTriggerUnit(),'A09H')call UnitAddAbility(GetTriggerUnit(),'A09W')
call UnitAddAbility(GetTriggerUnit(),'A09U')
call UnitAddAbility(GetTriggerUnit(),'A09P')
else
if(fj())then
call UnitRemoveAbility(GetTriggerUnit(),'A09G')call UnitRemoveAbility(GetTriggerUnit(),'A09H')call UnitAddAbility(GetTriggerUnit(),'A09U')
call UnitAddAbility(GetTriggerUnit(),'A09P')
else
if(Dj())then
call UnitRemoveAbility(GetTriggerUnit(),'A09H')call UnitAddAbility(GetTriggerUnit(),'A09P')
endifendifendifendifendfunctionfunction Hj takes nothing returns booleanreturn(GetSpellAbilityId()=='A09G')endfunctionfunction jj takes nothing returns booleanreturn(IsPlayerAlly(GetOwningPlayer(GetTriggerUnit()),Player(8)))endfunctionfunction Jj takes nothing returns booleanreturn(ur)endfunctionfunction kj takes nothing returns booleanreturn(PX)endfunctionfunction Kj takes nothing returns booleanreturn((mo[(1+GetPlayerId(GetTriggerPlayer()))]+Tr[(1+GetPlayerId(GetTriggerPlayer()))])>(xv-500))endfunctionfunction lj takes nothing returns booleanreturn((mo[(1+GetPlayerId(GetTriggerPlayer()))]+Tr[(1+GetPlayerId(GetTriggerPlayer()))])>(xv-300))endfunctionfunction Lj takes nothing returns booleanreturn((mo[(1+GetPlayerId(GetTriggerPlayer()))]+Tr[(1+GetPlayerId(GetTriggerPlayer()))])>(xv-'d'))endfunctionfunction mj takes nothing returns booleanreturn((mo[(1+GetPlayerId(GetTriggerPlayer()))]+Tr[(1+GetPlayerId(GetTriggerPlayer()))])>xv)
endfunctionfunction Mj takes nothing returns nothingif(jj())then
set gv=Player(8)
else
set gv=Player(9)
endifset Ev=GetUnitLoc(GetTriggerUnit())call CreateNUnitsAtLoc(1,'n00N',gv,Ev,bj_UNIT_FACING)set Av=bj_lastCreatedUnitset xv=(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))call GroupAddUnit(tX[xv],Av)
call SetUnitUserData(Av,xv)call SetUnitColor(bj_lastCreatedUnit,GetPlayerColor(GetOwningPlayer(GetTriggerUnit())))set ox[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=(ox[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]+3)set qi[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=(qi[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]+75)if(Jj())then
endifcall GroupAddUnit(tr,bj_lastCreatedUnit)
call GroupAddUnit(Ha,bj_lastCreatedUnit)
call GroupAddUnit(tX[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],bj_lastCreatedUnit)
call AddSpecialEffectLocBJ(Ev,"Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl")call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(Ev)call TriggerExecute(HE)call TriggerExecute(LV)set xv=(S2I(fr[(rv+1)])+(rv*(rv*2)))
if(kj())then
set xv=(S2I(fr[(rv+0)])+(rv*(rv*2)))
endifif(mj())then
call UnitRemoveAbility(GetTriggerUnit(),'A09E')call UnitRemoveAbility(GetTriggerUnit(),'A09F')call UnitRemoveAbility(GetTriggerUnit(),'A09G')call UnitRemoveAbility(GetTriggerUnit(),'A09H')call UnitAddAbility(GetTriggerUnit(),'A09V')
call UnitAddAbility(GetTriggerUnit(),'A09W')
call UnitAddAbility(GetTriggerUnit(),'A09U')
call UnitAddAbility(GetTriggerUnit(),'A09P')
else
if(Lj())then
call UnitRemoveAbility(GetTriggerUnit(),'A09F')call UnitRemoveAbility(GetTriggerUnit(),'A09G')call UnitRemoveAbility(GetTriggerUnit(),'A09H')call UnitAddAbility(GetTriggerUnit(),'A09W')
call UnitAddAbility(GetTriggerUnit(),'A09U')
call UnitAddAbility(GetTriggerUnit(),'A09P')
else
if(lj())then
call UnitRemoveAbility(GetTriggerUnit(),'A09G')call UnitRemoveAbility(GetTriggerUnit(),'A09H')call UnitAddAbility(GetTriggerUnit(),'A09U')
call UnitAddAbility(GetTriggerUnit(),'A09P')
else
if(Kj())then
call UnitRemoveAbility(GetTriggerUnit(),'A09H')call UnitAddAbility(GetTriggerUnit(),'A09P')
endifendifendifendifendfunctionfunction Pj takes nothing returns booleanreturn(GetSpellAbilityId()=='A09H')endfunctionfunction qj takes nothing returns booleanreturn(IsPlayerAlly(GetOwningPlayer(GetTriggerUnit()),Player(8)))endfunctionfunction Qj takes nothing returns booleanreturn(ur)endfunctionfunction sj takes nothing returns booleanreturn(PX)endfunctionfunction Sj takes nothing returns booleanreturn((mo[(1+GetPlayerId(GetTriggerPlayer()))]+Tr[(1+GetPlayerId(GetTriggerPlayer()))])>(xv-500))endfunctionfunction tj takes nothing returns booleanreturn((mo[(1+GetPlayerId(GetTriggerPlayer()))]+Tr[(1+GetPlayerId(GetTriggerPlayer()))])>(xv-300))endfunctionfunction Tj takes nothing returns booleanreturn((mo[(1+GetPlayerId(GetTriggerPlayer()))]+Tr[(1+GetPlayerId(GetTriggerPlayer()))])>(xv-'d'))endfunctionfunction uj takes nothing returns booleanreturn((mo[(1+GetPlayerId(GetTriggerPlayer()))]+Tr[(1+GetPlayerId(GetTriggerPlayer()))])>xv)
endfunctionfunction Uj takes nothing returns nothingif(qj())then
set gv=Player(8)
else
set gv=Player(9)
endifset Ev=GetUnitLoc(GetTriggerUnit())call CreateNUnitsAtLoc(1,'n00O',gv,Ev,bj_UNIT_FACING)set Av=bj_lastCreatedUnitset xv=(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))call GroupAddUnit(tX[xv],Av)
call SetUnitUserData(Av,xv)call SetUnitColor(bj_lastCreatedUnit,GetPlayerColor(GetOwningPlayer(GetTriggerUnit())))set ox[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=(ox[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]+5)set qi[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=(qi[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]+'d')if(Qj())then
endifcall GroupAddUnit(tr,bj_lastCreatedUnit)
call GroupAddUnit(Ha,bj_lastCreatedUnit)
call GroupAddUnit(tX[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],bj_lastCreatedUnit)
call AddSpecialEffectLocBJ(Ev,"Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl")call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(Ev)call TriggerExecute(HE)call TriggerExecute(LV)set xv=(S2I(fr[(rv+1)])+(rv*(rv*2)))
if(sj())then
set xv=(S2I(fr[(rv+0)])+(rv*(rv*2)))
endifif(uj())then
call UnitRemoveAbility(GetTriggerUnit(),'A09E')call UnitRemoveAbility(GetTriggerUnit(),'A09F')call UnitRemoveAbility(GetTriggerUnit(),'A09G')call UnitRemoveAbility(GetTriggerUnit(),'A09H')call UnitAddAbility(GetTriggerUnit(),'A09V')
call UnitAddAbility(GetTriggerUnit(),'A09W')
call UnitAddAbility(GetTriggerUnit(),'A09U')
call UnitAddAbility(GetTriggerUnit(),'A09P')
else
if(Tj())then
call UnitRemoveAbility(GetTriggerUnit(),'A09F')call UnitRemoveAbility(GetTriggerUnit(),'A09G')call UnitRemoveAbility(GetTriggerUnit(),'A09H')call UnitAddAbility(GetTriggerUnit(),'A09W')
call UnitAddAbility(GetTriggerUnit(),'A09U')
call UnitAddAbility(GetTriggerUnit(),'A09P')
else
if(tj())then
call UnitRemoveAbility(GetTriggerUnit(),'A09G')call UnitRemoveAbility(GetTriggerUnit(),'A09H')call UnitAddAbility(GetTriggerUnit(),'A09U')
call UnitAddAbility(GetTriggerUnit(),'A09P')
else
if(Sj())then
call UnitRemoveAbility(GetTriggerUnit(),'A09H')call UnitAddAbility(GetTriggerUnit(),'A09P')
endifendifendifendifendfunctionfunction Wj takes nothing returns booleanreturn(GetUnitTypeId(GetAttacker())=='h03B')
endfunctionfunction yj takes nothing returns booleanreturn(GetRandomInt(1,'d')<=30)and(UnitHasBuffBJ(GetAttacker(),'B013')==false)endfunctionfunction Yj takes nothing returns nothingif(yj())then
set Ev=GetUnitLoc(GetAttacker())
call CreateNUnitsAtLoc(1,'u006',Player(-1+(GetUnitUserData(GetAttacker()))),Ev,bj_UNIT_FACING)set Av=bj_lastCreatedUnitcall UnitAddAbility(Av,'A02V')call IssueTargetOrderById(Av,$D0062,GetAttacker())call UnitApplyTimedLifeBJ(4.,'BTLF',Av)call RemoveLocation(Ev)endifendfunctionfunction xJ takes nothing returns booleanreturn(GetSpellAbilityId()=='A06X')endfunctionfunction oJ takes nothing returns nothingset Ev=GetUnitLoc(GetSpellAbilityUnit())
call CreateNUnitsAtLoc(1,'u006',Player(-1+(GetUnitUserData(GetSpellAbilityUnit()))),Ev,bj_UNIT_FACING)set Av=bj_lastCreatedUnitcall UnitAddAbility(Av,'A06Z')call IssueTargetOrderById(Av,$D0085,GetSpellAbilityUnit())call UnitApplyTimedLifeBJ(4.,'BTLF',Av)call RemoveLocation(Ev)endfunctionfunction iJ takes nothing returns booleanreturn(GetUnitTypeId(GetAttacker())=='h081')
endfunctionfunction aJ takes nothing returns booleanreturn(GetUnitStateSwap(UNIT_STATE_MANA,GetAttacker())==GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetAttacker()))
endfunctionfunction nJ takes nothing returns nothingif(aJ())then
call SetWidgetLife(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())+25.))call SetUnitManaBJ(GetAttacker(),0)set Ev=GetUnitLoc(GetAttacker())
call AddSpecialEffectLocBJ(Ev,"Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(Ev)else
call SetUnitManaBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_MANA,GetAttacker())+1))endifendfunctionfunction RJ takes nothing returns booleanreturn(GetUnitTypeId(GetAttacker())=='h080')
endfunctionfunction IJ takes nothing returns booleanreturn(GetUnitAbilityLevelSwapped('A076',GetAttacker())==0)endfunctionfunction AJ takes nothing returns booleanreturn(GetUnitStateSwap(UNIT_STATE_MANA,GetAttacker())<4.)endfunctionfunction NJ takes nothing returns nothingif(AJ())then
call UnitRemoveAbility(GetAttacker(),'A076')
else
if(IJ())then
call UnitAddAbility(GetAttacker(),'A076')else
call SetUnitManaBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_MANA,GetAttacker())-5.))endifendifendfunctionfunction BJ takes nothing returns booleanreturn(GetUnitTypeId(GetAttacker())=='h08A')
endfunctionfunction cJ takes nothing returns booleanreturn(GetUnitStateSwap(UNIT_STATE_MANA,GetAttacker())<GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetAttacker()))endfunctionfunction CJ takes nothing returns nothingif(cJ())then
call SetUnitManaBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_MANA,GetAttacker())+1))call UnitRemoveAbility(GetAttacker(),'A073')
else
call SetUnitManaBJ(GetAttacker(),.0)
call UnitAddAbility(GetAttacker(),'A073')endifendfunctionfunction DJ takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='h082')endfunctionfunction FJ takes nothing returns nothinglocal unit u=GetTriggerUnit()if GetUnitLifePercent(u)<=$A thencall UnitAddAbility(u,'A06P')call IssueImmediateOrderById(u,$D0084)endifset u=nullendfunctionfunction GJ takes nothing returns booleanreturn(GetSpellAbilityId()=='A06P')endfunctionfunction hJ takes nothing returns nothingset Ev=GetUnitLoc(GetSpellAbilityUnit())
call CreateNUnitsAtLoc(1,'n009',Player($F),Ev,bj_UNIT_FACING)call RemoveLocation(Ev)endfunctionfunction jJ takes nothing returns booleanreturn(GetUnitTypeId(GetAttacker())=='n007')
endfunctionfunction JJ takes nothing returns nothingcall IssueTargetOrderById(GetAttacker(),$D026B,GetTriggerUnit())
endfunctionfunction KJ takes nothing returns booleanreturn(GetUnitTypeId(GetAttacker())=='h032')
endfunctionfunction lJ takes nothing returns nothinglocal unit u
set Ev=GetUnitLoc(GetAttacker())
call CreateNUnitsAtLoc(1,'u006',GetOwningPlayer(GetAttacker()),Ev,bj_UNIT_FACING)set u=bj_lastCreatedUnit
call SetUnitUserData(u,GetUnitUserData(GetAttacker()))call UnitAddAbility(u,'A03X')call TriggerSleepAction(1.)call IssueImmediateOrderById(u,$D022E)call UnitApplyTimedLifeBJ(3.,'BTLF',u)call RemoveLocation(Ev)endfunctionfunction sJ takes nothing returns booleanreturn(GetUnitTypeId(GetAttacker())=='h030')and(GetUnitAbilityLevelSwapped('A05U',GetAttacker())==0)
endfunctionfunction SJ takes nothing returns nothingcall UnitAddAbility(GetTriggerUnit(),'A05U')
call UnitAddAbility(GetTriggerUnit(),'A05V')
endfunctionfunction TJ takes nothing returns nothingcall UnitResetCooldown(GetEnumUnit())call IssueImmediateOrderById(GetEnumUnit(),$D022E)call IssueImmediateOrderById(GetEnumUnit(),$D0004)endfunctionfunction uJ takes nothing returns nothingset Nv=AN('h071')call ForGroupBJ(Nv,function TJ)call DestroyGroup(Nv)endfunctionfunction wJ takes nothing returns booleanreturn(GetSpellAbilityId()=='A061')endfunctionfunction WJ takes nothing returns booleanreturn GetBooleanAnd((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetSpellAbilityUnit())),(GetFilterUnit()!=GetSpellAbilityUnit()))endfunctionfunction yJ takes nothing returns booleanreturn(GetUnitAbilityLevelSwapped('A060',GetEnumUnit())==0)endfunctionfunction YJ takes nothing returns nothingif(yJ())then
call UnitAddAbility(GetEnumUnit(),'A060')call UnitAddAbility(GetEnumUnit(),'A065')call UnitAddAbility(GetEnumUnit(),'A063')endifendfunctionfunction zJ takes nothing returns nothingset Ev=GetUnitLoc(GetSpellAbilityUnit())
set Hx=XN(160.,Ev,Condition(function WJ))call ForGroupBJ(Hx,function YJ)call RemoveLocation(Ev)call DestroyGroup(Nv)endfunctionfunction vk takes nothing returns booleanreturn(GetUnitTypeId(GetAttacker())=='h06Z')
endfunctionfunction ek takes nothing returns booleanreturn(GetRandomInt(1,'d')<=20)and(UnitHasBuffBJ(GetAttacker(),'B029')==false)endfunctionfunction xk takes nothing returns nothingif(ek())then
call IssueImmediateOrderById(GetAttacker(),$D0084)endifendfunctionfunction rk takes nothing returns booleanreturn(GetUnitTypeId(GetAttacker())=='h074')and(GetUnitManaPercent(GetAttacker())==100.)
endfunctionfunction ik takes nothing returns nothingcall IssueImmediateOrderById(GetAttacker(),$D0080)endfunctionfunction nk takes nothing returns booleanreturn(GetUnitTypeId(GetAttacker())=='h075')and(GetUnitManaPercent(GetAttacker())==100.)
endfunctionfunction Vk takes nothing returns nothingcall IssueImmediateOrderById(GetAttacker(),$D009F)endfunctionfunction Xk takes nothing returns booleanreturn(GetSpellAbilityId()=='A053')endfunctionfunction Ok takes nothing returns booleanreturn(Gv==false)endfunctionfunction Rk takes nothing returns nothingif(Ok())then
call GroupRemoveUnit(ha,GetSpellAbilityUnit())call ReplaceUnitBJ(GetSpellAbilityUnit(),'h076',1)call SelectUnitAddForPlayer(bj_lastReplacedUnit,GetOwningPlayer(bj_lastReplacedUnit))set Av=bj_lastReplacedUnitcall GroupAddUnit(ha,Av)
call GroupAddUnit(ex,Av)
call SetUnitVertexColorBJ(Av,'d','d','d',50.)call SetUnitTimeScalePercent(Av,.0)call ResetUnitAnimation(Av)call AddSpecialEffectLocBJ(Ev,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")set qi[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=(qi[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]+50)else
call DisplayTimedTextToForce(CN(GetOwningPlayer(GetSpellAbilityUnit())),7.,"TRIGSTR_5503")endifendfunctionfunction Ak takes nothing returns booleanreturn GetBooleanAnd((GetUnitUserData(GetFilterUnit())==(1+GetPlayerId(GetEnumPlayer()))),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(GetUnitTypeId(GetFilterUnit())=='h06Y'))))endfunctionfunction Nk takes nothing returns booleanreturn GetBooleanAnd((GetUnitUserData(GetFilterUnit())==(1+GetPlayerId(GetEnumPlayer()))),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(GetUnitTypeId(GetFilterUnit())=='h06X'))))endfunctionfunction bk takes nothing returns booleanreturn(GetFilterPlayer()==GetEnumPlayer())endfunctionfunction Bk takes nothing returns booleanreturn(CountUnitsInGroup(Nv)>0)endfunctionfunction ck takes nothing returns nothingset Nv=bN(Jx[(1+GetPlayerId(GetEnumPlayer()))],Condition(function Ak))set Hx=bN(Jx[(1+GetPlayerId(GetEnumPlayer()))],Condition(function Nk))if(Bk())then
set xv=((CountUnitsInGroup(Nv)*3)+(CountUnitsInGroup(Hx)*2))
set Av=w[(1+GetPlayerId(GetEnumPlayer()))]set gv=GetEnumPlayer()call Xb(Av,"+"+I2S(xv),100.,77.,.0,gv)call AdjustPlayerStateBJ(xv,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)set mr[(1+GetPlayerId(GetEnumPlayer()))]=(mr[(1+GetPlayerId(GetEnumPlayer()))]+xv)call DisplayTimedTextToForce(fN(Condition(function bk)),7.,(("You received |cffFFcc00"+I2S(xv))+"|r gold from Slave Trade."))endifcall DestroyGroup(Nv)call DestroyGroup(Hx)endfunctionfunction Ck takes nothing returns nothingcall ForForce(Dx,function ck)endfunctionfunction Dk takes nothing returns booleanreturn(GetUnitTypeId(GetAttacker())=='h09P')
endfunctionfunction fk takes nothing returns nothingcall IssueImmediateOrderById(GetAttacker(),$D0057)endfunctionfunction Gk takes nothing returns booleanreturn(GetUnitTypeId(GetAttacker())=='h0A7')or(GetUnitTypeId(GetAttacker())=='h0AV')or(GetUnitTypeId(GetAttacker())=='h0AW')
endfunctionfunction hk takes nothing returns nothingcall IssueImmediateOrderById(GetAttacker(),$D0049)endfunctionfunction sk takes nothing returns booleanreturn(GetUnitTypeId(GetAttacker())=='h06C')
endfunctionfunction tk takes nothing returns nothingif((GetRandomInt(1,'d')<=25)and(UnitHasBuffBJ(GetAttacker(),'B01U')==false))then
set Ev=GetUnitLoc(GetAttacker())
call CreateNUnitsAtLoc(1,'u006',Player(-1+(GetUnitUserData(GetAttacker()))),Ev,bj_UNIT_FACING)set Av=bj_lastCreatedUnitcall UnitAddAbility(Av,'A04B')call IssueTargetOrderById(Av,$D0062,GetAttacker())call UnitApplyTimedLifeBJ(4.,'BTLF',Av)call RemoveLocation(Ev)endifendfunctionfunction Uk takes nothing returns booleanreturn(GetUnitTypeId(GetAttacker())=='h069')or(GetUnitTypeId(GetAttacker())=='h06A')
endfunctionfunction wk takes nothing returns nothingcall IssueImmediateOrderById(GetAttacker(),$D022E)endfunctionfunction qc takes nothing returns nothinglocal unit u=GetDyingUnit()local unit k=GetKillingUnit()local player uP=GetOwningPlayer(u)local integer uc=GetUnitTypeId(u)local integer id=ModuloInteger(GetUnitUserData(u),16)local integer Zc=ModuloInteger(GetUnitUserData(k),16)local integer b=0if IsUnitType(u,UNIT_TYPE_HERO)thencall SetUnitUserData(u,aa+8)
call GroupAddUnit(na,u)endifif u==vA or u==EA or GetPlayerId(uP)<8 thenset uP=nullset u=nullset k=nullreturnendifif IsUnitInGroup(u,Yx)thenset Ev=GetUnitLoc(u)
call CreateNUnitsAtLoc(1,'u006',GetOwningPlayer(k),Ev,bj_UNIT_FACING)set Bv=bj_lastCreatedUnitcall SetUnitUserData(Bv,Zc)call UnitAddAbility(Bv,'A04V')call IssueImmediateOrderById(Bv,$D022E)call UnitApplyTimedLifeBJ(3.,'BTLF',Bv)call RemoveLocation(Ev)endifif(GetUnitTypeId(k)=='h03B')then
set Ev=GetUnitLoc(k)
call CreateNUnitsAtLoc(1,'u006',Player(-1+(Zc)),Ev,bj_UNIT_FACING)set Av=bj_lastCreatedUnitcall UnitAddAbility(Av,'A02V')call IssueTargetOrderById(Av,$D0062,k)call UnitApplyTimedLifeBJ(4.,'BTLF',Av)call RemoveLocation(Ev)endifif uc=='h08A' thenset Ev=GetUnitLoc(u)
call CreateNUnitsAtLoc(1,'h07Y',uP,Ev,bj_UNIT_FACING)set Av=bj_lastCreatedUnitcall SetUnitUserData(Av,id)call GroupAddUnit(Ha,Av)
call GroupAddUnit(tX[id],Av)
call AddSpecialEffectLocBJ(Ev,"Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodKnight.mdl")call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'h07Y',uP,Ev,bj_UNIT_FACING)set Av=bj_lastCreatedUnitcall SetUnitUserData(Av,id)call GroupAddUnit(Ha,Av)
call GroupAddUnit(tX[id],Av)
call AddSpecialEffectLocBJ(Ev,"Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodKnight.mdl")call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'h07Y',uP,Ev,bj_UNIT_FACING)set Av=bj_lastCreatedUnitcall SetUnitUserData(Av,id)call GroupAddUnit(Ha,Av)
call GroupAddUnit(tX[id],Av)
call AddSpecialEffectLocBJ(Ev,"Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodKnight.mdl")call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(Ev)elseif uc=='h038' thenset Ev=GetUnitLoc(u)
call CreateNUnitsAtLoc(1,'u006',uP,Ev,bj_UNIT_FACING)set Bv=bj_lastCreatedUnitcall UnitAddAbility(Bv,'A018')call IssueImmediateOrderById(Bv,$D022E)call UnitApplyTimedLifeBJ(3.,'BTLF',Bv)call RemoveLocation(Ev)elseif uc=='h039' thenset Ev=GetUnitLoc(u)
call CreateNUnitsAtLoc(1,'u006',uP,Ev,bj_UNIT_FACING)set Bv=bj_lastCreatedUnitcall SetUnitUserData(Bv,id)call UnitAddAbility(Bv,'A02E')call IssueImmediateOrderById(Bv,$D022E)call UnitApplyTimedLifeBJ(3.,'BTLF',Bv)call RemoveLocation(Ev)elseif uc=='h0AP' thenset Ev=GetUnitLoc(u)
call CreateNUnitsAtLoc(1,'h0AX',uP,Ev,bj_UNIT_FACING)set Av=bj_lastCreatedUnitcall SetUnitUserData(Av,id)call GroupAddUnit(Ha,Av)
call GroupAddUnit(tX[id],Av)
call AddSpecialEffectLocBJ(Ev,"Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodKnight.mdl")call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(Ev)elseif uc=='h0AS' thenset Ev=GetUnitLoc(u)
call CreateNUnitsAtLoc(1,'h0D5',uP,Ev,bj_UNIT_FACING)set Av=bj_lastCreatedUnitcall SetUnitUserData(Av,id)call GroupAddUnit(Ha,Av)
call GroupAddUnit(tX[id],Av)
call AddSpecialEffectLocBJ(Ev,"Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodKnight.mdl")call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(Ev)elseif uc=='h0D5' thenset Ev=GetUnitLoc(u)
call CreateNUnitsAtLoc(1,'h0A7',uP,Ev,bj_UNIT_FACING)set Av=bj_lastCreatedUnitcall SetUnitUserData(Av,id)call GroupAddUnit(Ha,Av)
call GroupAddUnit(tX[id],Av)
call RemoveLocation(Ev)elseif uc=='h0AX' thenset Ev=GetUnitLoc(u)
call CreateNUnitsAtLoc(1,'h0AV',uP,Ev,bj_UNIT_FACING)set Av=bj_lastCreatedUnitcall SetUnitUserData(Av,id)call GroupAddUnit(Ha,Av)
call GroupAddUnit(tX[id],Av)
call RemoveLocation(Ev)endifif(uP==Player(8))or(uP==Player(9))thencall GroupRemoveUnit(Ha,u)call GroupRemoveUnit(qX,u)call GroupRemoveUnit(QX,u)call GroupRemoveUnit(nO,u)call GroupRemoveUnit(AO,u)call GroupRemoveUnit(tX[id],u)set Li=trueset uP=nullset u=nullset k=nullreturnendifif(Zc==0 or rv>=31)thencall GroupRemoveUnit(EV,u)call GroupRemoveUnit(kV[1],u)call GroupRemoveUnit(kV[2],u)set uP=nullset u=nullset k=nullreturnendifset ba[Zc]=ba[Zc]+1set bO=bO+1if(IsUnitType(u,UNIT_TYPE_SUMMONED))then
set b=GetUnitLevel(u)else
set b=Y[rv]endifif GetUnitAbilityLevel(u,'A07D')==1 and id!=Zc thenset GX[Zc]=(GX[Zc]+1)set b=R2I(I2R(b)*Jr[id])
endifif(k==vA)thencall SetPlayerState(Player(9),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(9),PLAYER_STATE_RESOURCE_GOLD)+b)
call SetPlayerState(Player(9),PLAYER_STATE_GOLD_GATHERED,GetPlayerState(Player(9),PLAYER_STATE_GOLD_GATHERED)+b)
elseif(k==EA)thencall SetPlayerState(Player(8),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(8),PLAYER_STATE_RESOURCE_GOLD)+b)
call SetPlayerState(Player(8),PLAYER_STATE_GOLD_GATHERED,GetPlayerState(Player(8),PLAYER_STATE_GOLD_GATHERED)+b)
endifcall SetPlayerState(Player(Zc-1),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(Zc-1),PLAYER_STATE_RESOURCE_GOLD)+b)call SetPlayerState(Player(Zc-1),PLAYER_STATE_GOLD_GATHERED,GetPlayerState(Player(Zc-1),PLAYER_STATE_GOLD_GATHERED)+b)set Lo[Zc]=(Lo[Zc]+b)set mr[Zc]=(mr[Zc]+b)if(b>0)thencall Xb(u,"+"+I2S(b),100.,77.,.0,Player(Zc-1))endifif(zo==false)thencall SetPlayerState(Player(9),PLAYER_STATE_RESOURCE_GOLD,0)call SetPlayerState(Player(8),PLAYER_STATE_RESOURCE_GOLD,0)endifset Li=truecall GroupRemoveUnit(EV,u)call GroupRemoveUnit(kV[1],u)call GroupRemoveUnit(kV[2],u)call GroupRemoveUnit(eO[id],u)set uP=nullset u=nullset k=nullendfunctionfunction Zk takes nothing returns booleanreturn(Gv)endfunctionfunction vK takes nothing returns booleanreturn GetBooleanAnd((IsUnitInGroup(GetFilterUnit(),EV)),(UnitHasBuffBJ(GetFilterUnit(),'B01Y')))endfunctionfunction eK takes nothing returns nothingcall DestroyGroup(Yx)set Yx=iN(bj_mapInitialPlayableArea,Condition(function vK))endfunctionfunction oK takes nothing returns booleanreturn(GetSpellAbilityId()=='A049')endfunctionfunction rK takes nothing returns nothingset Ev=GetUnitLoc(GetSpellAbilityUnit())
call AddSpecialEffectLocBJ(Ev,"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)
call SetUnitVertexColorBJ(GetSpellAbilityUnit(),100.,100.,100.,65.)call RemoveLocation(Ev)endfunctionfunction aK takes nothing returns booleanreturn(GetUnitTypeId(GetAttacker())=='h08T')
endfunctionfunction nK takes nothing returns booleanreturn(GetUnitStateSwap(UNIT_STATE_MANA,GetAttacker())>=30.)
endfunctionfunction VK takes nothing returns nothingif(nK())then
call IssueImmediateOrderById(GetAttacker(),$D009B)endifendfunctionfunction XK takes nothing returns booleanreturn(GetUnitTypeId(GetAttacker())=='h092')and(GetUnitManaPercent(GetAttacker())==100.)
endfunctionfunction OK takes nothing returns nothingcall IssueTargetOrderById(GetAttacker(),$D0097,GetTriggerUnit())
endfunctionfunction bK takes nothing returns booleanreturn(GetUnitTypeId(GetAttacker())=='h04N')
endfunctionfunction BK takes nothing returns nothinglocal unit u=GetAttacker()local unit u2=GetTriggerUnit()local string slocal real r
local integer i=R2I((GetUnitStateSwap(UNIT_STATE_MANA,GetAttacker())/ 3.))local player pl=GetOwningPlayer(u)call TriggerSleepAction(.633)call UnitDamageTargetBJ(u,u2,I2R(i),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)set i=(i+GetRandomInt($C1,$CD))set s=I2S(i)
set r=GetUnitFlyHeight(u)call Ab(u,s,100.,.0,.0,10.,r,pl)
endfunctionfunction CK takes nothing returns booleanreturn(GetUnitTypeId(GetAttacker())=='h02D')
endfunctionfunction dK takes nothing returns booleanreturn(GetUnitStateSwap(UNIT_STATE_MANA,GetAttacker())<$A)endfunctionfunction DK takes nothing returns nothingif(dK())then
call SetUnitManaBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_MANA,GetAttacker())+1))endifendfunctionfunction FK takes nothing returns booleanreturn(GetUnitTypeId(GetAttacker())=='h02H')
endfunctionfunction GK takes nothing returns nothinglocal unit u
if GetRandomInt(1,$A)<=7 thenset Ev=GetUnitLoc(GetTriggerUnit())call CreateNUnitsAtLoc(1,'u006',GetOwningPlayer(GetAttacker()),Ev,bj_UNIT_FACING)set u=bj_lastCreatedUnit
call SetUnitUserData(u,GetUnitUserData(GetAttacker()))call UnitAddAbility(u,'A03V')call TriggerSleepAction(.6)call IssueImmediateOrderById(u,$D022E)call UnitApplyTimedLifeBJ(3.,'BTLF',u)call RemoveLocation(Ev)set u=nullendifendfunctionfunction lK takes nothing returns booleanreturn(Gv)endfunctionfunction LK takes nothing returns booleanreturn((GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(GetEnumUnit()))),(IsUnitType(GetFilterUnit(),UNIT_TYPE_GIANT))))!=null)!=nullendfunctionfunction mK takes nothing returns booleanreturn(CountUnitsInGroup(Nv)>0)endfunctionfunction MK takes nothing returns nothingset Ev=GetUnitLoc(GetEnumUnit())
set Hx=XN(500.,Ev,Condition(function LK))if(mK())then
set Av=GroupPickRandomUnit(Hx)set jv=GetUnitLoc(Av)call IssuePointOrderByIdLoc(GetEnumUnit(),$D009D,jv)
call RemoveLocation(jv)endifcall RemoveLocation(Ev)call DestroyGroup(Hx)endfunctionfunction pK takes nothing returns nothingset Nv=AN('H05K')call ForGroupBJ(Nv,function MK)call DestroyGroup(Nv)endfunctionfunction IK takes nothing returns booleanreturn((IsUnitIllusion(GetSummonedUnit()))or(IsUnitType(GetSummonedUnit(),UNIT_TYPE_SUMMONED)))!=nullendfunctionfunction AK takes nothing returns nothingset Av=GetSummonedUnit()
set xv=GetUnitUserData(GetSummoningUnit())call SetUnitUserData(Av,xv)call GroupAddUnit(tX[xv],Av)
call GroupAddUnit(Ha,Av)
call SetUnitColor(Av,GetPlayerColor(Player(-1+(xv))))if PX thenif(IsPlayerAlly(GetOwningPlayer(Av),Player(8)))thencall GroupAddUnit(QX,Av)
set Ev=GetRectCenter(qn)
else
call GroupAddUnit(qX,Av)
set Ev=GetRectCenter(Qn)
endifcall IssuePointOrderByIdLoc(Av,$D000F,Ev)call IssuePointOrderByIdLoc(GetSummoningUnit(),$D000F,Ev)else
call IssuePointOrderByIdLoc(Av,$D000F,Wx[xv])call IssuePointOrderByIdLoc(GetSummoningUnit(),$D000F,Wx[xv])call RemoveLocation(Ev)endifif IsUnitType(Av,UNIT_TYPE_SUMMONED)then
set Ev=GetUnitLoc(Av)call AddSpecialEffectLocBJ(Ev,"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(Ev)endifendfunctionfunction SK takes nothing returns booleanlocal integer id=GetUnitTypeId(GetAttacker())return(id=='h0CR')or(id=='h0CT')or(id=='h03G')or(id=='h03H')or(id=='h03M')or(id=='h03N')or(id=='h087')or(id=='h0BY')or(id=='h0BZ')or(id=='u005')
endfunctionfunction tK takes nothing returns booleanreturn(GetUnitStateSwap(UNIT_STATE_MANA,GetAttacker())==GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetAttacker()))and(SK())endfunctionfunction TK takes nothing returns nothingcall IssueImmediateOrderById(GetAttacker(),$D0081)endfunctionfunction UK takes nothing returns booleanreturn((IsUnitType(GetSpellAbilityUnit(),UNIT_TYPE_GIANT))!=null)!=nullendfunctionfunction wK takes unit u returns boolean
return(GetUnitAbilityLevelSwapped('A017',u)>0)and(RectContainsUnit(xn,u)==false)and(RectContainsUnit(on,u)==false)endfunctionfunction WK takes nothing returns nothinglocal unit u=GetSpellAbilityUnit()call YA(1.)if(wK(u))thencall IssuePointOrderByIdLoc(u,$D000F,re[GetUnitAbilityLevelSwapped('A017',u)])endifset u=nullendfunctionfunction YK takes nothing returns booleanreturn(((IsUnitType(GetEnteringUnit(),UNIT_TYPE_GROUND))and(GetUnitDefaultFlyHeight(GetEnteringUnit())>25.))!=null)!=nullendfunctionfunction zK takes nothing returns nothingcall UnitAddAbility(GetEnteringUnit(),'Arav')call SetUnitFlyHeight(GetEnteringUnit(),GetUnitDefaultFlyHeight(GetEnteringUnit()),.0)call UnitRemoveAbility(GetEnteringUnit(),'Arav')
endfunctionfunction vl takes nothing returns booleanreturn(GetPlayerSlotState(Player(0))==PLAYER_SLOT_STATE_EMPTY)or(GetPlayerSlotState(Player(0))==PLAYER_SLOT_STATE_LEFT)endfunctionfunction el takes nothing returns booleanreturn(vl())
endfunctionfunction xl takes nothing returns booleanreturn(GetPlayerSlotState(Player(1))==PLAYER_SLOT_STATE_EMPTY)or(GetPlayerSlotState(Player(1))==PLAYER_SLOT_STATE_LEFT)endfunctionfunction ol takes nothing returns booleanreturn(xl())
endfunctionfunction rl takes nothing returns booleanreturn(GetPlayerSlotState(Player(2))==PLAYER_SLOT_STATE_EMPTY)or(GetPlayerSlotState(Player(2))==PLAYER_SLOT_STATE_LEFT)endfunctionfunction il takes nothing returns booleanreturn(rl())
endfunctionfunction al takes nothing returns booleanreturn(GetPlayerSlotState(Player(3))==PLAYER_SLOT_STATE_EMPTY)or(GetPlayerSlotState(Player(3))==PLAYER_SLOT_STATE_LEFT)endfunctionfunction nl takes nothing returns booleanreturn(al())
endfunctionfunction Vl takes nothing returns booleanreturn(GetPlayerSlotState(Player(4))==PLAYER_SLOT_STATE_EMPTY)or(GetPlayerSlotState(Player(4))==PLAYER_SLOT_STATE_LEFT)endfunctionfunction El takes nothing returns booleanreturn(Vl())
endfunctionfunction Xl takes nothing returns booleanreturn(GetPlayerSlotState(Player(5))==PLAYER_SLOT_STATE_EMPTY)or(GetPlayerSlotState(Player(5))==PLAYER_SLOT_STATE_LEFT)endfunctionfunction Ol takes nothing returns booleanreturn(Xl())
endfunctionfunction Rl takes nothing returns booleanreturn(GetPlayerSlotState(Player(6))==PLAYER_SLOT_STATE_EMPTY)or(GetPlayerSlotState(Player(6))==PLAYER_SLOT_STATE_LEFT)endfunctionfunction Il takes nothing returns booleanreturn(Rl())
endfunctionfunction Al takes nothing returns booleanreturn(GetPlayerSlotState(Player(7))==PLAYER_SLOT_STATE_EMPTY)or(GetPlayerSlotState(Player(7))==PLAYER_SLOT_STATE_LEFT)endfunctionfunction Nl takes nothing returns booleanreturn(Al())
endfunctionfunction bl takes nothing returns booleanreturn(Ve==false)and(Ee==false)and(Xe==false)and(Oe==false)and(Zx)endfunctionfunction Bl takes nothing returns booleanreturn(se==false)and(Se==false)and(te==false)and(Te==false)and(ne)endfunctionfunction cl takes nothing returns nothingif(el())then
set Ve=false
endifif(ol())then
set Ee=false
endifif(il())then
set Xe=false
endifif(nl())then
set Oe=false
endifif(El())then
set se=false
endifif(Ol())then
set Se=false
endifif(Il())then
set te=false
endifif(Nl())then
set Te=false
endifif(bl())then
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"TRIGSTR_5493")call UnitAddItemByIdSwapped('I000',vA)set Zx=false
endifif(Bl())then
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"TRIGSTR_5494")call UnitAddItemByIdSwapped('I000',EA)set ne=false
endifendfunctionfunction aC takes nothing returns booleanreturn GetOwningPlayer(GetFilterUnit())==boendfunctionfunction dl takes nothing returns booleanreturn(GetSpellAbilityId()=='A050')endfunctionfunction jl takes nothing returns nothinglocal unit hClocal boolean jC=falseset Av=GetEnumUnit()
set xv=ModuloInteger(GetUnitUserData(Av),16)
if((PX==false)and(IsUnitInGroup(Av,Ha))and(IsUnitInGroup(Av,nO)==false)and(IsUnitInGroup(Av,AO)==false))then
if(CountUnitsInGroup(eO[xv])==0)then
call IssuePointOrderByIdLoc(Av,$D000F,re[xv])endifendifif(GetOwningPlayer(Av)==Player($D))thencall SetUnitUserData(Av,xv)if IsUnitInRegion(oa,Av)then
set hC=vAset jC=trueendifif jC thencall IssueTargetOrderById(Av,$D000F,hC)else
call IssuePointOrderByIdLoc(Av,$D000F,nV)endifendifif(GetOwningPlayer(Av)==Player($E))thencall SetUnitUserData(Av,xv)if IsUnitInRegion(oa,Av)then
set hC=EAset jC=trueendifif jC thencall IssueTargetOrderById(Av,$D000F,hC)else
call IssuePointOrderByIdLoc(Av,$D000F,VV)endifendifset hC=nullendfunctionfunction Jl takes nothing returns nothinglocal unit u=GetSpellAbilityUnit()local integer JC=GetUnitTypeId(u)local integer kC=GetRandomInt(1,3)set Ev=GetSpellTargetLoc()set ra=(GetPlayerId(GetOwningPlayer(u)))/4if JC=='u017' thencall PauseUnit(u,true)call IssueImmediateOrderById(u,$D0004)call PauseUnit(u,false)if Ar[GetPlayerId(GetOwningPlayer(u))]thencall SetUnitAnimation(u,"attack alternate")call QueueUnitAnimation(u,"stand alternate")
else
call SetUnitAnimation(u,"attack")call QueueUnitAnimation(u,"stand")endifelseif JC=='u015' thencall PauseUnit(u,true)call IssueImmediateOrderById(u,$D0004)call PauseUnit(u,false)call SetUnitAnimation(u,"Spell Slam")call QueueUnitAnimation(u,"stand")elseif JC=='u016' thencall PauseUnit(u,true)call IssueImmediateOrderById(u,$D0004)call PauseUnit(u,false)if kC==1 thencall SetUnitAnimation(u,"Attack Slam")elseif kC==2 thencall SetUnitAnimation(u,"Spell Slam")else
call SetUnitAnimation(u,"Spell Throw")endifcall QueueUnitAnimation(u,"stand")elseif JC=='u018' thencall PauseUnit(u,true)call IssueImmediateOrderById(u,$D0004)call PauseUnit(u,false)if kC==1 thencall SetUnitAnimation(u,"attack")elseif kC==2 thencall SetUnitAnimation(u,"Attack Slam")else
call SetUnitAnimation(u,"Spell Special")
endifcall QueueUnitAnimation(u,"stand")elseif JC=='u00J' or JC=='u00L' then
call PauseUnit(u,true)call IssueImmediateOrderById(u,$D0004)call PauseUnit(u,false)call SetUnitAnimation(u,"Spell")
call QueueUnitAnimation(u,"stand")else
call PauseUnit(u,true)call IssueImmediateOrderById(u,$D0004)call PauseUnit(u,false)call SetUnitAnimation(u,"attack")call QueueUnitAnimation(u,"stand")endifset Nv=IN(200.,Ev)call ForGroupBJ(Nv,function jl)call DestroyGroup(Nv)if ra==0 and RectContainsLoc(si,Ev)thenset bo=Player(8)
call GroupEnumUnitsInRect(co,xn,No)call GroupPointOrderById(co,$D000F,-3536.,-2960.)call GroupClear(co)elseif ra==1 and RectContainsLoc(ui,Ev)thenset bo=Player(9)
call GroupEnumUnitsInRect(co,on,No)call GroupPointOrderById(co,$D000F,3504.,-2960.)
call GroupClear(co)endifcall RemoveLocation(Ev)set u=nullendfunctionfunction KC takes nothing returns booleanreturn GetSpellAbilityId()=='A0BW' or GetSpellAbilityId()=='A0BX'endfunctionfunction mC takes nothing returns nothinglocal unit u=GetSpellAbilityUnit()local integer id=GetPlayerId(GetOwningPlayer(u))+1if GetSpellAbilityId()=='A0BW' thencall UnitRemoveAbility(u,'A0BW')
call UnitAddAbility(u,'A0BX')set K[id]=falseelse
call UnitRemoveAbility(u,'A0BX')
call UnitAddAbility(u,'A0BW')set K[id]=trueendifset u=nullendfunctionfunction Ll takes nothing returns nothinglocal unit u=GetEnumUnit()if(xv<5)then
set Ev=GetUnitLoc(u)
call SetUnitPositionLoc(u,rx)call IssueImmediateOrderById(u,$D0004)call AddSpecialEffectLocBJ(Ev,"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(Ev)set Ev=GetUnitLoc(u)
call AddSpecialEffectLocBJ(Ev,"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(Ev)call GroupRemoveUnit(XV[xv],u)call GroupAddUnit(QX,u)call GroupAddUnit(Mi,u)else
set Ev=GetUnitLoc(u)
call SetUnitPositionLoc(u,ix)call IssueImmediateOrderById(u,$D0004)call AddSpecialEffectLocBJ(Ev,"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(Ev)set Ev=GetUnitLoc(u)
call AddSpecialEffectLocBJ(Ev,"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(Ev)call GroupRemoveUnit(XV[xv],u)call GroupAddUnit(qX,u)call GroupAddUnit(Mi,u)endifset u=nullendfunctionfunction Ml takes nothing returns nothingset xv=(1+GetPlayerId(GetEnumPlayer()))if(CountUnitsInGroup(XV[xv])>0)and(CountUnitsInGroup(eO[xv])==0)then
call ForGroupBJ(XV[xv],function Ll)endifendfunctionfunction MC takes nothing returns booleanlocal unit u
local integer Bc=GetIssuedOrderId()local location pClocal unit hClocal boolean jC=falseif GetTriggerEventId()==EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER thenif Bc==$D0012 thenset u=GetTriggerUnit()set Bc=ModuloInteger((GetUnitUserData(u)/16),4)if(GetOwningPlayer(u)==Player($D))thenif Bc==1 thenset pC=re[1]
elseif Bc==2 thenset pC=re[3]
elseif Bc==3 thenset pC=wrelse
set pC=nVif IsUnitInRegion(oa,u)thenset hC=vAset jC=trueendifendifelse
if Bc==1 thenset pC=re[5]
elseif Bc==2 thenset pC=re[7]
elseif Bc==3 thenset pC=Wrelse
set pC=VVif IsUnitInRegion(oa,u)thenset hC=EAset jC=trueendifendifendifcall SetUnitPosition(u,GetUnitX(u),GetUnitY(u))if jC thencall IssueTargetOrderById(u,$D000F,hC)else
call IssuePointOrderByIdLoc(u,$D000F,pC)
endifset u=nullset pC=nullset hC=nullendifreturn false
endifif Bc==$D000F or Bc==$D0004 then
return false
endifreturn PX==false
endfunctionfunction PC takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer sC=ModuloInteger(GetUnitUserData(u),64)call SetUnitUserData(u,sC+((aa+2)*64))call GroupAddUnit(Aa,u)set u=nullendfunctionfunction bd takes nothing returns nothinglocal unit u=GetEnumUnit()local integer Bc
local integer cd=GetUnitUserData(u)/64local location pClocal unit hClocal boolean jC=falseif(cd<aa)thenset Bc=ModuloInteger((GetUnitUserData(u)/16),4)if(GetOwningPlayer(u)==Player($D))thenif Bc==1 thenset pC=re[1]
elseif Bc==2 thenset pC=re[3]
elseif Bc==3 thenset pC=wrelse
set pC=nVif IsUnitInRegion(oa,u)thenset hC=vAset jC=trueendifendifelse
if Bc==1 thenset pC=re[5]
elseif Bc==2 thenset pC=re[7]
elseif Bc==3 thenset pC=Wrelse
set pC=VVif IsUnitInRegion(oa,u)thenset hC=EAset jC=trueendifendifendifif jC thencall IssueTargetOrderById(u,$D000F,hC)else
call IssuePointOrderByIdLoc(u,$D000F,pC)
endifcall GroupRemoveUnit(Aa,u)endifset pC=nullset u=nullset hC=nullendfunctionfunction Sl takes nothing returns nothingcall IssuePointOrderByIdLoc(GetEnumUnit(),$D000F,rx)
endfunctionfunction tl takes nothing returns nothingcall IssuePointOrderByIdLoc(GetEnumUnit(),$D000F,ix)
endfunctionfunction Ul takes nothing returns nothingif(GetUnitCurrentOrder(GetEnumUnit())!=$D000F)thencall IssuePointOrderByIdLoc(GetEnumUnit(),$D000F,Wx[xv])
endifendfunctionfunction Zl takes nothing returns nothingset xv=(1+GetPlayerId(GetEnumPlayer()))if(CountUnitsInGroup(eO[xv])==0)then
call ForGroupBJ(tX[xv],function Ul)endifendfunctionfunction gd takes nothing returns nothinglocal unit u=GetEnumUnit()local unit hClocal boolean jC=falselocal integer Bc
local location pCif(GetUnitCurrentOrder(u)!=$D000F)thenset Bc=ModuloInteger((GetUnitUserData(u)/16),4)if Bc==1 thenset pC=re[1]
elseif Bc==2 thenset pC=re[3]
elseif Bc==3 thenset pC=wrelse
set pC=nVif IsUnitInRegion(oa,u)thenset hC=vAset jC=trueendifendifif jC thencall IssueTargetOrderById(u,$D000F,hC)else
call IssuePointOrderByIdLoc(u,$D000F,pC)
endifendifset pC=nullset u=nullset hC=nullendfunctionfunction Jd takes nothing returns nothinglocal unit u=GetEnumUnit()local unit hClocal boolean jC=falselocal integer Bc
local location pCif(GetUnitCurrentOrder(u)!=$D000F)thenset Bc=ModuloInteger((GetUnitUserData(u)/16),4)if Bc==1 thenset pC=re[5]
elseif Bc==2 thenset pC=re[7]
elseif Bc==3 thenset pC=Wrelse
set pC=VVif IsUnitInRegion(oa,u)thenset hC=EAset jC=trueendifendifif jC thencall IssueTargetOrderById(u,$D000F,hC)else
call IssuePointOrderByIdLoc(u,$D000F,pC)
endifendifset pC=nullset u=nullset hC=nullendfunctionfunction pd takes nothing returns nothinglocal unit u=GetEnteringUnit()local unit hCif(GetOwningPlayer(u)==Player($D))thenset hC=vAelse
set hC=EAendifcall IssueTargetOrderById(u,$D000F,hC)set u=nullset hC=nullendfunctionfunction yF takes nothing returns booleanreturn(Ba==false)endfunctionfunction eg takes nothing returns nothingif(tx>0)then
set tx=(tx-1)endifif(Tx>0)then
set Tx=(Tx-1)endifset aa=aa+1set LE=(LE+1)if(LE<$A)thenset pe=("0"+I2S(LE))
else
set pe=I2S(LE)endifif(LE>59)thenset JE=(JE+1)set LE=0
set pe="00"endifif(JE<$A)thenset Pe=("0"+I2S(JE))
else
set Pe=I2S(JE)endifif(JE>59)thenset Jn=(Jn+1)set LE=0
set JE=0
set Pe="00"set pe="00"endifset Qe=((((I2S(Jn)+":")+Pe)+":")+pe)
call LeaderboardSetPlayerItemValueBJ(Player(8),Dv,R2I(GetUnitStateSwap(UNIT_STATE_LIFE,vA)))
call LeaderboardSetPlayerItemValueBJ(Player(9),Dv,R2I(GetUnitStateSwap(UNIT_STATE_LIFE,EA)))
if(Q==false)then
set ax=(ax-1)set nx=(nx-1)if(ax<=0)and(GetUnitLifePercent(vA)<=$A)then
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,7.,"TRIGSTR_4307")
set ax='x'endifif(nx<=0)and(GetUnitLifePercent(EA)<=$A)then
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,7.,"TRIGSTR_4308")
set nx='x'endifendifif c and aa>J[$B]thenset c=falseset J[$A]=aa+$B4
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,5,"|c1100FF00Fast Finish|r vote expired")endifendfunctionfunction ud takes nothing returns nothingif Ba==false and SV and PX==false thenif(Li)thencall ForForce(Cx,function Zl)endifif(NO)thencall ForForce(Cx,function Ml)call ForGroupBJ(nO,function Sl)call ForGroupBJ(AO,function tl)endifendifendfunctionfunction Wd takes nothing returns nothinglocal integer RD
if Ba==false and SV and PX==false thencall ForGroup(Aa,function bd)set RD=ModuloInteger(aa,2)if RD==0 thencall ForGroup(kV[1],function gd)
else
call ForGroup(kV[2],function Jd)
endifendifendfunctionfunction bD takes player pb returns nothinglocal integer id=GetPlayerId(pb)
local integer i=0local integer fD=3local integer lD=0if GetPlayerTeam(pb)==J[9]and J[id]==0 thenset J[id]=1set J[8]=J[8]+1if id>3 then
set i=4set fD=7
endifloop
if Mb(Player(i))then
set lD=lD+1endifset i=i+1exitwhen i>fDendloopif J[8]>=lD then
set c=falseset J[$A]=aa+999
if id<4 then
call KillUnit(vA)else
call KillUnit(EA)endifelse
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,5,"Player "+Le[1+id]+GetPlayerName(pb)+"|r voted for |c1100FF00Fast Finish|r")
endifendifendfunctionfunction pD takes nothing returns nothinglocal player pb=GetTriggerPlayer()local integer i=0if c thencall bD(pb)else
if aa>J[$A]thenloop
set J[i]=0set i=i+1exitwhen i>8
endloopset J[9]=GetPlayerTeam(pb)set c=trueset J[$B]=aa+'x'
call bD(pb)endifendifset pb=nullendfunctionfunction oL takes nothing returns booleanreturn(GetOwningPlayer(GetEnteringUnit())==Player($D))endfunctionfunction rL takes nothing returns nothinglocal unit u=GetEnteringUnit()local integer id=ModuloInteger(GetUnitUserData(u),16)local integer Bc=ModuloInteger((GetUnitUserData(u)/16),4)if Bc>0 then
call SetUnitUserData(u,id+48)call IssuePointOrderByIdLoc(u,$D000F,wr)
endifset u=nullendfunctionfunction aL takes nothing returns booleanreturn(GetOwningPlayer(GetEnteringUnit())==Player($D))endfunctionfunction nL takes nothing returns nothinglocal unit u=GetEnteringUnit()call SetUnitUserData(u,ModuloInteger(GetUnitUserData(u),16))
call IssuePointOrderByIdLoc(u,$D000F,nV)
set u=nullendfunctionfunction EL takes nothing returns booleanreturn(GetOwningPlayer(GetEnteringUnit())==Player($D))endfunctionfunction XL takes nothing returns nothingset xv=ModuloInteger(GetUnitUserData(GetEnteringUnit()),16)call GroupRemoveUnit(eO[xv],GetEnteringUnit())endfunctionfunction RL takes nothing returns booleanreturn(GetOwningPlayer(GetEnteringUnit())==Player($E))endfunctionfunction IL takes nothing returns nothinglocal unit u=GetEnteringUnit()local integer id=ModuloInteger(GetUnitUserData(u),16)local integer Bc=ModuloInteger((GetUnitUserData(u)/16),4)if Bc>0 then
call SetUnitUserData(u,id+48)call IssuePointOrderByIdLoc(u,$D000F,Wr)
endifset u=nullendfunctionfunction NL takes nothing returns booleanreturn(GetOwningPlayer(GetEnteringUnit())==Player($E))endfunctionfunction bL takes nothing returns nothinglocal unit u=GetEnteringUnit()call SetUnitUserData(u,ModuloInteger(GetUnitUserData(u),16))
call IssuePointOrderByIdLoc(u,$D000F,VV)
set u=nullendfunctionfunction cL takes nothing returns booleanreturn(GetOwningPlayer(GetEnteringUnit())==Player($E))endfunctionfunction CL takes nothing returns nothingset xv=ModuloInteger(GetUnitUserData(GetEnteringUnit()),16)call GroupRemoveUnit(eO[xv],GetEnteringUnit())endfunctionfunction QL takes nothing returns booleanreturn(((IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED))or(IsUnitType(GetTriggerUnit(),UNIT_TYPE_GIANT)))!=null)!=nullendfunctionfunction sL takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(8))and(QL())endfunctionfunction SL takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer id=GetUnitUserData(u)call GroupAddUnit(Ha,u)if(id>0)then
call GroupAddUnit(tX[id],u)endifset u=nullendfunctionfunction TL takes nothing returns booleanreturn(((IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED))or(IsUnitType(GetTriggerUnit(),UNIT_TYPE_GIANT)))!=null)!=nullendfunctionfunction uL takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(9))and(TL())endfunctionfunction UL takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer id=GetUnitUserData(u)call GroupAddUnit(Ha,u)if(id>0)then
call GroupAddUnit(tX[id],u)endifset u=nullendfunctionfunction WL takes nothing returns booleanreturn GetOwningPlayer(GetTriggerUnit())==Player(8)endfunctionfunction yL takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer i=GetUnitUserData(u)call GroupAddUnit(XV[i],u)call GroupRemoveUnit(tX[i],u)set NO=trueset u=nullendfunctionfunction YL takes nothing returns nothinglocal trigger t=CreateTrigger()local region r=CreateRegion()call RegionAddRect(r,Sa)
call RegionAddRect(r,ta)
call RegionAddRect(r,Ta)
call RegionAddRect(r,ua)
call TriggerRegisterEnterRegion(t,r,null)call TriggerAddCondition(t,Condition(function WL))call TriggerAddAction(t,function yL)
set t=nullset r=nullendfunctionfunction zL takes nothing returns booleanreturn GetOwningPlayer(GetTriggerUnit())==Player(9)endfunctionfunction ZL takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer i=GetUnitUserData(u)call GroupAddUnit(XV[i],u)call GroupRemoveUnit(tX[i],u)set NO=trueset u=nullendfunctionfunction vm takes nothing returns nothinglocal trigger t=CreateTrigger()local region r=CreateRegion()call RegionAddRect(r,Ua)
call RegionAddRect(r,wa)
call RegionAddRect(r,Wa)
call RegionAddRect(r,ya)
call TriggerRegisterEnterRegion(t,r,null)call TriggerAddCondition(t,Condition(function zL))call TriggerAddAction(t,function ZL)
set t=nullset r=nullendfunctionfunction em takes nothing returns booleanreturn GetOwningPlayer(GetTriggerUnit())==Player(8)endfunctionfunction xm takes nothing returns nothingcall GroupAddUnit(XV[20],GetTriggerUnit())endfunctionfunction rm takes nothing returns booleanreturn GetOwningPlayer(GetTriggerUnit())==Player(9)endfunctionfunction im takes nothing returns nothingcall GroupAddUnit(XV[21],GetTriggerUnit())endfunctionfunction Vm takes nothing returns booleanreturn(Gv)and((CountUnitsInGroup(XV[20])>0)or(CountUnitsInGroup(XV[21])>0))endfunctionfunction Em takes nothing returns booleanreturn GetBooleanAnd((GetOwningPlayer(GetFilterUnit())==Player($D)),(IsUnitAliveBJ(GetFilterUnit())))endfunctionfunction Xm takes nothing returns booleanreturn GetBooleanAnd((GetOwningPlayer(GetFilterUnit())==Player($E)),(IsUnitAliveBJ(GetFilterUnit())))endfunctionfunction Am takes nothing returns nothingif(IsUnitAliveBJ(GetEnumUnit()))then
set Ev=GetUnitLoc(GetEnumUnit())
call SetUnitPositionLoc(GetEnumUnit(),jv)if(bj_forLoopAIndex==20)then
call SetUnitAbilityLevelSwapped('A017',GetEnumUnit(),9)else
call SetUnitAbilityLevelSwapped('A017',GetEnumUnit(),$A)
endifcall IssueImmediateOrderById(GetEnumUnit(),$D0004)call AddSpecialEffectLocBJ(Ev,"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(Ev)set Ev=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(Ev,"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl")call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(Ev)endifcall GroupRemoveUnit(XV[bj_forLoopAIndex],GetEnumUnit())
endfunctionfunction bm takes nothing returns nothingset jx[20]=iN(vn,Condition(function Em))
set jx[21]=iN(en,Condition(function Xm))
set bj_forLoopAIndex=20set bj_forLoopAIndexEnd=21loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif(bj_forLoopAIndex==20)then
set jv=GetRectCenter(ka)
else
set jv=GetRectCenter(Ka)
endifif(CountUnitsInGroup(jx[bj_forLoopAIndex])==0)thencall ForGroupBJ(XV[bj_forLoopAIndex],function Am)endifcall RemoveLocation(jv)set bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall DestroyGroup(jx[20])call DestroyGroup(jx[21])endfunctionfunction cm takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(8))
endfunctionfunction dm takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer id=GetUnitUserData(u)call GroupAddUnit(nO,u)call GroupRemoveUnit(tX[id],u)call GroupAddUnit(QX,u)set u=nullendfunctionfunction fm takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(8))
endfunctionfunction Fm takes nothing returns nothingcall GroupRemoveUnit(nO,GetTriggerUnit())endfunctionfunction Gm takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(8))
endfunctionfunction Hm takes nothing returns nothingcall IssueImmediateOrderById(GetTriggerUnit(),$D0004)call GroupAddUnit(QX,GetTriggerUnit())endfunctionfunction Jm takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(9))
endfunctionfunction Km takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer id=GetUnitUserData(u)call GroupAddUnit(AO,u)call GroupRemoveUnit(tX[id],u)call GroupAddUnit(qX,u)set u=nullendfunctionfunction Lm takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(9))
endfunctionfunction mm takes nothing returns nothingcall GroupRemoveUnit(AO,GetTriggerUnit())endfunctionfunction pm takes nothing returns booleanreturn(GetOwningPlayer(GetTriggerUnit())==Player(9))
endfunctionfunction qm takes nothing returns nothingcall IssueImmediateOrderById(GetTriggerUnit(),$D0004)call GroupAddUnit(qX,GetTriggerUnit())endfunctionfunction Sm takes nothing returns booleanreturn(GetOwningPlayer(GetEnteringUnit())==Player($D))or(GetOwningPlayer(GetEnteringUnit())==Player($E))
endfunctionfunction tm takes nothing returns nothingcall UnitAddAbility(GetEnteringUnit(),'A067')call UnitAddAbility(GetEnteringUnit(),'A068')endfunctionfunction ym takes nothing returns booleanreturn(GetUnitTypeId(GetEnteringUnit())==z[rv])and(sv[rv]!=1)and(rv!=$A)and(rv!=20)and(rv<30)endfunctionfunction EM takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer id=ModuloInteger(GetUnitUserData(u),16)if GetTriggeringTrigger()==LO thenset NO=trueset gX[id]=(gX[id]+1)endifcall UnitAddAbility(u,'A07D')if(pX)thenset Ie=Jr[id]if(Ie>=1.)thencall UnitAddAbility(u,'A0AZ')elseif(Ie>=.9)and(Ie<1.)then
call UnitAddAbility(u,'A08Q')elseif(Ie>=.8)and(Ie<.9)then
call UnitAddAbility(u,'A0B0')elseif(Ie>=.7)and(Ie<.8)then
call UnitAddAbility(u,'A0AX')elseif(Ie>=.6)and(Ie<.7)then
call UnitAddAbility(u,'A0AY')elseif(Ie>=.5)and(Ie<.6)then
call UnitAddAbility(u,'A0AW')elseif(Ie>=.4)and(Ie<.5)then
call UnitAddAbility(u,'A08N')elseif(Ie>=.3)and(Ie<.4)then
call UnitAddAbility(u,'A08P')elseif(Ie>=.2)and(Ie<.3)then
call UnitAddAbility(u,'A08O')elseif(Ie>=.1)and(Ie<.2)then
call UnitAddAbility(u,'A0AV')else
call UnitAddAbility(u,'A08R')endifelse
call UnitAddAbility(u,'A08R')endifset u=nullendfunctionfunction RM takes nothing returns booleanreturn(GetOwningPlayer(GetEnteringUnit())==Player($D))or(GetOwningPlayer(GetEnteringUnit())==Player($E))
endfunctionfunction IM takes nothing returns nothingcall UnitShareVisionBJ(true,GetEnteringUnit(),GetEnumPlayer())endfunctionfunction NM takes nothing returns nothingif(do)thencall ForForce(dN(GetOwningPlayer(GetEnteringUnit())),function IM)endifendfunctionfunction BM takes nothing returns booleanreturn(GetUnitTypeId(GetEnteringUnit())==z[rv])and(sv[rv]!=1)endfunctionfunction CM takes nothing returns nothingif(pX)thencall DisplayTimedTextToForce(dN(Player(8)),15.,"TRIGSTR_5608")else
call DisplayTimedTextToForce(dN(Player(8)),15.,"TRIGSTR_4298")endifcall PingMinimapLocForForceEx(dN(Player(8)),GetRectCenter(bn),5.,2,'d','d','d')call PlaySoundOnUnitBJ(vV,'d',GetEnteringUnit())
call DisableTrigger(GetTriggeringTrigger())endfunctionfunction DM takes nothing returns booleanreturn(GetUnitTypeId(GetEnteringUnit())==z[rv])and(sv[rv]!=1)endfunctionfunction FM takes nothing returns nothingif(pX)thencall DisplayTimedTextToForce(dN(Player(9)),15.,"TRIGSTR_6350")else
call DisplayTimedTextToForce(dN(Player(9)),15.,"TRIGSTR_4298")endifcall PingMinimapLocForForceEx(dN(Player(9)),GetRectCenter(sa),5.,2,'d','d','d')call PlaySoundOnUnitBJ(vV,'d',GetEnteringUnit())
call DisableTrigger(GetTriggeringTrigger())endfunctionfunction sD takes nothing returns integerlocal integer ilocal integer Yb=99set i=GetUnitAbilityLevel(Av,'A01T')
if i>0 and i<3 thenset Yb=IncUnitAbilityLevel(Av,'A01T')endifset i=GetUnitAbilityLevel(Av,'A021')
if i>0 and i<3 thenset Yb=IncUnitAbilityLevel(Av,'A021')endifset i=GetUnitAbilityLevel(Av,'A022')
if i>0 and i<3 thenset Yb=IncUnitAbilityLevel(Av,'A022')endifreturn Ybendfunctionfunction jM takes nothing returns nothingcall SetPlayerTechResearchedSwap('R000',(GetPlayerTechCountSimple('R000',GetEnumPlayer())+1),GetEnumPlayer())endfunctionfunction lM takes nothing returns nothingcall SetPlayerTechResearchedSwap('R001',(GetPlayerTechCountSimple('R001',GetEnumPlayer())+1),GetEnumPlayer())endfunctionfunction pM takes nothing returns nothingcall SetPlayerTechResearchedSwap('R002',(GetPlayerTechCountSimple('R002',GetEnumPlayer())+1),GetEnumPlayer())endfunctionfunction SD takes nothing returns nothinglocal unit tD=GetSoldUnit()local player TD=GetOwningPlayer(GetSellingUnit())local integer id=GetPlayerId(TD)+1local integer wD=GetUnitTypeId(tD)local integer i=0if IsPlayerAlly(TD,Player(8))thenset gv=Player(8)
set Av=vAelse
set gv=Player(9)
set Av=EAset i=2endifif wD=='u008' thenif(GetPlayerTechCountSimple('R000',gv)<GetPlayerTechMaxAllowedSwap('R000',gv))thencall ForForce(dN(gv),function jM)if(GetUnitAbilityLevelSwapped('A05P',Av)==0)then
call UnitAddAbility(Av,'A05P')call SetUnitAbilityLevelSwapped('A05P',Av,(GetPlayerTechCountSimple('R000',GetOwningPlayer(Av))+1))call UnitRemoveAbility(Av,'A05P')endifcall DisplayTimedTextToForce(dN(gv),10.,(((W[(1+GetPlayerId(TD))]+GetPlayerName(TD))+"|r upgraded your team King's hit points to level |cffFFcc00")+(I2S(GetPlayerTechCountSimple('R000',gv))+"|r")))set Qo[(1+GetPlayerId(TD))]=(Qo[(1+GetPlayerId(TD))]+1)set ox[(1+GetPlayerId(TD))]=(ox[(1+GetPlayerId(TD))]+3)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl",Av,"origin"))set Mo[i]=Mo[i]+1if Mo[i]>=35 and rv>=$D and Mo[i+1]<2 thenset Mo[i+1]=sD()
endifif Mo[i]>=70 and rv>=19 and Mo[i+1]<3 thenset Mo[i+1]=sD()
endifelse
call AdjustPlayerStateBJ(80,TD,PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ(-80,TD,PLAYER_STATE_LUMBER_GATHERED)call DisplayTimedTextToForce(CN(TD),10.,"TRIGSTR_4300")endifelseif wD=='u009' thenif(GetPlayerTechCountSimple('R001',gv)<GetPlayerTechMaxAllowedSwap('R001',gv))thencall ForForce(dN(gv),function lM)if(GetUnitAbilityLevelSwapped('A05O',Av)==0)then
call UnitAddAbility(Av,'A05O')else
call SetUnitAbilityLevelSwapped('A05O',Av,(GetUnitAbilityLevelSwapped('A05O',Av)+1))
endifcall DisplayTimedTextToForce(dN(gv),10.,(((W[(1+GetPlayerId(TD))]+GetPlayerName(TD))+"|r upgraded your team King's attack to level |cffFFcc00")+(I2S(GetPlayerTechCountSimple('R001',gv))+"|r")))set Qo[(1+GetPlayerId(TD))]=(Qo[(1+GetPlayerId(TD))]+1)set ox[(1+GetPlayerId(TD))]=(ox[(1+GetPlayerId(TD))]+3)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl",Av,"origin"))set Mo[i]=Mo[i]+1if Mo[i]>=35 and rv>=$D and Mo[i+1]<2 thenset Mo[i+1]=sD()
endifif Mo[i]>=70 and rv>=19 and Mo[i+1]<3 thenset Mo[i+1]=sD()
endifelse
call AdjustPlayerStateBJ(80,TD,PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ(-80,TD,PLAYER_STATE_LUMBER_GATHERED)call DisplayTimedTextToForce(CN(TD),10.,"TRIGSTR_4300")endifelseif wD=='u00A' thenif(GetPlayerTechCountSimple('R002',gv)<GetPlayerTechMaxAllowedSwap('R002',gv))thencall ForForce(dN(gv),function pM)call DisplayTimedTextToForce(dN(gv),10.,(((W[(1+GetPlayerId(TD))]+GetPlayerName(TD))+"|r upgraded your team King's regeneration to level |cffFFcc00")+(I2S(GetPlayerTechCountSimple('R002',gv))+"|r")))set Qo[(1+GetPlayerId(TD))]=(Qo[(1+GetPlayerId(TD))]+1)set ox[(1+GetPlayerId(TD))]=(ox[(1+GetPlayerId(TD))]+3)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl",Av,"origin"))set Mo[i]=Mo[i]+1if Mo[i]>=35 and rv>=$D and Mo[i+1]<2 thenset Mo[i+1]=sD()
endifif Mo[i]>=70 and rv>=19 and Mo[i+1]<3 thenset Mo[i+1]=sD()
endifelse
call AdjustPlayerStateBJ(80,TD,PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ(-80,TD,PLAYER_STATE_LUMBER_GATHERED)call DisplayTimedTextToForce(CN(TD),10.,"TRIGSTR_4300")endifelse
set Nx[id]=(Nx[id]+1)if(Bx==false)thenset ox[id]=(ox[id]+GetUnitPointValueByType(wD))endifif(IsPlayerAlly(TD,Player(8)))thenset gv=Player($E)set Ev=GetRandomLocInRect(ja)else
set gv=Player($D)set Ev=GetRandomLocInRect(Ja)endifset bj_lastCreatedUnit=CreateUnitAtLoc(gv,GetUnitTypeId(tD),Ev,bj_UNIT_FACING)if K[id]then
call UnitRemoveType(bj_lastCreatedUnit,UNIT_TYPE_PEON)endifcall SetUnitColor(bj_lastCreatedUnit,GetPlayerColor(TD))
call SetUnitUserData(bj_lastCreatedUnit,id)set qi[id]=qi[id]+(GetUnitLevel(tD)*20)call RemoveLocation(Ev)if GetUnitTypeId(tD)=='h05A' thencall IssueImmediateOrderById(bj_lastCreatedUnit,$D00D1)endifendifcall TriggerExecute(LV)call RemoveUnit(tD)set TD=nullset tD=nullendfunctionfunction uM takes nothing returns booleanreturn(GetUnitTypeId(GetAttacker())=='h00K')or(GetUnitTypeId(GetAttacker())=='h06H')
endfunctionfunction UM takes nothing returns booleanreturn(uM())
endfunctionfunction wM takes nothing returns booleanreturn(GetUnitAbilityLevelSwapped('A025',GetAttacker())==1)endfunctionfunction WM takes nothing returns booleanreturn(GetUnitAbilityLevelSwapped('A023',GetAttacker())==1)endfunctionfunction yM takes nothing returns booleanreturn(GetUnitAbilityLevelSwapped('A021',GetAttacker())==1)endfunctionfunction YM takes nothing returns booleanreturn(GetUnitAbilityLevelSwapped('A022',GetAttacker())==1)and(DistanceBetweenPoints(Ev,jv)<=200.)endfunctionfunction zM takes nothing returns booleanreturn(Qx)and(GetOwningPlayer(GetAttacker())==Player(8))
endfunctionfunction ZM takes nothing returns booleanreturn(sx)and(GetOwningPlayer(GetAttacker())==Player(9))
endfunctionfunction vp takes nothing returns booleanreturn(zM())or(ZM())
endfunctionfunction ep takes nothing returns booleanreturn(vp())
endfunctionfunction xp takes nothing returns nothingset ur=trueif(ep())then
set xv=GetRandomInt(1,4)
set Ev=GetUnitLoc(GetAttacker())
set jv=GetUnitLoc(GetTriggerUnit())if(wM())then
call IssueTargetOrderById(GetAttacker(),$D00DD,GetTriggerUnit())
endifif(WM())then
call IssueTargetOrderById(GetAttacker(),$D00CB,GetTriggerUnit())
endifif(yM())then
call IssuePointOrderByIdLoc(GetAttacker(),$D009D,Ev)
endifif(YM())then
call IssueImmediateOrderById(GetAttacker(),$D009F)endifcall RemoveLocation(Ev)call RemoveLocation(jv)endifendfunctionfunction ip takes nothing returns nothingcall SetPlayerTechResearchedSwap('R006',(GetPlayerTechCountSimple('R006',GetEnumPlayer())+2),GetEnumPlayer())call SetPlayerTechResearchedSwap('R007',(GetPlayerTechCountSimple('R007',GetEnumPlayer())+2),GetEnumPlayer())endfunctionfunction ap takes nothing returns nothingcall ForForce(bj_FORCE_ALL_PLAYERS,function ip)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,7.,"TRIGSTR_4306")
endfunctionfunction Xp takes nothing returns nothingset Av=vAset xv=GetRandomInt(1,fe)set ge=Fe[xv]if(fo<fe)thenif(GetUnitAbilityLevelSwapped(ge,Av)==0)then
call UnitAddAbility(Av,ge)call DisplayTimedTextToForce(dN(GetOwningPlayer(Av)),11.,(("Your team's king learned the |cff3333AA"+GetObjectName(ge))+"|r ability."))set fo=(fo+1)else
call TriggerExecute(GetTriggeringTrigger())endifendifendfunctionfunction Bp takes nothing returns nothinglocal image YDset Av=vAif(rv==4)thenset xv=GetRandomInt(1,3)
set Mo[1]=1if L thenset YD=CreateImage("war3mapImported\\icons\\spell"+I2S(xv)+".blp",$80,$80,0,-$E00,-$EC0,0,0,0,0,3)call SetImageRenderAlways(YD,true)if IsPlayerAlly(ki,Player(8))or IsPlayerObserver(ki)then
call ShowImage(YD,true)else
call ShowImage(YD,false)
endifendifelseif(rv==$B)thenif Mo[0]>=35 and Mo[1]<2 thenset Mo[1]=sD()endifset xv=4
elseif(rv==16)thenif Mo[0]>=70 and Mo[1]<3 thenset Mo[1]=sD()endifset xv=5
elseif(rv==23)thenset xv=6
elseif(rv==19)thenset xv=7
endifset ge=Fe[xv]if(fo<fe)thencall UnitAddAbility(Av,ge)set fo=(fo+1)call DisplayTimedTextToForce(dN(GetOwningPlayer(Av)),11.,(("Your team's king learned the |cff3333AA"+GetObjectName(ge))+"|r ability."))endifendfunctionfunction Dp takes nothing returns nothingset Av=EAset xv=GetRandomInt(1,fe)set ge=Fe[xv]if(Fo<fe)thenif(GetUnitAbilityLevelSwapped(ge,Av)==0)then
call UnitAddAbility(Av,ge)call DisplayTimedTextToForce(dN(GetOwningPlayer(Av)),11.,(("Your team's king learned the |cff3333AA"+GetObjectName(ge))+"|r ability."))set Fo=(Fo+1)else
call TriggerExecute(GetTriggeringTrigger())endifendifendfunctionfunction jp takes nothing returns nothinglocal image YDset Av=EAif(rv==4)thenset xv=GetRandomInt(1,3)
set Mo[3]=1if L thenset YD=CreateImage("war3mapImported\\icons\\spell"+I2S(xv)+".blp",$80,$80,0,$D80,-$EC0,0,0,0,0,3)call SetImageRenderAlways(YD,true)if IsPlayerAlly(ki,Player(9))or IsPlayerObserver(ki)then
call ShowImage(YD,true)else
call ShowImage(YD,false)
endifendifelseif(rv==$D)thenif Mo[2]>=35 and Mo[3]<2 thenset Mo[3]=sD()endifset xv=4
elseif(rv==19)thenif Mo[2]>=70 and Mo[3]<3 thenset Mo[3]=sD()endifset xv=5
elseif(rv==23)thenset xv=6
elseif(rv==27)thenset xv=7
endifset ge=Fe[xv]if(Fo<fe)thencall UnitAddAbility(Av,ge)set Fo=(Fo+1)call DisplayTimedTextToForce(dN(GetOwningPlayer(Av)),11.,(("Your team's king learned the |cff3333AA"+GetObjectName(ge))+"|r ability."))endifendfunctionfunction Mp takes nothing returns booleanreturn(GetOwningPlayer(GetEnteringUnit())==Player(8))endfunctionfunction pp takes nothing returns booleanreturn(IsUnitInGroup(GetFilterUnit(),EV))endfunctionfunction Pp takes nothing returns booleanreturn(CountUnitsInGroup(Nv)>0)endfunctionfunction qp takes nothing returns nothingset Nv=iN(ia,Condition(function pp))
if(Pp())then
call IssuePointOrderByIdLoc(GetEnteringUnit(),$D000F,nV)
endifcall DestroyGroup(Nv)endfunctionfunction sp takes nothing returns booleanreturn(GetOwningPlayer(GetEnteringUnit())==Player(9))endfunctionfunction Sp takes nothing returns booleanreturn(IsUnitInGroup(GetFilterUnit(),EV))endfunctionfunction tp takes nothing returns booleanreturn(CountUnitsInGroup(Nv)>0)endfunctionfunction Tp takes nothing returns nothingset Nv=iN(Ia,Condition(function Sp))
if(tp())then
call IssuePointOrderByIdLoc(GetEnteringUnit(),$D000F,VV)
endifcall DestroyGroup(Nv)endfunctionfunction Up takes nothing returns booleanreturn(IsUnitSelected(vA,GetOwningPlayer(vA))==false)or(IsPlayerInForce(GetOwningPlayer(vA),Dx)==false)endfunctionfunction wp takes nothing returns booleanif GetTriggerUnit()!=vA then
return false
endifif so[GetPlayerId(GetTriggerPlayer())]thenreturn trueendifreturn(tx==0)and(Up())endfunctionfunction Wp takes nothing returns nothingset tx=5
if GetOwningPlayer(vA)!=GetTriggerPlayer()thencall SetUnitOwner(vA,GetTriggerPlayer(),true)endifendfunctionfunction Yp takes nothing returns booleanreturn(IsUnitSelected(EA,GetOwningPlayer(EA))==false)or(IsPlayerInForce(GetOwningPlayer(EA),Dx)==false)endfunctionfunction zp takes nothing returns booleanif GetTriggerUnit()!=EA then
return false
endifif so[GetPlayerId(GetTriggerPlayer())]thenreturn trueendifreturn(Tx==0)and(Yp())endfunctionfunction Zp takes nothing returns nothingset Tx=5
if GetOwningPlayer(EA)!=GetTriggerPlayer()thencall SetUnitOwner(EA,GetTriggerPlayer(),true)endifendfunctionfunction iP takes nothing returns nothingset tx=5
endfunctionfunction nP takes nothing returns nothingset Tx=5
endfunctionfunction EP takes nothing returns booleanreturn(GetSpellAbilityId()=='A04E')or(GetSpellAbilityId()=='A04F')endfunctionfunction XP takes nothing returns booleanreturn(EP())
endfunctionfunction OP takes nothing returns nothingcall SetPlayerAbilityAvailableBJ(false,'A04E',GetEnumPlayer())call SetPlayerAbilityAvailableBJ(true,'A04F',GetEnumPlayer())endfunctionfunction RP takes nothing returns booleanreturn(GetSpellAbilityId()=='A04E')endfunctionfunction IP takes nothing returns nothingcall SetPlayerAbilityAvailableBJ(false,'A04F',GetEnumPlayer())call SetPlayerAbilityAvailableBJ(true,'A04E',GetEnumPlayer())endfunctionfunction AP takes nothing returns booleanreturn(GetSpellAbilityId()=='A04F')endfunctionfunction NP takes nothing returns booleanreturn(IsPlayerAlly(GetOwningPlayer(GetSpellAbilityUnit()),Player(8)))endfunctionfunction bP takes nothing returns nothingcall SetPlayerAbilityAvailableBJ(false,'A04E',GetEnumPlayer())call SetPlayerAbilityAvailableBJ(true,'A04F',GetEnumPlayer())endfunctionfunction BP takes nothing returns booleanreturn(GetSpellAbilityId()=='A04E')endfunctionfunction cP takes nothing returns nothingcall SetPlayerAbilityAvailableBJ(false,'A04F',GetEnumPlayer())call SetPlayerAbilityAvailableBJ(true,'A04E',GetEnumPlayer())endfunctionfunction CP takes nothing returns booleanreturn(GetSpellAbilityId()=='A04F')endfunctionfunction dP takes nothing returns booleanreturn(IsPlayerAlly(GetOwningPlayer(GetSpellAbilityUnit()),Player(9)))endfunctionfunction DP takes nothing returns nothingset Av=GetSpellAbilityUnit()
if(NP())then
if(RP())then
set Qx=truecall ForForce(dN(Player(8)),function OP)
endifif(AP())then
set Qx=false
call ForForce(dN(Player(8)),function IP)
endifendifif(dP())then
if(BP())then
set sx=truecall ForForce(dN(Player(9)),function bP)
endifif(CP())then
set sx=false
call ForForce(dN(Player(9)),function cP)
endifendifendfunctionfunction FP takes nothing returns nothingcall SetPlayerAbilityAvailableBJ(false,'A04E',GetEnumPlayer())endfunctionfunction gP takes nothing returns nothingcall ForForce(dN(Player(8)),function FP)
call ForForce(dN(Player(9)),function FP)
endfunctionfunction hP takes nothing returns booleanreturn GetBooleanAnd((IsPlayerAlly(GetFilterPlayer(),Player(8))),(IsPlayerInForce(GetFilterPlayer(),Dx)))endfunctionfunction HP takes nothing returns booleanreturn(xv==2)endfunctionfunction jP takes nothing returns booleanreturn(xv==3)endfunctionfunction JP takes nothing returns booleanreturn(xv==0)or(xv==4)endfunctionfunction kP takes nothing returns booleanreturn(JP())
endfunctionfunction KP takes nothing returns booleanreturn GetBooleanAnd((IsPlayerAlly(GetFilterPlayer(),Player(9))),(IsPlayerInForce(GetFilterPlayer(),Dx)))endfunctionfunction lP takes nothing returns booleanreturn(xv==2)endfunctionfunction LP takes nothing returns booleanreturn(xv==3)endfunctionfunction mP takes nothing returns booleanreturn(xv==0)or(xv==4)endfunctionfunction MP takes nothing returns booleanreturn(mP())
endfunctionfunction pP takes nothing returns nothingset Av=EAset xv=CountPlayersInForceBJ(fN(Condition(function hP)))
if(HP())then
set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=3loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall UnitAddItemByIdSwapped('I002',Av)call UnitAddItemByIdSwapped('I003',Av)set bj_forLoopAIndex=bj_forLoopAIndex+1endloopendifif(jP())then
set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=5loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall UnitAddItemByIdSwapped('I002',Av)call UnitAddItemByIdSwapped('I003',Av)set bj_forLoopAIndex=bj_forLoopAIndex+1endloopendifif(kP())then
set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=6loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall UnitAddItemByIdSwapped('I002',Av)call UnitAddItemByIdSwapped('I003',Av)set bj_forLoopAIndex=bj_forLoopAIndex+1endloopendifset Av=vAset xv=CountPlayersInForceBJ(fN(Condition(function KP)))
if(lP())then
set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=3loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall UnitAddItemByIdSwapped('I002',Av)call UnitAddItemByIdSwapped('I003',Av)set bj_forLoopAIndex=bj_forLoopAIndex+1endloopendifif(LP())then
set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=5loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall UnitAddItemByIdSwapped('I002',Av)call UnitAddItemByIdSwapped('I003',Av)set bj_forLoopAIndex=bj_forLoopAIndex+1endloopendifif(MP())then
set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=6loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall UnitAddItemByIdSwapped('I002',Av)call UnitAddItemByIdSwapped('I003',Av)set bj_forLoopAIndex=bj_forLoopAIndex+1endloopendifendfunctionfunction qP takes nothing returns nothingcall SetPlayerAbilityAvailableBJ(false,'A051',GetEnumPlayer())endfunctionfunction WB takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction YB takes nothing returns nothingset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=8loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif(IsPlayerInForce(Player(-1+(bj_forLoopAIndex)),Dx)==false)then
call ForGroupBJ(BN(Player(-1+(bj_forLoopAIndex))),function WB)endifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall Ic()call Oh()call gP()call UnitAddAbility(vA,'A051')call UnitAddAbility(EA,'A051')call ForForce(bj_FORCE_ALL_PLAYERS,function qP)endfunctionfunction nS takes nothing returns nothingif(CountPlayersInForceBJ(Dx)==1)then
set zx=truecall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,11.,"TRIGSTR_4317")call EnableTrigger(cI)call DisableTrigger(GI)else
call TriggerExecute(mR)endifif(Zx==false)or(ne==false)thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,11.,"TRIGSTR_4318")call EnableTrigger(cI)endifendfunctionfunction TP takes nothing returns booleanreturn(fi)endfunctionfunction uP takes nothing returns booleanreturn(Zi)endfunctionfunction UP takes nothing returns nothingset xv=(1+GetPlayerId(GetEnumPlayer()))call DialogAddButtonBJ(Ri,(Le[xv]+(GetPlayerName(GetEnumPlayer())+"|r")))set Ii[xv]=bj_lastCreatedButtonendfunctionfunction wP takes nothing returns booleanreturn(Fi[(1+GetPlayerId(GetTriggerPlayer()))])or(GetTriggerPlayer()==Player(0))
endfunctionfunction WP takes nothing returns booleanreturn(wP())
endfunctionfunction yP takes nothing returns booleanreturn(fi==false)and(Zi==false)endfunctionfunction YP takes nothing returns nothingif(TP())then
call DisplayTimedTextToForce(CN(GetTriggerPlayer()),5.,"TRIGSTR_9124")endifif(uP())then
call DisplayTimedTextToForce(CN(GetTriggerPlayer()),5.,"TRIGSTR_9125")endifif(yP())then
if(WP())then
set fi=truecall PauseTimerBJ(true,va)call StartTimerBJ(va,false,10.)call DialogClear(Ri)
call DialogSetMessage(Ri,"TRIGSTR_8828")
call ForForce(Dx,function UP)call DialogAddButtonBJ(Ri,"TRIGSTR_8829")set wi=bj_lastCreatedButtoncall DialogDisplayBJ(true,Ri,GetTriggerPlayer())
call MultiboardDisplay(me,true)set ci=0
else
call DisplayTimedTextToForce(CN(GetTriggerPlayer()),5.,"TRIGSTR_8827")endifendifcall MultiboardDisplay(me,true)endfunctionfunction ZP takes nothing returns booleanreturn(GetClickedButton()==Ii[1])or(GetClickedButton()==Ii[2])or(GetClickedButton()==Ii[3])or(GetClickedButton()==Ii[4])or(GetClickedButton()==Ii[5])or(GetClickedButton()==Ii[6])or(GetClickedButton()==Ii[7])or(GetClickedButton()==Ii[8])
endfunctionfunction vq takes nothing returns booleanreturn(fi)and(ZP())endfunctionfunction eq takes nothing returns booleanreturn(GetClickedButton()==Ii[xv])endfunctionfunction xq takes nothing returns nothingcall DialogDisplayBJ(false,Ri,GetEnumPlayer())set xv=(1+GetPlayerId(GetEnumPlayer()))if(eq())then
set ci=xvendifendfunctionfunction oq takes nothing returns nothingcall DialogDisplayBJ(true,Ai,GetEnumPlayer())endfunctionfunction rq takes nothing returns nothingcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,$A,(Le[(1+GetPlayerId(GetTriggerPlayer()))]+(GetPlayerName(GetTriggerPlayer())+"|r start a vote kick ! (vote will expired in 20 seconds)")))call ForForce(Dx,function xq)call DialogClear(Ai)
call DialogSetMessage(Ai,("Kick "+(Le[ci]+(GetPlayerName(Player(-1+(ci)))+"|r ?"))))
call DialogAddButtonBJ(Ai,(W[1]+("Yes|r")))set Ni=bj_lastCreatedButtoncall DialogAddButtonBJ(Ai,(W[2]+("No|r")))set bi=bj_lastCreatedButtoncall DialogAddButtonBJ(Ai,"TRIGSTR_8821")set Bi=bj_lastCreatedButtoncall ForForce(Dx,function oq)set Ci=0
set di=0
set gi=0
set Gi=(1+GetPlayerId(GetTriggerPlayer()))call PauseTimerBJ(true,va)call StartTimerBJ(Di,false,20.)call MultiboardDisplay(me,true)endfunctionfunction aq takes nothing returns booleanreturn(GetClickedButton()==wi)endfunctionfunction nq takes nothing returns nothingset fi=false
call MultiboardDisplay(me,true)endfunctionfunction Eq takes nothing returns booleanreturn(GetClickedButton()==bi)or(GetClickedButton()==Bi)or(GetClickedButton()==Ni)endfunctionfunction Xq takes nothing returns booleanreturn(Eq())
endfunctionfunction Oq takes nothing returns booleanreturn(GetClickedButton()==Bi)endfunctionfunction Rq takes nothing returns booleanreturn(GetClickedButton()==bi)endfunctionfunction Iq takes nothing returns booleanreturn(GetClickedButton()==Ni)endfunctionfunction Aq takes nothing returns booleanreturn((di+(gi+Ci))==xv)
endfunctionfunction Nq takes nothing returns booleanreturn(I2R((Ci-di))>=(I2R(xv)/ 2.))and((di+(gi+Ci))==xv)
endfunctionfunction bq takes nothing returns booleanreturn(I2R((Ci-di))>=(I2R(xv)/ 1.5))
endfunctionfunction Bq takes nothing returns nothingset xv=CountPlayersInForceBJ(Dx)
if(Iq())then
set Ci=(Ci+1)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,7.,(Le[(1+GetPlayerId(GetTriggerPlayer()))]+(GetPlayerName(GetTriggerPlayer())+"|r has voted |c00ff0202yes|r. ")))
else
if(Rq())then
set di=(di+1)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,7.,(Le[(1+GetPlayerId(GetTriggerPlayer()))]+(GetPlayerName(GetTriggerPlayer())+"|r has voted |c000041ffno|r. ")))else
if(Oq())then
set gi=(gi+1)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,7.,(Le[(1+GetPlayerId(GetTriggerPlayer()))]+(GetPlayerName(GetTriggerPlayer())+"|r has voted : I don't care. ")))endifendifendifset Vv="Positive Votes : "+I2S(Ci-di)+"  (Require:"+R2SW(I2R(xv)*.5,1,1)+")"
if(bq())then
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,$A,"|cFFC0C000Vote Count:|r |cFFFF0000Yes: "+I2S(Ci)+"|r|cFF00FF00 No: "+I2S(di)+"|r   "+Vv)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,2.,GetPlayerName(Player(ci-1))+" has been kicked.")if(Player(ci-1)==ki)then
call EndGame(false)endifset fi=false
call TriggerExecute(RR)call PauseTimerBJ(true,Di)else
if(Nq())then
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,$A,"|cFFC0C000Vote Count:|r |cFFFF0000Yes: "+I2S(Ci)+"|r|cFF00FF00 No: "+I2S(di)+"|r   "+Vv)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,2.,GetPlayerName(Player(ci-1))+" has been kicked.")if(Player(ci-1)==ki)then
call EndGame(false)endifset fi=false
call TriggerExecute(RR)call PauseTimerBJ(true,Di)else
if(Aq())then
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,$A,"|cFFC0C000Vote Count:|r |cFFFF0000Yes: "+I2S(Ci)+"|r|cFF00FF00 No: "+I2S(di)+"|r   "+Vv)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,7.,("Vote Fail ! "+(Vv+"")))set fi=false
set Fi[Gi]=false
endifendifendifcall MultiboardDisplay(me,true)endfunctionfunction Cq takes nothing returns nothingcall DialogDisplayBJ(false,Ai,GetEnumPlayer())endfunctionfunction dq takes nothing returns booleanreturn(I2R((Ci-di))>=(I2R(xv)/ 2.))endfunctionfunction Dq takes nothing returns booleanreturn(fi)endfunctionfunction fq takes nothing returns nothingset xv=CountPlayersInForceBJ(Dx)
set Vv="Positive Votes : "+I2S(Ci-di)+"  (Require:"+R2SW(I2R(xv)*.5,1,1)+")"
call ForForce(Dx,function Cq)if(Dq())then
if(dq())then
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,$A,"|cFFC0C000Vote Count:|r |cFFFF0000Yes: "+I2S(Ci)+"|r|cFF00FF00 No: "+I2S(di)+"|r   "+Vv)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,2.,GetPlayerName(Player(ci-1))+" has been kicked.")if(Player(ci-1)==ki)then
call EndGame(false)endifset fi=false
call TriggerExecute(RR)call PauseTimerBJ(true,Di)else
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,5.,"|c00FF0000Time has run out to vote. Vote canceled.")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,$A,"|cFFC0C000Vote Count:|r |cFFFF0000Yes: "+I2S(Ci)+"|r|cFF00FF00 No: "+I2S(di)+"|r   "+Vv)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,7.,("Vote Fail !  "+(Vv+"")))call MultiboardDisplay(me,true)set Fi[Gi]=false
endifendifcall PauseTimerBJ(true,Di)set fi=false
call MultiboardDisplay(me,true)endfunctionfunction gq takes nothing returns nothingcall DialogDisplayBJ(false,Ri,GetEnumPlayer())endfunctionfunction Gq takes nothing returns nothingset fi=false
call ForForce(Dx,function gq)call MultiboardDisplay(me,true)endfunctionfunction Hq takes nothing returns booleanreturn(Bx==false)endfunctionfunction jq takes nothing returns booleanreturn(GetUnitTypeId(GetEnumUnit())!='h00K')and(GetUnitTypeId(GetEnumUnit())!='h06H')endfunctionfunction Jq takes nothing returns nothingif(jq())then
call ExplodeUnitBJ(GetEnumUnit())call GroupRemoveUnit(ha,GetEnumUnit())endifendfunctionfunction kq takes nothing returns booleanreturn(gv==Player(7))endfunctionfunction Kq takes nothing returns booleanreturn(gv==Player(6))endfunctionfunction lq takes nothing returns booleanreturn(gv==Player(5))endfunctionfunction Lq takes nothing returns booleanreturn(gv==Player(4))endfunctionfunction mq takes nothing returns booleanreturn(gv==Player(3))endfunctionfunction Mq takes nothing returns booleanreturn(gv==Player(2))endfunctionfunction pq takes nothing returns booleanreturn(gv==Player(1))endfunctionfunction Pq takes nothing returns booleanreturn(gv==Player(0))endfunctionfunction qq takes nothing returns booleanreturn(Bx==false)endfunctionfunction Qq takes nothing returns booleanreturn(CountPlayersInForceBJ(dN(Player(8)))==1)endfunctionfunction sq takes nothing returns booleanreturn(CountPlayersInForceBJ(dN(Player(9)))==1)endfunctionfunction Sq takes nothing returns booleanreturn(Ba==false)endfunctionfunction tq takes nothing returns booleanreturn(IsPlayerInForce(Player(-1+(bj_forLoopBIndex)),Cx))and(Ro==false)endfunctionfunction Tq takes nothing returns booleanreturn(Ba)endfunctionfunction uq takes nothing returns nothingset gv=Player(-1+(ci))call MultiboardSetItemValueBJ(me,1,Ir[(1+GetPlayerId(gv))],(("|cff888888"+GetPlayerName(Player(-1+((1+GetPlayerId(gv))))))+"|r"))call ForceRemovePlayer(Dx,gv)if(Hq())then
call TriggerExecute(iO)endifcall ForGroupBJ(BN(gv),function Jq)if(qq())then
if(Pq())then
set Ve=false
else
if(pq())then
set Ee=false
else
if(Mq())then
set Xe=false
else
if(mq())then
set Oe=false
else
if(Lq())then
set se=false
else
if(lq())then
set Se=false
else
if(Kq())then
set te=false
else
if(kq())then
set Te=false
endifendifendifendifendifendifendifendifendifif(Qq())then
set Zx=false
endifif(sq())then
set ne=false
endifif(Sq())then
set io[(1+GetPlayerId(gv))]=("|cff999999"+(Qe+"|r"))
else
set io[(1+GetPlayerId(gv))]="|cff999999End|r"endifif(Tq())then
set xv=1
set bj_forLoopAIndex=2set bj_forLoopAIndexEnd=voloop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset Ro=false
set bj_forLoopBIndex=xvset bj_forLoopBIndexEnd=8loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEndif(tq())then
call MultiboardSetItemValueBJ(fx,bj_forLoopAIndex,(MultiboardGetRowCount(fx)-3),io[bj_forLoopBIndex])set xv=(bj_forLoopBIndex+1)set Ro=trueendifset bj_forLoopBIndex=bj_forLoopBIndex+1endloopset bj_forLoopAIndex=bj_forLoopAIndex+1endloopendifendfunctionfunction wq takes nothing returns nothingset Ev=GetUnitLoc(w[(1+GetPlayerId(Player(0)))])
set jv=vN(Ev,-400.,0)call CreateTextTagLocBJ("TRIGSTR_6351",jv,0,11.,'d','d','d',0)set Rr=bj_lastCreatedTextTag
call SetTextTagLifespanBJ(Rr,15.)call RemoveLocation(jv)set jv=vN(Ev,100.,0)
call CreateTextTagLocBJ("TRIGSTR_6352",jv,0,11.,'d','d','d',0)set Xr=bj_lastCreatedTextTag
call SetTextTagLifespanBJ(Xr,15.)call ShowTextTagForceBJ(true,Rr,bj_FORCE_ALL_PLAYERS)call ShowTextTagForceBJ(true,Xr,bj_FORCE_ALL_PLAYERS)call RemoveLocation(Ev)call RemoveLocation(jv)endfunctionfunction yq takes nothing returns booleanreturn(er==false)endfunctionfunction Yq takes nothing returns nothingcall DisableTrigger(GetTriggeringTrigger())set er=trueset lx=truecall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_4314")endfunctionfunction Zq takes nothing returns booleanreturn(er==false)endfunctionfunction vQ takes nothing returns nothingcall SetPlayerTechMaxAllowedSwap('u00E',0,GetEnumPlayer())call SetPlayerTechMaxAllowedSwap('u00P',0,GetEnumPlayer())set bj_forLoopAIndex=0set bj_forLoopAIndexEnd=Deloop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SetPlayerTechMaxAllowedSwap(rr[bj_forLoopAIndex],0,GetEnumPlayer())
set bj_forLoopAIndex=bj_forLoopAIndex+1endloopendfunctionfunction eQ takes nothing returns booleanreturn(xv>=6)and(hv>=6)endfunctionfunction xQ takes nothing returns booleanreturn(xv<$C)and(hv<$C)endfunctionfunction oQ takes nothing returns nothingset xv=GetRandomInt(0,De)set hv=Db(0,De,xv)call SetPlayerTechMaxAllowedSwap(rr[xv],1,GetEnumPlayer())call SetPlayerTechMaxAllowedSwap(rr[hv],1,GetEnumPlayer())call SelectUnitForPlayerSingle(w[(1+GetPlayerId(GetEnumPlayer()))],GetEnumPlayer())if(xQ())then
call ReplaceUnitBJ(w[(1+GetPlayerId(GetEnumPlayer()))],'e005',1)
else
if(eQ())then
call ReplaceUnitBJ(w[(1+GetPlayerId(GetEnumPlayer()))],'e007',1)
else
call ReplaceUnitBJ(w[(1+GetPlayerId(GetEnumPlayer()))],'e006',1)
endifendifcall SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(bj_lastReplacedUnit))
endfunctionfunction rQ takes nothing returns nothingcall DisableTrigger(GetTriggeringTrigger())set er=trueset po=truecall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_4916")call ForForce(Dx,function vQ)call YA(1.)call ForForce(Dx,function oQ)endfunctionfunction aQ takes nothing returns booleanreturn(er==false)endfunctionfunction nQ takes nothing returns nothingcall SetPlayerTechMaxAllowedSwap('u00P',0,GetEnumPlayer())set bj_forLoopAIndex=0set bj_forLoopAIndexEnd=Deloop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SetPlayerTechMaxAllowedSwap(rr[bj_forLoopAIndex],0,GetEnumPlayer())
set bj_forLoopAIndex=bj_forLoopAIndex+1endloopendfunctionfunction xf takes player pb returns nothinglocal integer array nflocal integer ilocal integer jlocal integer Rf=GetPlayerId(pb)
set j=1set i=1loop
if U[Rf]!=j then
set nf[i]=jset i=i+1endifset j=j+1exitwhen j>To[1]
endloopset j=GetRandomInt(1,i-1)set i=nf[j]set U[Rf]=iset j=1loop
exitwhen j>To[1]
if j==i then
call SetPlayerTechMaxAllowedSwap(to[j],-1,pb)if L thenif gx[Rf*6]!=null thencall ShowImage(gx[Rf*6],false)call DestroyImage(gx[Rf*6])endifset gx[Rf*6]=CreateImage("war3mapImported\\icons\\"+UnitId2String(to[j])+".blp",'h','h',0,Vx[Rf*2],Vx[Rf*2+1],256,0,0,0,3)call SetImageRenderAlways(gx[Rf*6],true)
if IsPlayerAlly(ki,pb)or IsPlayerObserver(ki)thencall ShowImage(gx[Rf*6],true)else
call ShowImage(gx[Rf*6],false)endifendifelse
call SetPlayerTechMaxAllowedSwap(to[j],0,pb)
endifset j=j+1endloopset j=1set i=1loop
if ov[Rf]!=j thenset nf[i]=jset i=i+1endifset j=j+1exitwhen j>To[2]
endloopset j=GetRandomInt(1,i-1)set i=nf[j]set ov[Rf]=i
set j=1loop
exitwhen j>To[2]
if j==i then
call SetPlayerTechMaxAllowedSwap(uo[j],-1,pb)if L thenif gx[Rf*6+1]!=null then
call ShowImage(gx[Rf*6+1],false)
call DestroyImage(gx[Rf*6+1])endifset gx[Rf*6+1]=CreateImage("war3mapImported\\icons\\"+UnitId2String(uo[j])+".blp",'h','h',0,Vx[Rf*2]+'h',Vx[Rf*2+1],256,0,0,0,3)
call SetImageRenderAlways(gx[Rf*6+1],true)if IsPlayerAlly(ki,pb)or IsPlayerObserver(ki)thencall ShowImage(gx[Rf*6+1],true)else
call ShowImage(gx[Rf*6+1],false)
endifendifelse
call SetPlayerTechMaxAllowedSwap(uo[j],0,pb)
endifset j=j+1endloopset j=1set i=1loop
if av[Rf]!=j thenset nf[i]=jset i=i+1endifset j=j+1exitwhen j>To[3]
endloopset j=GetRandomInt(1,i-1)set i=nf[j]set av[Rf]=i
set j=1loop
exitwhen j>To[3]
if j==i then
call SetPlayerTechMaxAllowedSwap(Uo[j],-1,pb)if L thenif gx[Rf*6+2]!=null then
call ShowImage(gx[Rf*6+2],false)
call DestroyImage(gx[Rf*6+2])endifset gx[Rf*6+2]=CreateImage("war3mapImported\\icons\\"+UnitId2String(Uo[j])+".blp",'h','h',0,Vx[Rf*2]+$D0,Vx[Rf*2+1],256,0,0,0,3)
call SetImageRenderAlways(gx[Rf*6+2],true)if IsPlayerAlly(ki,pb)or IsPlayerObserver(ki)thencall ShowImage(gx[Rf*6+2],true)else
call ShowImage(gx[Rf*6+2],false)
endifendifelse
call SetPlayerTechMaxAllowedSwap(Uo[j],0,pb)
endifset j=j+1endloopset j=1set i=1loop
if bv[Rf]!=j thenset nf[i]=jset i=i+1endifset j=j+1exitwhen j>To[4]
endloopset j=GetRandomInt(1,i-1)set i=nf[j]set bv[Rf]=i
set j=1loop
exitwhen j>To[4]
if j==i then
call SetPlayerTechMaxAllowedSwap(wo[j],-1,pb)if L thenif gx[Rf*6+3]!=null then
call ShowImage(gx[Rf*6+3],false)
call DestroyImage(gx[Rf*6+3])endifset gx[Rf*6+3]=CreateImage("war3mapImported\\icons\\"+UnitId2String(wo[j])+".blp",'h','h',0,Vx[Rf*2]+312,Vx[Rf*2+1],256,0,0,0,3)
call SetImageRenderAlways(gx[Rf*6+3],true)if IsPlayerAlly(ki,pb)or IsPlayerObserver(ki)thencall ShowImage(gx[Rf*6+3],true)else
call ShowImage(gx[Rf*6+3],false)
endifendifelse
call SetPlayerTechMaxAllowedSwap(wo[j],0,pb)
endifset j=j+1endloopset j=1set i=1loop
if dv[Rf]!=j thenset nf[i]=jset i=i+1endifset j=j+1exitwhen j>To[5]
endloopset j=GetRandomInt(1,i-1)set i=nf[j]set dv[Rf]=i
set j=1loop
exitwhen j>To[5]
if j==i then
call SetPlayerTechMaxAllowedSwap(Wo[j],-1,pb)if L thenif gx[Rf*6+4]!=null then
call ShowImage(gx[Rf*6+4],false)
call DestroyImage(gx[Rf*6+4])endifset gx[Rf*6+4]=CreateImage("war3mapImported\\icons\\"+UnitId2String(Wo[j])+".blp",'h','h',0,Vx[Rf*2]+416,Vx[Rf*2+1],256,0,0,0,3)
call SetImageRenderAlways(gx[Rf*6+4],true)if IsPlayerAlly(ki,pb)or IsPlayerObserver(ki)thencall ShowImage(gx[Rf*6+4],true)else
call ShowImage(gx[Rf*6+4],false)
endifendifelse
call SetPlayerTechMaxAllowedSwap(Wo[j],0,pb)
endifset j=j+1endloopset j=1set i=1loop
if ae[Rf]!=j thenset nf[i]=jset i=i+1endifset j=j+1exitwhen j>To[6]
endloopset j=GetRandomInt(1,i-1)set i=nf[j]set ae[Rf]=i
set j=1loop
exitwhen j>To[6]
if j==i then
call SetPlayerTechMaxAllowedSwap(yo[j],-1,pb)if L thenif gx[Rf*6+5]!=null then
call ShowImage(gx[Rf*6+5],false)
call DestroyImage(gx[Rf*6+5])endifset gx[Rf*6+5]=CreateImage("war3mapImported\\icons\\"+UnitId2String(yo[j])+".blp",'h','h',0,Vx[Rf*2]+520,Vx[Rf*2+1],256,0,0,0,3)
call SetImageRenderAlways(gx[Rf*6+5],true)if IsPlayerAlly(ki,pb)or IsPlayerObserver(ki)thencall ShowImage(gx[Rf*6+5],true)else
call ShowImage(gx[Rf*6+5],false)
endifendifelse
call SetPlayerTechMaxAllowedSwap(yo[j],0,pb)
endifset j=j+1endloopendfunctionfunction bQ takes nothing returns nothinglocal integer Cc
local integer array Afset Af[0]='u00T'
set Af[1]='u014'
set Af[2]='u015'
set Af[3]='u016'
set Af[4]='u017'
set Af[5]='u018'
set Af[6]='u00T'
set Af[7]='u00T'
if(M)thenset xv=$Dset Cc=Af[Yr[GetPlayerId(GetEnumPlayer())]]elseif(P)thenset xv=0
set Cc=rr[xv]else
set xv=GetRandomInt(1,De)set Cc=rr[xv]endifcall ReplaceUnitBJ(w[(1+GetPlayerId(GetEnumPlayer()))],Cc,3)
if Cc=='u017' and GetRandomInt(1,2)==2 thenset Ar[GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit))]=truecall AddUnitAnimationProperties(bj_lastReplacedUnit,"alternate",true)endifset Ev=GetUnitLoc(bj_lastReplacedUnit)call AddSpecialEffectLocBJ(Ev,"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")call RemoveLocation(Ev)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(bj_lastReplacedUnit))
set w[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))]=bj_lastReplacedUnit
set Av=bj_lastReplacedUnitif(Fr[(1+GetPlayerId(GetEnumPlayer()))]==false)thencall UnitAddAbility(w[(1+GetPlayerId(GetEnumPlayer()))],'A084')else
call UnitRemoveAbility(w[(1+GetPlayerId(GetEnumPlayer()))],'A084')endifif(xv==$D)thencall xf(GetEnumPlayer())
endifset Ro=trueendfunctionfunction BQ takes nothing returns nothingset er=trueset Lx=trueif(M)thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_9394")elseif(P)thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_9400")else
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_4315")endifcall ForForce(Dx,function nQ)call YA(1.)call ForForce(Dx,function bQ)call TriggerExecute(PV)call DisableTrigger(GetTriggeringTrigger())endfunctionfunction CQ takes nothing returns booleanreturn(er==false)endfunctionfunction dQ takes nothing returns booleanreturn(GetEnumPlayer()!=Player(0))endfunctionfunction DQ takes nothing returns nothingif(dQ())then
call SetPlayerTechMaxAllowedSwap('e002',0,GetEnumPlayer())call SetPlayerTechMaxAllowedSwap('u00E',0,GetEnumPlayer())call SetPlayerTechMaxAllowedSwap('u00P',0,GetEnumPlayer())set bj_forLoopAIndex=0set bj_forLoopAIndexEnd=Deloop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SetPlayerTechMaxAllowedSwap(rr[bj_forLoopAIndex],0,GetEnumPlayer())
set bj_forLoopAIndex=bj_forLoopAIndex+1endloopendifendfunctionfunction fQ takes nothing returns nothingset er=trueset kr=truecall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_6941")call YA(1.)call ForForce(bj_FORCE_ALL_PLAYERS,function DQ)call DisableTrigger(GetTriggeringTrigger())endfunctionfunction gQ takes nothing returns booleanreturn(mx==false)endfunctionfunction GQ takes nothing returns nothingcall SetPlayerTechMaxAllowedSwap('u00P',0,GetEnumPlayer())call SetPlayerTechMaxAllowedSwap('R00I',0,GetEnumPlayer())endfunctionfunction hQ takes nothing returns nothingcall DisableTrigger(GetTriggeringTrigger())set mx=trueset Xx=truecall ForForce(Dx,function GQ)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_4316")endfunctionfunction jQ takes nothing returns booleanreturn(Co==false)endfunctionfunction JQ takes nothing returns nothingcall DisableTrigger(GetTriggeringTrigger())set Co=trueset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=bxloop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset bj_forLoopAIndex=bj_forLoopAIndex+1endloopset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=$Aloop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset bj_forLoopAIndex=bj_forLoopAIndex+1endloopset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=$Cloop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset bj_forLoopAIndex=bj_forLoopAIndex+1endloopendfunctionfunction KQ takes nothing returns booleanreturn(do==false)endfunctionfunction lQ takes nothing returns booleanreturn(IsPlayerAlly(GetEnumPlayer(),Player(8)))endfunctionfunction LQ takes nothing returns nothingset xv=(1+GetPlayerId(GetEnumPlayer()))if(lQ())then
call FogModifierStop(ni[xv])
call CreateFogModifierRectBJ(true,GetEnumPlayer(),FOG_OF_WAR_MASKED,In)call FogModifierStop(Vi[xv])
call CreateFogModifierRectBJ(true,GetEnumPlayer(),FOG_OF_WAR_MASKED,hn)else
call FogModifierStop(ai[xv])
call CreateFogModifierRectBJ(true,GetEnumPlayer(),FOG_OF_WAR_MASKED,Rn)call FogModifierStop(Vi[xv])
call CreateFogModifierRectBJ(true,GetEnumPlayer(),FOG_OF_WAR_MASKED,hn)endifendfunctionfunction mQ takes nothing returns nothingcall DisableTrigger(GetTriggeringTrigger())set do=truecall FogEnableOn()call FogMaskEnableOn()call ForForce(Dx,function LQ)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_4540")endfunctionfunction pQ takes nothing returns booleanreturn(zo==false)endfunctionfunction PQ takes nothing returns nothingcall DisableTrigger(GetTriggeringTrigger())set zo=truecall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_5173")endfunctionfunction QQ takes nothing returns booleanreturn(pX==false)endfunctionfunction sQ takes nothing returns nothingcall DisableTrigger(GetTriggeringTrigger())set pX=truecall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_5609")endfunctionfunction tQ takes nothing returns booleanreturn(Vr==false)endfunctionfunction TQ takes nothing returns nothingcall DisableTrigger(GetTriggeringTrigger())set Vr=truecall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_5436")endfunctionfunction UQ takes nothing returns booleanreturn(Dr==false)endfunctionfunction wQ takes nothing returns booleanreturn(mx==false)endfunctionfunction WQ takes nothing returns nothingcall SetPlayerTechMaxAllowedSwap('R00D',5,GetEnumPlayer())call SetPlayerTechMaxAllowedSwap('R00G',5,GetEnumPlayer())if(wQ())then
call SetPlayerTechMaxAllowedSwap('R00I',1,GetEnumPlayer())endifendfunctionfunction yQ takes nothing returns nothingcall DisableTrigger(GetTriggeringTrigger())set Dr=truecall ForForce(Dx,function WQ)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_6347")endfunctionfunction zQ takes nothing returns booleanreturn(br==false)endfunctionfunction ZQ takes nothing returns nothingcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_5874")call DisableTrigger(GetTriggeringTrigger())endfunctionfunction cf takes nothing returns booleanreturn qe[8]>0endfunctionfunction ff takes nothing returns booleanreturn qe[9]>0endfunctionfunction jf takes nothing returns nothinglocal real Kflocal integer i=0if(GetEventDamage()+1>=GetUnitState(vA,UNIT_STATE_LIFE))then
set Kf=GetUnitState(vA,UNIT_STATE_MAX_LIFE)if(Kf>$2710)then
set Kf=$2710
endifloop
exitwhen(i>3 or qe[i]>0)
set i=i+1endloopif(i<4)thencall SetUnitState(vA,UNIT_STATE_LIFE,Kf)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",vA,"origin"))
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,$A,(("|c11808080"+GetPlayerName(Player(i)))+"|r used |c11FF0000HELL|r Holy Light on King !"))set qe[i]=0endifset qe[8]=qe[8]-1endifendfunctionfunction mf takes nothing returns nothinglocal real Kflocal integer i=4if(GetEventDamage()+1>=GetUnitState(EA,UNIT_STATE_LIFE))then
set Kf=GetUnitState(EA,UNIT_STATE_MAX_LIFE)if(Kf>$2710)then
set Kf=$2710
endifloop
exitwhen(i>7 or qe[i]>0)
set i=i+1endloopif(i<8)thencall SetUnitState(EA,UNIT_STATE_LIFE,Kf)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",EA,"origin"))
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,$A,(("|c11808080"+GetPlayerName(Player(i)))+"|r used |c11FF0000HELL|r Holy Light on King !"))set qe[i]=0endifset qe[9]=qe[9]-1endifendfunctionfunction Mf takes nothing returns nothinglocal real Kfif(GetEventDamage()+1>=GetUnitState(vA,UNIT_STATE_LIFE))then
set Kf=GetUnitState(vA,UNIT_STATE_MAX_LIFE)if(Kf>$2710)then
set Kf=$2710
endifcall SetUnitState(vA,UNIT_STATE_LIFE,Kf)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",vA,"origin"))
set S=S-1if(S<1)thencall DisableTrigger(GetTriggeringTrigger())call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"TRIGSTR_9395")
else
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,GetLocalizedString("TRIGSTR_9396")+I2S(S)+"|r")
endifendifendfunctionfunction pf takes nothing returns nothinglocal real Kfif(GetEventDamage()+1>=GetUnitState(EA,UNIT_STATE_LIFE))then
set Kf=GetUnitState(EA,UNIT_STATE_MAX_LIFE)if(Kf>$2710)then
set Kf=$2710
endifcall SetUnitState(EA,UNIT_STATE_LIFE,Kf)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",EA,"origin"))
set T=T-1if(T<1)thencall DisableTrigger(GetTriggeringTrigger())call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"TRIGSTR_9397")
else
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,GetLocalizedString("TRIGSTR_9398")+I2S(T)+"|r")
endifendifendfunctionfunction es takes nothing returns booleanreturn(Kx=="ar")or(Kx=="ph")or(Kx=="hb")or(Kx=="ap")or(Kx=="sd")or(Kx=="hp")or(Kx=="mm")or(Kx=="md")or(Kx=="ah")or(Kx=="nm")or(Kx=="hg")or(Kx=="gg")or(Kx=="cb")or(Kx=="li")or(Kx=="x3")or(Kx=="gm")or(Kx=="gc")or(Kx=="gl")or(Kx=="cl")or(Kx=="lc")
endfunctionfunction xs takes nothing returns booleanreturn(es())
endfunctionfunction os takes nothing returns booleanreturn(Ro==false)endfunctionfunction rs takes nothing returns booleanreturn(Kx=="hp")
endfunctionfunction is takes nothing returns booleanreturn((Kx=="ar")or(Kx=="ph")or(Kx=="hb"))endfunctionfunction as takes nothing returns booleanreturn(Kx=="ap")
endfunctionfunction ns takes nothing returns booleanreturn(Kx=="sd")
endfunctionfunction Vs takes nothing returns booleanreturn(Kx=="li")
endfunctionfunction Es takes nothing returns booleanreturn(Kx=="mm")
endfunctionfunction Xs takes nothing returns booleanreturn(Kx=="nm")
endfunctionfunction Os takes nothing returns booleanreturn(Kx=="gg")
endfunctionfunction Rs takes nothing returns booleanreturn(Kx=="cb")
endfunctionfunction Is takes nothing returns booleanreturn(Kx=="gm")
endfunctionfunction As takes nothing returns booleanreturn(Kx=="gc")
endfunctionfunction Ns takes nothing returns booleanreturn(Kx=="gl")
endfunctionfunction bs takes nothing returns booleanreturn(Kx=="lc")
endfunctionfunction Bs takes nothing returns booleanreturn(Kx=="cl")
endfunctionfunction cs takes nothing returns booleanreturn(Ro)endfunctionfunction Cs takes nothing returns nothinglocal integer Cc=0local trigger Pf
set Ro=false
set bj_forLoopBIndex=1set bj_forLoopBIndexEnd=((StringLength(Vv)-1)/ 2)loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEndset Kx=SubStringBJ(Vv,(2*bj_forLoopBIndex),((2*bj_forLoopBIndex)+1))
set Ro=false
if(xs())then
set Ro=trueendifset bj_forLoopBIndex=bj_forLoopBIndex+1endloopif(os())then
returnendifset bj_forLoopBIndex=1set bj_forLoopBIndexEnd=((StringLength(Vv)-1)/ 2)loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEndset Kx=SubStringBJ(Vv,(2*bj_forLoopBIndex),((2*bj_forLoopBIndex)+1))
set Ro=false
if(rs())then
set Ro=truecall ConditionalTriggerExecute(BR)endifif(is())then
set Ro=trueif(Kx=="ph")then
set M=trueendifif(Kx=="hb")then
set P=trueendifcall ConditionalTriggerExecute(bR)endifif(as())then
set Ro=truecall ConditionalTriggerExecute(AR)endifif(ns())then
set Ro=truecall ConditionalTriggerExecute(NR)endifif(Vs())then
set Ro=truecall ConditionalTriggerExecute(cR)endifif(Kx=="md")then
set q=truecall ForForce(Dx,function GQ)endifif(Kx=="ah" and Q==false)thenset Q=trueloop
exitwhen(Cc>8)set Fr[Cc]=trueset Cc=Cc+1endloopendifif(Es())then
set Ro=truecall ConditionalTriggerExecute(dR)endifif(Xs())then
set Ro=truecall ConditionalTriggerExecute(FR)endifif(Os())then
set Ro=truecall ConditionalTriggerExecute(fR)endifif(Rs())then
set Ro=truecall ConditionalTriggerExecute(gR)endifif(Is())then
set Ro=truecall ConditionalTriggerExecute(fR)call ConditionalTriggerExecute(dR)endifif(As())then
set Ro=truecall ConditionalTriggerExecute(fR)call ConditionalTriggerExecute(gR)endifif(Ns())then
set Ro=truecall ConditionalTriggerExecute(fR)call ConditionalTriggerExecute(cR)endifif(bs())then
set Ro=truecall ConditionalTriggerExecute(gR)call ConditionalTriggerExecute(cR)endifif(Bs())then
set Ro=truecall ConditionalTriggerExecute(gR)call ConditionalTriggerExecute(cR)endifif(cs())then
call ConditionalTriggerExecute(DR)call ConditionalTriggerExecute(GR)endifset bj_forLoopBIndex=bj_forLoopBIndex+1endloopcall DisableTrigger(GetTriggeringTrigger())if(Q)thenset Pf=CreateTrigger()call TriggerRegisterUnitEvent(Pf,vA,EVENT_UNIT_DAMAGED)call TriggerAddAction(Pf,function Mf)set Pf=CreateTrigger()call TriggerRegisterUnitEvent(Pf,EA,EVENT_UNIT_DAMAGED)call TriggerAddAction(Pf,function pf)else
set Pf=CreateTrigger()call TriggerRegisterUnitEvent(Pf,vA,EVENT_UNIT_DAMAGED)call TriggerAddCondition(Pf,Condition(function cf))call TriggerAddAction(Pf,function jf)set Pf=CreateTrigger()call TriggerRegisterUnitEvent(Pf,EA,EVENT_UNIT_DAMAGED)call TriggerAddCondition(Pf,Condition(function ff))call TriggerAddAction(Pf,function mf)endifendfunctionfunction Ds takes nothing returns booleanreturn(be=="hp")
endfunctionfunction fs takes nothing returns booleanreturn(be=="sd")
endfunctionfunction Fs takes nothing returns booleanreturn((be=="ar")or(be=="ph")or(be=="hb"))endfunctionfunction gs takes nothing returns booleanreturn(be=="ap")
endfunctionfunction Gs takes nothing returns nothinglocal trigger Pf
set be=SubStringBJ(Vv,2,3)if(be=="ph")then
set M=trueelseif(be=="hb")then
set P=trueendifset Pf=CreateTrigger()call TriggerRegisterUnitEvent(Pf,vA,EVENT_UNIT_DAMAGED)call TriggerAddCondition(Pf,Condition(function cf))call TriggerAddAction(Pf,function jf)set Pf=CreateTrigger()call TriggerRegisterUnitEvent(Pf,EA,EVENT_UNIT_DAMAGED)call TriggerAddCondition(Pf,Condition(function ff))call TriggerAddAction(Pf,function mf)if(gs())then
call ConditionalTriggerExecute(AR)call ConditionalTriggerExecute(dR)call ConditionalTriggerExecute(DR)call ConditionalTriggerExecute(fR)call ConditionalTriggerExecute(gR)call ConditionalTriggerExecute(GR)returnelse
if(Fs())then
call ConditionalTriggerExecute(bR)call ConditionalTriggerExecute(dR)call ConditionalTriggerExecute(DR)call ConditionalTriggerExecute(fR)call ConditionalTriggerExecute(cR)call ConditionalTriggerExecute(gR)call ConditionalTriggerExecute(GR)returnelse
if(fs())then
call ConditionalTriggerExecute(NR)call ConditionalTriggerExecute(dR)call ConditionalTriggerExecute(DR)call ConditionalTriggerExecute(fR)call ConditionalTriggerExecute(cR)call ConditionalTriggerExecute(gR)call ConditionalTriggerExecute(GR)returnelse
if(Ds())then
call ConditionalTriggerExecute(BR)call ConditionalTriggerExecute(dR)call ConditionalTriggerExecute(DR)call ConditionalTriggerExecute(fR)call ConditionalTriggerExecute(cR)call ConditionalTriggerExecute(gR)call ConditionalTriggerExecute(GR)returnendifendifendifendifcall DisableTrigger(GetTriggeringTrigger())endfunctionfunction Hs takes nothing returns booleanreturn(zx)or(GetTriggerPlayer()==Player(0))endfunctionfunction js takes nothing returns booleanreturn(Hs())
endfunctionfunction Js takes nothing returns booleanreturn(StringLength(Vv)==3)endfunctionfunction Ks takes nothing returns nothingif(l and Ur)then
set l=falseset Vv=GetEventPlayerChatString()if(Js())then
call TriggerExecute(HR)else
call TriggerExecute(hR)endifcall PauseTimerBJ(false,Mx)call StartTimerBJ(Mx,false,1.)else
call DisplayTextToForce(bj_FORCE_PLAYER[0],"TRIGSTR_7546")endifendfunctionfunction Ms takes nothing returns booleanreturn(lx)endfunctionfunction ps takes nothing returns booleanreturn(kr)endfunctionfunction Ps takes nothing returns booleanreturn(Lx)endfunctionfunction Qs takes nothing returns booleanreturn(po)endfunctionfunction ss takes nothing returns booleanreturn(mx)endfunctionfunction Ss takes nothing returns booleanreturn(do)endfunctionfunction ts takes nothing returns booleanreturn(zo)endfunctionfunction Ts takes nothing returns booleanreturn(Vr)endfunctionfunction us takes nothing returns booleanreturn(pX)endfunctionfunction Us takes nothing returns booleanreturn(Dr)endfunctionfunction ys takes nothing returns nothingcall DisableTrigger(GetTriggeringTrigger())set Oo=""if(Ms())then
set Oo="-ap"
endifif(ps())then
set Oo="-hp"
endifif(Ps())then
if(M)thenset Oo="-ph"
elseif(P)thenset Oo="-hb"
else
set Oo="-ar"
endifendifif(Qs())then
set Oo="-sd"
endifif(ss())then
set Oo=(Oo+"li")
endifif(Ss())then
set Oo=(Oo+"mm")
endifif(ts())then
set Oo=(Oo+"hg")
endifif(Ts())then
set Oo=(Oo+"nm")
endifif(us())then
set Oo=(Oo+"gg")
endifif(Us())then
set Oo=(Oo+"cb")
endifif(Q)thenset Oo=(Oo+"ah")
endifif(q)thenset Oo=(Oo+"md")
endifif(Do)thencall MultiboardSetTitleText(me,(Ge+("|cffFF0000 ("+(Oo+"*)|r"))))else
call MultiboardSetTitleText(me,(Ge+("|cffFF0000 ("+(Oo+")|r"))))
endifendfunctionfunction zs takes nothing returns booleanreturn(er==false)endfunctionfunction Zs takes nothing returns nothingcall CreateNUnitsAtLoc(1,'u00F',GetEnumPlayer(),GetRectCenter(Ya),bj_UNIT_FACING)endfunctionfunction vS takes nothing returns nothingcall DestroyTextTag(Rr)call DestroyTextTag(Xr)if(zs())then
call TriggerExecute(AR)call TriggerExecute(DR)call TriggerExecute(fR)call TriggerExecute(dR)call TriggerExecute(gR)call TriggerExecute(GR)endifcall DisableTrigger(AR)call DisableTrigger(bR)call DisableTrigger(NR)call DisableTrigger(BR)call DisableTrigger(cR)call DisableTrigger(dR)call DisableTrigger(CR)call DisableTrigger(DR)call DisableTrigger(fR)call DisableTrigger(GR)call DisableTrigger(FR)call DisableTrigger(gR)call DisableTrigger(hR)call DisableTrigger(jR)call DisableTrigger(lR)call TriggerExecute(kR)call ForForce(Dx,function Zs)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,3.,"TRIGSTR_4795")
call DisableTrigger(GetTriggeringTrigger())endfunctionfunction xS takes nothing returns nothingcall TriggerExecute(KR)call TriggerExecute(AV)call EnableTrigger(aI)call PauseTimer(Mx)call DestroyTimer(Mx)call TriggerExecute(PR)endfunctionfunction ES takes nothing returns nothingcall DestroyTrigger(hI)call DestroyTrigger(HI)call DestroyTrigger(cI)call DestroyTrigger(LR)call DestroyTrigger(PI)call DestroyTrigger(lI)call DestroyTrigger(LI)call DestroyTrigger(mI)call DestroyTrigger(qI)call DestroyTrigger(QI)call DestroyTrigger(sI)call DestroyTrigger(SI)call DestroyTrigger(tI)call DestroyTrigger(TI)call DestroyTrigger(uI)call DestroyTrigger(jI)call DestroyTrigger(JI)call DestroyTrigger(kI)call DestroyTrigger(pI)call DestroyTrigger(wI)call DestroyTrigger(UI)call DestroyTrigger(WI)call DestroyTrigger(yI)call DestroyTrigger(YI)call DestroyTrigger(MI)call DestroyTrigger(KI)endfunctionfunction OS takes nothing returns nothingcall IssueTargetOrderById(OA,$D0032,HA)call IssueTargetOrderById(aA,$D0032,lA)call IssueTargetOrderById(iA,$D0032,JA)call IssueTargetOrderById(zI,$D0032,sA)call IssueTargetOrderById(cA,$D0032,mA)call IssueTargetOrderById(bA,$D0032,PA)call IssueTargetOrderById(RA,$D0032,GA)call IssueTargetOrderById(BA,$D0032,QA)call SetUnitRallyDestructable(ZI,HA)
call SetUnitRallyDestructable(VA,lA)
call SetUnitRallyDestructable(IA,JA)
call SetUnitRallyDestructable(XA,KA)
call SetUnitRallyDestructable(FA,PA)
call SetUnitRallyDestructable(dA,QA)
call SetUnitRallyDestructable(oA,GA)
call SetUnitRallyDestructable(DA,mA)
endfunctionfunction IS takes nothing returns booleanreturn(Ba==false)endfunctionfunction AS takes nothing returns booleanreturn(GetPlayerState(Player(-1+(bj_forLoopAIndex)),PLAYER_STATE_RESOURCE_FOOD_USED)>Xo[bj_forLoopAIndex])endfunctionfunction NS takes nothing returns nothingset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=8loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif(AS())then
set Xo[bj_forLoopAIndex]=GetPlayerState(Player(-1+(bj_forLoopAIndex)),PLAYER_STATE_RESOURCE_FOOD_USED)endifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopendfunctionfunction BS takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction cS takes nothing returns booleanreturn(mo[(1+GetPlayerId(GetEnumPlayer()))]>=$7D0)endfunctionfunction CS takes nothing returns booleanreturn(mo[(1+GetPlayerId(GetEnumPlayer()))]>=$514)endfunctionfunction dS takes nothing returns booleanreturn(mo[(1+GetPlayerId(GetEnumPlayer()))]>=600)endfunctionfunction DS takes nothing returns booleanreturn(mo[(1+GetPlayerId(GetEnumPlayer()))]>=350)endfunctionfunction fS takes nothing returns booleanreturn(mx==false)and(er)
endfunctionfunction FS takes nothing returns nothingif(fS())then
call CreateNUnitsAtLoc(1,'u00S',GetEnumPlayer(),kv,bj_UNIT_FACING)call GroupAddUnit(dr,bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'u00R',GetEnumPlayer(),kv,bj_UNIT_FACING)call GroupAddUnit(dr,bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'u00N',GetEnumPlayer(),kv,bj_UNIT_FACING)call GroupAddUnit(dr,bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'u00Q',GetEnumPlayer(),kv,bj_UNIT_FACING)call GroupAddUnit(dr,bj_lastCreatedUnit)
else
if(cS())then
call CreateNUnitsAtLoc(1,'u00S',GetEnumPlayer(),kv,bj_UNIT_FACING)call GroupAddUnit(dr,bj_lastCreatedUnit)
call DisableTrigger(GetTriggeringTrigger())endifif(CS())then
call CreateNUnitsAtLoc(1,'u00R',GetEnumPlayer(),kv,bj_UNIT_FACING)call GroupAddUnit(dr,bj_lastCreatedUnit)
endifif(dS())then
call CreateNUnitsAtLoc(1,'u00N',GetEnumPlayer(),kv,bj_UNIT_FACING)call GroupAddUnit(dr,bj_lastCreatedUnit)
endifif(DS())then
call CreateNUnitsAtLoc(1,'u00Q',GetEnumPlayer(),kv,bj_UNIT_FACING)call GroupAddUnit(dr,bj_lastCreatedUnit)
endifendifendfunctionfunction gS takes nothing returns nothingcall ShowUnitShow(GetEnumUnit())
endfunctionfunction GS takes nothing returns nothingcall ForGroupBJ(dr,function BS)call GroupClear(dr)call ForForce(Dx,function FS)call ForGroupBJ(Ex,function gS)endfunctionfunction HS takes nothing returns booleanreturn(mx==false)and(er)
endfunctionfunction jS takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction JS takes nothing returns booleanreturn(Ie<.5)endfunctionfunction kS takes nothing returns booleanreturn(mo[(1+GetPlayerId(GetEnumPlayer()))]>=500)endfunctionfunction KS takes nothing returns nothingset Ie=Jr[(1+GetPlayerId(GetEnumPlayer()))]if(JS())then
call CreateNUnitsAtLoc(1,'u00V',GetEnumPlayer(),kv,bj_UNIT_FACING)call GroupAddUnit(Ei,bj_lastCreatedUnit)
endifif(kS())then
call CreateNUnitsAtLoc(1,'u012',GetEnumPlayer(),kv,bj_UNIT_FACING)call GroupAddUnit(Ei,bj_lastCreatedUnit)
endifendfunctionfunction lS takes nothing returns nothingcall ForGroupBJ(Ei,function jS)call GroupClear(Ei)call ForForce(Dx,function KS)endfunctionfunction mS takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='u001')or(GetUnitTypeId(GetTriggerUnit())=='u00C')or(GetUnitTypeId(GetTriggerUnit())=='u000')or(GetUnitTypeId(GetTriggerUnit())=='u003')or(GetUnitTypeId(GetTriggerUnit())=='u002')or(GetUnitTypeId(GetTriggerUnit())=='u00G')or(GetUnitTypeId(GetTriggerUnit())=='u00H')or(GetUnitTypeId(GetTriggerUnit())=='u00I')or(GetUnitTypeId(GetTriggerUnit())=='u00J')or(GetUnitTypeId(GetTriggerUnit())=='u00L')or(GetUnitTypeId(GetTriggerUnit())=='u00O')or(GetUnitTypeId(GetTriggerUnit())=='u00M')or(GetUnitTypeId(GetTriggerUnit())=='u00K')or(GetUnitTypeId(GetTriggerUnit())=='u00P')or(GetUnitTypeId(GetTriggerUnit())=='u00U')or(GetUnitTypeId(GetTriggerUnit())=='u00Z')
endfunctionfunction MS takes nothing returns booleanreturn(mS())
endfunctionfunction pS takes nothing returns booleanreturn(Dr)and(GetUnitTypeId(GetTriggerUnit())=='u00I')endfunctionfunction PS takes nothing returns booleanreturn(Fr[(1+GetPlayerId(GetTriggerPlayer()))]==false)endfunctionfunction qS takes nothing returns booleanreturn(Yi[(1+GetPlayerId(GetEnumPlayer()))]>0)endfunctionfunction QS takes nothing returns nothingcall ReplaceUnitBJ(GetTriggerUnit(),GetUnitTypeId(GetTriggerUnit()),3)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(bj_lastReplacedUnit))
set w[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))]=bj_lastReplacedUnit
set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=To[1]loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SetPlayerTechMaxAllowedSwap(to[bj_forLoopAIndex],-1,GetTriggerPlayer())
set bj_forLoopAIndex=bj_forLoopAIndex+1endloopset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=To[2]loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SetPlayerTechMaxAllowedSwap(uo[bj_forLoopAIndex],-1,GetTriggerPlayer())
set bj_forLoopAIndex=bj_forLoopAIndex+1endloopset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=To[3]loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SetPlayerTechMaxAllowedSwap(Uo[bj_forLoopAIndex],-1,GetTriggerPlayer())
set bj_forLoopAIndex=bj_forLoopAIndex+1endloopset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=To[4]loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SetPlayerTechMaxAllowedSwap(wo[bj_forLoopAIndex],-1,GetTriggerPlayer())
set bj_forLoopAIndex=bj_forLoopAIndex+1endloopset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=To[5]loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SetPlayerTechMaxAllowedSwap(Wo[bj_forLoopAIndex],-1,GetTriggerPlayer())
set bj_forLoopAIndex=bj_forLoopAIndex+1endloopset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=To[6]loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SetPlayerTechMaxAllowedSwap(yo[bj_forLoopAIndex],-1,GetTriggerPlayer())
set bj_forLoopAIndex=bj_forLoopAIndex+1endloopif(pS())then
call SetPlayerTechResearchedSwap('R00D',4,GetTriggerPlayer())endifif(PS())then
call UnitAddAbility(w[(1+GetPlayerId(GetTriggerPlayer()))],'A084')else
call UnitRemoveAbility(w[(1+GetPlayerId(GetTriggerPlayer()))],'A084')endifset Av=GetTriggerUnit()set Ro=false
call DisplayTimedTextToForce(dN(GetOwningPlayer(GetTriggerUnit())),10.,((W[(1+GetPlayerId(GetOwningPlayer(Av)))]+GetPlayerName(GetOwningPlayer(Av)))+("|r picked "+(GetUnitName(Av)+"."))))call TriggerExecute(PV)if(qS())then
endifendfunctionfunction SS takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='u00T')endfunctionfunction yS takes nothing returns booleanreturn(Fr[(1+GetPlayerId(GetTriggerPlayer()))]==false)endfunctionfunction YS takes nothing returns nothingcall ReplaceUnitBJ(GetTriggerUnit(),GetUnitTypeId(GetTriggerUnit()),3)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(bj_lastReplacedUnit))
set w[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))]=bj_lastReplacedUnit
call xf(GetTriggerPlayer())if(yS())then
call UnitAddAbility(w[(1+GetPlayerId(GetTriggerPlayer()))],'A084')else
call UnitRemoveAbility(w[(1+GetPlayerId(GetTriggerPlayer()))],'A084')endifset Av=GetTriggerUnit()set Ro=false
call DisplayTimedTextToForce(dN(GetOwningPlayer(GetTriggerUnit())),10.,((W[(1+GetPlayerId(GetOwningPlayer(Av)))]+GetPlayerName(GetOwningPlayer(Av)))+("|r picked "+(GetUnitName(Av)+"."))))call TriggerExecute(PV)endfunctionfunction ZS takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='u00E')endfunctionfunction vt takes nothing returns booleanreturn(rr[xv]=='u00T')endfunctionfunction et takes nothing returns booleanreturn(Fr[(1+GetPlayerId(GetTriggerPlayer()))]==false)endfunctionfunction xt takes nothing returns nothingset xv=GetRandomInt(1,De)call ReplaceUnitBJ(GetTriggerUnit(),rr[xv],3)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(bj_lastReplacedUnit))
set w[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))]=bj_lastReplacedUnit
set Av=bj_lastReplacedUnitif(vt())then
set xv=GetRandomInt(1,To[1])
set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=To[1]loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SetPlayerTechMaxAllowedSwap(to[bj_forLoopAIndex],0,GetTriggerPlayer())set bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall SetPlayerTechMaxAllowedSwap(to[xv],-1,GetTriggerPlayer())set xv=GetRandomInt(1,To[2])
set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=To[2]loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SetPlayerTechMaxAllowedSwap(uo[bj_forLoopAIndex],0,GetTriggerPlayer())set bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall SetPlayerTechMaxAllowedSwap(uo[xv],-1,GetTriggerPlayer())set xv=GetRandomInt(1,To[3])
set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=To[3]loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SetPlayerTechMaxAllowedSwap(Uo[bj_forLoopAIndex],0,GetTriggerPlayer())set bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall SetPlayerTechMaxAllowedSwap(Uo[xv],-1,GetTriggerPlayer())set xv=GetRandomInt(1,To[4])
set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=To[4]loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SetPlayerTechMaxAllowedSwap(wo[bj_forLoopAIndex],0,GetTriggerPlayer())set bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall SetPlayerTechMaxAllowedSwap(wo[xv],-1,GetTriggerPlayer())set xv=GetRandomInt(1,To[5])
set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=To[5]loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SetPlayerTechMaxAllowedSwap(Wo[bj_forLoopAIndex],0,GetTriggerPlayer())set bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall SetPlayerTechMaxAllowedSwap(Wo[xv],-1,GetTriggerPlayer())set xv=GetRandomInt(1,To[6])
set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=To[6]loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SetPlayerTechMaxAllowedSwap(yo[bj_forLoopAIndex],0,GetTriggerPlayer())set bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall SetPlayerTechMaxAllowedSwap(yo[xv],-1,GetTriggerPlayer())else
set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=To[1]loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SetPlayerTechMaxAllowedSwap(to[bj_forLoopAIndex],-1,GetTriggerPlayer())
set bj_forLoopAIndex=bj_forLoopAIndex+1endloopset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=To[2]loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SetPlayerTechMaxAllowedSwap(uo[bj_forLoopAIndex],-1,GetTriggerPlayer())
set bj_forLoopAIndex=bj_forLoopAIndex+1endloopset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=To[3]loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SetPlayerTechMaxAllowedSwap(Uo[bj_forLoopAIndex],-1,GetTriggerPlayer())
set bj_forLoopAIndex=bj_forLoopAIndex+1endloopset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=To[4]loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SetPlayerTechMaxAllowedSwap(wo[bj_forLoopAIndex],-1,GetTriggerPlayer())
set bj_forLoopAIndex=bj_forLoopAIndex+1endloopset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=To[5]loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SetPlayerTechMaxAllowedSwap(Wo[bj_forLoopAIndex],-1,GetTriggerPlayer())
set bj_forLoopAIndex=bj_forLoopAIndex+1endloopset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=To[6]loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SetPlayerTechMaxAllowedSwap(yo[bj_forLoopAIndex],-1,GetTriggerPlayer())
set bj_forLoopAIndex=bj_forLoopAIndex+1endloopendifif(et())then
call UnitAddAbility(w[(1+GetPlayerId(GetTriggerPlayer()))],'A084')else
call UnitRemoveAbility(w[(1+GetPlayerId(GetTriggerPlayer()))],'A084')endifset Ro=truecall DisplayTimedTextToForce(dN(GetOwningPlayer(GetTriggerUnit())),10.,((W[(1+GetPlayerId(GetOwningPlayer(Av)))]+GetPlayerName(GetOwningPlayer(Av)))+("|r randomed "+(GetUnitName(Av)+"."))))call TriggerExecute(PV)endfunctionfunction rt takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='u001')or(GetUnitTypeId(GetTriggerUnit())=='u00C')or(GetUnitTypeId(GetTriggerUnit())=='u000')or(GetUnitTypeId(GetTriggerUnit())=='u003')or(GetUnitTypeId(GetTriggerUnit())=='u002')or(GetUnitTypeId(GetTriggerUnit())=='u00G')or(GetUnitTypeId(GetTriggerUnit())=='u00H')or(GetUnitTypeId(GetTriggerUnit())=='u00I')or(GetUnitTypeId(GetTriggerUnit())=='u00J')or(GetUnitTypeId(GetTriggerUnit())=='u00L')or(GetUnitTypeId(GetTriggerUnit())=='u00O')or(GetUnitTypeId(GetTriggerUnit())=='u00M')or(GetUnitTypeId(GetTriggerUnit())=='u00K')or(GetUnitTypeId(GetTriggerUnit())=='u00T')or(GetUnitTypeId(GetTriggerUnit())=='u00E')or(GetUnitTypeId(GetTriggerUnit())=='u00P')or(GetUnitTypeId(GetTriggerUnit())=='u00U')or(GetUnitTypeId(GetTriggerUnit())=='u00Z')endfunctionfunction it takes nothing returns booleanreturn(kr)and(GetOwningPlayer(GetTriggerUnit())==Player(0))and(rt())
endfunctionfunction at takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='u00E')endfunctionfunction It takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='u00T')endfunctionfunction At takes nothing returns booleanreturn(Fr[(1+GetPlayerId(GetEnumPlayer()))]==false)endfunctionfunction Nt takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='u00I')endfunctionfunction bt takes nothing returns booleanreturn(GetEnumPlayer()!=Player(0))endfunctionfunction Bt takes nothing returns nothingif(bt())then
call SetPlayerTechMaxAllowedSwap(GetUnitTypeId(GetTriggerUnit()),1,GetEnumPlayer())if(It())then
set Bv=w[(1+GetPlayerId(GetEnumPlayer()))]call ReplaceUnitBJ(Bv,GetUnitTypeId(GetTriggerUnit()),3)
call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(bj_lastReplacedUnit))
set w[(1+GetPlayerId(GetEnumPlayer()))]=bj_lastReplacedUnitcall xf(GetEnumPlayer())
else
if(at())then
set Bv=w[(1+GetPlayerId(GetEnumPlayer()))]set xv=GetRandomInt(1,De)call ReplaceUnitBJ(Bv,rr[xv],3)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(bj_lastReplacedUnit))
set w[(1+GetPlayerId(GetEnumPlayer()))]=bj_lastReplacedUnitelse
set Bv=w[(1+GetPlayerId(GetEnumPlayer()))]call ReplaceUnitBJ(Bv,GetUnitTypeId(GetTriggerUnit()),3)
call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(bj_lastReplacedUnit))
set w[(1+GetPlayerId(GetEnumPlayer()))]=bj_lastReplacedUnitendifendifif(At())then
call UnitAddAbility(w[(1+GetPlayerId(GetEnumPlayer()))],'A084')else
call UnitRemoveAbility(w[(1+GetPlayerId(GetTriggerPlayer()))],'A084')endifif(Nt())then
call SetPlayerTechResearchedSwap('R00D',4,GetEnumPlayer())endifendifendfunctionfunction ct takes nothing returns nothingcall ForForce(Dx,function Bt)call TriggerExecute(PV)call DisableTrigger(GetTriggeringTrigger())endfunctionfunction dt takes nothing returns booleanreturn(GetSpellAbilityId()=='A084')and(Do==false)endfunctionfunction Dt takes nothing returns nothinglocal unit qf=GetSpellAbilityUnit()local player Qf=GetTriggerPlayer()local integer Sf=1+GetPlayerId(Qf)if(GetUnitLifePercent(GetSpellTargetUnit())>45)thencall PauseUnit(qf,true)call IssueImmediateOrderById(qf,$D0004)call PauseUnit(qf,false)
if(ki==Qf)thencall DisplayTimedTextToPlayer(Qf,0,0,$A,"TRIGSTR_9399")endifelse
call UnitRemoveAbility(w[Sf],'A084')
set Fr[Sf]=truecall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,$A,((W[Sf]+GetPlayerName(Qf))+"|r used Holy Light on King !"))
call TriggerSleepAction(1.)call IssueImmediateOrderById(w[Sf],$D0019)endifendfunctionfunction Ft takes nothing returns booleanreturn(GetUnitTypeId(GetTrainedUnit())=='e003')endfunctionfunction gt takes nothing returns nothingset ro[(1+GetPlayerId(GetOwningPlayer(GetTrainedUnit())))]=(ro[(1+GetPlayerId(GetOwningPlayer(GetTrainedUnit())))]+1)call TriggerExecute(MV)set xv=ro[(1+GetPlayerId(GetOwningPlayer(GetTrainedUnit())))]set xv=0
endfunctionfunction ht takes nothing returns booleanreturn(GetResearched()=='R003')or(GetResearched()=='R00H')endfunctionfunction Ht takes nothing returns booleanreturn(ht())
endfunctionfunction jt takes nothing returns booleanreturn(GetPlayerTechCountSimple('R003',GetTriggerPlayer())==8)endfunctionfunction Jt takes nothing returns nothingcall TriggerExecute(MV)if(jt())then
call SetPlayerTechMaxAllowedSwap('R00H',7,GetTriggerPlayer())endifendfunctionfunction Kt takes nothing returns booleanreturn(GetResearched()=='R00G')endfunctionfunction qt takes nothing returns nothingset Yi[(1+GetPlayerId(GetTriggerPlayer()))]=(Yi[(1+GetPlayerId(GetTriggerPlayer()))]+1)set Ro=false
call SelectUnitForPlayerSingle(w[(1+GetPlayerId(GetTriggerPlayer()))],GetTriggerPlayer())call DisplayTimedTextToForce(dN(GetTriggerPlayer()),10.,((W[(1+GetPlayerId(GetTriggerPlayer()))]+GetPlayerName(GetTriggerPlayer()))+"|r use Re-Roll."))call xf(GetTriggerPlayer())endfunctionfunction St takes nothing returns booleanreturn(GetResearched()=='R00D')endfunctionfunction tt takes nothing returns booleanreturn(xv>=6)and(hv>=6)endfunctionfunction Tt takes nothing returns booleanreturn(xv<$C)and(hv<$C)endfunctionfunction ut takes nothing returns nothingset Yi[(1+GetPlayerId(GetTriggerPlayer()))]=(Yi[(1+GetPlayerId(GetTriggerPlayer()))]+1)set bj_forLoopAIndex=0set bj_forLoopAIndexEnd=Deloop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall SetPlayerTechMaxAllowedSwap(rr[bj_forLoopAIndex],0,GetTriggerPlayer())set bj_forLoopAIndex=bj_forLoopAIndex+1endloopset xv=GetRandomInt(0,De)set hv=Db(0,De,xv)call SetPlayerTechMaxAllowedSwap(rr[xv],1,GetTriggerPlayer())call SetPlayerTechMaxAllowedSwap(rr[hv],1,GetTriggerPlayer())set Ro=false
call SelectUnitForPlayerSingle(w[(1+GetPlayerId(GetTriggerPlayer()))],GetTriggerPlayer())call ForceUICancelBJ(GetTriggerPlayer())
call RemoveUnit(w[(1+GetPlayerId(GetTriggerPlayer()))])if(Tt())then
call CreateNUnitsAtLoc(1,'e005',GetTriggerPlayer(),GetPlayerStartLocationLoc(GetTriggerPlayer()),bj_UNIT_FACING)
else
if(tt())then
call CreateNUnitsAtLoc(1,'e007',GetTriggerPlayer(),GetPlayerStartLocationLoc(GetTriggerPlayer()),bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(1,'e006',GetTriggerPlayer(),GetPlayerStartLocationLoc(GetTriggerPlayer()),bj_UNIT_FACING)
endifendifcall SelectUnitForPlayerSingle(bj_lastCreatedUnit,GetTriggerPlayer())call DisplayTimedTextToForce(dN(GetTriggerPlayer()),10.,((W[(1+GetPlayerId(GetTriggerPlayer()))]+GetPlayerName(GetTriggerPlayer()))+"|r Changed builder."))endfunctionfunction wt takes nothing returns booleanreturn(GetResearched()=='R00I')endfunctionfunction Wt takes nothing returns booleanreturn(Fr[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))]==false)
endfunctionfunction yt takes nothing returns booleanreturn(Gv)endfunctionfunction Yt takes nothing returns booleanreturn(GetPlayerTechCountSimple('R00H',GetTriggerPlayer())<7)and(Gv==false)endfunctionfunction zt takes nothing returns nothingcall ReplaceUnitBJ(GetTriggerUnit(),'u00P',3)set w[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))]=bj_lastReplacedUnit
call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(bj_lastReplacedUnit))
if(Wt())then
call UnitAddAbility(w[(1+GetPlayerId(GetOwningPlayer(bj_lastReplacedUnit)))],'A084')
endifcall SetPlayerTechResearchedSwap('R00D',5,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R00I',1,GetOwningPlayer(GetTriggerUnit()))
set Av=bj_lastReplacedUnitset Ro=false
call TriggerExecute(PV)if(yt())then
call UnitRemoveAbility(w[(1+GetPlayerId(GetTriggerPlayer()))],'A09E')call UnitRemoveAbility(w[(1+GetPlayerId(GetTriggerPlayer()))],'A09F')call UnitRemoveAbility(w[(1+GetPlayerId(GetTriggerPlayer()))],'A09G')call UnitRemoveAbility(w[(1+GetPlayerId(GetTriggerPlayer()))],'A09H')call UnitAddAbility(w[(1+GetPlayerId(GetTriggerPlayer()))],'A09V')call UnitAddAbility(w[(1+GetPlayerId(GetTriggerPlayer()))],'A09W')call UnitAddAbility(w[(1+GetPlayerId(GetTriggerPlayer()))],'A09U')call UnitAddAbility(w[(1+GetPlayerId(GetTriggerPlayer()))],'A09P')endifif(Yt())then
call UnitRemoveAbility(w[(1+GetPlayerId(GetTriggerPlayer()))],'A09H')call UnitAddAbility(w[(1+GetPlayerId(GetTriggerPlayer()))],'A09P')endifset xv=(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))set zi[xv]=(zi[xv]+(",Mercenary"))endfunctionfunction vT takes nothing returns booleanreturn(sv[(4+6)]!=3)
endfunctionfunction eT takes nothing returns nothingif(vT())then
call TriggerExecute(XI)endifendfunctionfunction oT takes nothing returns nothingcall YA(8.)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"TRIGSTR_9143")endfunctionfunction iT takes nothing returns nothingcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,12.,"TRIGSTR_4319")endfunctionfunction nT takes nothing returns booleanreturn(br)endfunctionfunction VT takes nothing returns booleanreturn(Zi==false)endfunctionfunction ET takes nothing returns nothingif(VT())then
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,12.,"TRIGSTR_6378")else
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,12.,"TRIGSTR_9126")endifendfunctionfunction OT takes nothing returns nothingcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,12.,"TRIGSTR_9393")endfunctionfunction IT takes nothing returns nothingcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,12.,"TRIGSTR_4973")call PingMinimapLocForForceEx(dN(Player(8)),GetRectCenter(fa),6.,0,'d','d','d')call PingMinimapLocForForceEx(dN(Player(8)),GetRectCenter(Fa),6.,0,'d','d','d')call PingMinimapLocForForceEx(dN(Player(9)),GetRectCenter(ga),6.,0,'d','d','d')call PingMinimapLocForForceEx(dN(Player(9)),GetRectCenter(Ga),6.,0,'d','d','d')endfunctionfunction NT takes nothing returns booleanreturn(Ve==false)and(Ee==false)and(Xe==false)and(Oe==false)endfunctionfunction bT takes nothing returns booleanreturn(se==false)and(Se==false)and(te==false)and(Te==false)endfunctionfunction BT takes nothing returns nothingset Zx=trueset ne=truecall YA(1.)if(NT())then
call UnitAddItemByIdSwapped('I000',vA)set Zx=false
endifif(bT())then
call UnitAddItemByIdSwapped('I000',EA)set ne=false
endifendfunctionfunction CT takes nothing returns booleanreturn(Bx==false)endfunctionfunction dT takes nothing returns booleanreturn(GetUnitTypeId(GetEnumUnit())!='h00K')and(GetUnitTypeId(GetEnumUnit())!='h06H')endfunctionfunction DT takes nothing returns nothingif(dT())then
call ExplodeUnitBJ(GetEnumUnit())call GroupRemoveUnit(ha,GetEnumUnit())endifendfunctionfunction fT takes nothing returns booleanreturn(GetTriggerPlayer()==Player(7))endfunctionfunction FT takes nothing returns booleanreturn(GetTriggerPlayer()==Player(6))endfunctionfunction gT takes nothing returns booleanreturn(GetTriggerPlayer()==Player(5))endfunctionfunction GT takes nothing returns booleanreturn(GetTriggerPlayer()==Player(4))endfunctionfunction hT takes nothing returns booleanreturn(GetTriggerPlayer()==Player(3))endfunctionfunction HT takes nothing returns booleanreturn(GetTriggerPlayer()==Player(2))endfunctionfunction jT takes nothing returns booleanreturn(GetTriggerPlayer()==Player(1))endfunctionfunction JT takes nothing returns booleanreturn(GetTriggerPlayer()==Player(0))endfunctionfunction kT takes nothing returns booleanreturn(Bx==false)endfunctionfunction KT takes nothing returns booleanreturn(CountPlayersInForceBJ(dN(Player(8)))==1)endfunctionfunction lT takes nothing returns booleanreturn(CountPlayersInForceBJ(dN(Player(9)))==1)endfunctionfunction LT takes nothing returns booleanreturn(Ba==false)endfunctionfunction mT takes nothing returns booleanreturn(IsPlayerInForce(Player(-1+(bj_forLoopBIndex)),Cx))and(Ro==false)endfunctionfunction MT takes nothing returns booleanreturn(Ba)endfunctionfunction pT takes nothing returns nothingcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,((W[(1+GetPlayerId(GetTriggerPlayer()))]+GetPlayerName(GetTriggerPlayer()))+"|r has left the game."))call MultiboardSetItemValueBJ(me,1,Ir[(1+GetPlayerId(GetTriggerPlayer()))],(("|cff888888"+GetPlayerName(Player(-1+((1+GetPlayerId(GetTriggerPlayer()))))))+"|r"))call ForceRemovePlayer(Dx,GetTriggerPlayer())if(CT())then
call TriggerExecute(iO)endifcall ForGroupBJ(BN(GetTriggerPlayer()),function DT)if(kT())then
if(JT())then
set Ve=false
else
if(jT())then
set Ee=false
else
if(HT())then
set Xe=false
else
if(hT())then
set Oe=false
else
if(GT())then
set se=false
else
if(gT())then
set Se=false
else
if(FT())then
set te=false
else
if(fT())then
set Te=false
endifendifendifendifendifendifendifendifendifif(KT())then
set Zx=false
endifif(lT())then
set ne=false
endifif(LT())then
set io[(1+GetPlayerId(GetTriggerPlayer()))]=("|cff999999"+(Qe+"|r"))
else
set io[(1+GetPlayerId(GetTriggerPlayer()))]="|cff999999End|r"endifif(MT())then
set xv=1
set bj_forLoopAIndex=2set bj_forLoopAIndexEnd=voloop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset Ro=false
set bj_forLoopBIndex=xvset bj_forLoopBIndexEnd=8loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEndif(mT())then
call MultiboardSetItemValueBJ(fx,bj_forLoopAIndex,(MultiboardGetRowCount(fx)-3),io[bj_forLoopBIndex])set xv=(bj_forLoopBIndex+1)set Ro=trueendifset bj_forLoopBIndex=bj_forLoopBIndex+1endloopset bj_forLoopAIndex=bj_forLoopAIndex+1endloopendifendfunctionfunction sT takes nothing returns nothingset xv=(xv+1)set Ev=GetUnitLoc(GetEnumUnit())
set gv=GetOwningPlayer(GetEnumUnit())set Vv=(((I2S(GetPlayerState(gv,PLAYER_STATE_RESOURCE_GOLD)))+"|cffFFcc00 gold|r|n")+(((I2S(GetPlayerState(gv,PLAYER_STATE_RESOURCE_LUMBER)))+"|cff339933 lumber|r|n")+((I2S(GetPlayerState(gv,PLAYER_STATE_RESOURCE_FOOD_USED)))+("/"+(I2S(GetPlayerState(gv,PLAYER_STATE_RESOURCE_FOOD_CAP))+"|cff993333 food")))))set BX[xv]=Bb(Ev,Vv,$FF,$FF,$FF,gv)call RemoveLocation(Ev)endfunctionfunction wf takes nothing returns nothinglocal unit u=GetEnumUnit()if GetUnitUserData(u)<aa thencall RemoveUnit(u)endifset u=nullendfunctionfunction ST takes nothing returns nothingset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=8loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndif BX[bj_forLoopAIndex]!=null thencall DestroyTextTag(BX[bj_forLoopAIndex])set BX[bj_forLoopAIndex]=nullendifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopif(Ba)thencall DisableTrigger(GetTriggeringTrigger())else
set xv=0
set Nv=AN('h023')call ForGroup(Nv,function sT)call DestroyGroup(Nv)if Px>0 then
set Px=Px-1else
set bj_forLoopAIndex=GetPlayerId(ki)
if GetCameraField(CAMERA_FIELD_TARGET_DISTANCE)+1<Gx[bj_forLoopAIndex]thencall SetCameraField(CAMERA_FIELD_FARZ,20000.,.5)
call SetCameraField(CAMERA_FIELD_TARGET_DISTANCE,Gx[bj_forLoopAIndex],.5)set Px=1
endifendifendifcall ForGroup(na,function wf)endfunctionfunction TT takes nothing returns booleanreturn(zx==false)endfunctionfunction uT takes nothing returns booleanreturn(GetPlayerState(GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)>xv)endfunctionfunction UT takes nothing returns booleanreturn(GetPlayerState(GetEnumPlayer(),PLAYER_STATE_LUMBER_GATHERED)>(Hr[(1+GetPlayerId(GetEnumPlayer()))]+jr))endfunctionfunction wT takes nothing returns nothingset jr=((1*ro[(1+GetPlayerId(GetEnumPlayer()))])*((GetPlayerTechCountSimple('R003',GetEnumPlayer())+GetPlayerTechCountSimple('R00H',GetEnumPlayer()))+2))if(UT())then
set Wi=(Wi+1)set xv=(GetPlayerState(GetEnumPlayer(),PLAYER_STATE_LUMBER_GATHERED)-(Hr[(1+GetPlayerId(GetEnumPlayer()))]+jr))set Hr[(1+GetPlayerId(GetEnumPlayer()))]=(jr+Hr[(1+GetPlayerId(GetEnumPlayer()))])if(uT())then
call AdjustPlayerStateBJ((0-xv),GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)call AdjustPlayerStateBJ((0-xv),GetEnumPlayer(),PLAYER_STATE_LUMBER_GATHERED)else
call AdjustPlayerStateBJ((0-GetPlayerState(GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)),GetEnumPlayer(),PLAYER_STATE_LUMBER_GATHERED)call SetPlayerStateBJ(GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER,0)endifelse
set Hr[(1+GetPlayerId(GetEnumPlayer()))]=GetPlayerState(GetEnumPlayer(),PLAYER_STATE_LUMBER_GATHERED)endifendfunctionfunction WT takes nothing returns nothingcall ForForce(Dx,function wT)call YA(GetRandomReal(1.,5.))call TriggerExecute(EI)call ConditionalTriggerExecute(VI)endfunctionfunction YT takes nothing returns booleanreturn(zx==false)endfunctionfunction zT takes nothing returns booleanreturn(GetPlayerState(GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)>xv)endfunctionfunction ZT takes nothing returns booleanreturn(Hv>mr[(1+GetPlayerId(GetEnumPlayer()))])endfunctionfunction vu takes nothing returns booleanreturn(GetPlayerState(GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)>xv)endfunctionfunction eu takes nothing returns booleanreturn(GetPlayerState(GetEnumPlayer(),PLAYER_STATE_GOLD_GATHERED)>mr[(1+GetPlayerId(GetEnumPlayer()))])endfunctionfunction xu takes nothing returns nothingset pr=((GetPlayerState(GetEnumPlayer(),PLAYER_STATE_RESOURCE_FOOD_CAP)-$F)*3)set Pr=((ro[(1+GetPlayerId(GetEnumPlayer()))]-1)*50)
set xv=(GetPlayerTechCountSimple('R003',GetEnumPlayer())+GetPlayerTechCountSimple('R00H',GetEnumPlayer()))set qr=Mr[xv]set Qr=mo[(1+GetPlayerId(GetEnumPlayer()))]set Hv=((GetPlayerState(GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)+(Qr+pr))+(Pr+qr))if(eu())then
set Wi=(Wi+1)set xv=(GetPlayerState(GetEnumPlayer(),PLAYER_STATE_GOLD_GATHERED)-mr[(1+GetPlayerId(GetEnumPlayer()))])
if(vu())then
call AdjustPlayerStateBJ((0-xv),GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)call AdjustPlayerStateBJ((0-xv),GetEnumPlayer(),PLAYER_STATE_GOLD_GATHERED)else
call AdjustPlayerStateBJ((0-GetPlayerState(GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)),GetEnumPlayer(),PLAYER_STATE_GOLD_GATHERED)call SetPlayerStateBJ(GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD,0)endifelse
if(ZT())then
set Wi=(Wi+1)set xv=(Hv-mr[(1+GetPlayerId(GetEnumPlayer()))])
if(zT())then
call AdjustPlayerStateBJ((0-xv),GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)call AdjustPlayerStateBJ((0-xv),GetEnumPlayer(),PLAYER_STATE_GOLD_GATHERED)else
call AdjustPlayerStateBJ((0-GetPlayerState(GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)),GetEnumPlayer(),PLAYER_STATE_GOLD_GATHERED)call SetPlayerStateBJ(GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD,0)endifendifendifendfunctionfunction ou takes nothing returns nothingcall ForForce(Dx,function xu)endfunctionfunction iu takes nothing returns booleanreturn(Hv>GetPlayerState(GetEnumPlayer(),PLAYER_STATE_LUMBER_GATHERED))endfunctionfunction au takes nothing returns nothingset pr=((GetPlayerState(GetEnumPlayer(),PLAYER_STATE_RESOURCE_FOOD_CAP)-$F)*$A)set xv=(GetPlayerTechCountSimple('R003',GetEnumPlayer())+GetPlayerTechCountSimple('R00H',GetEnumPlayer()))set qr=Mr[xv]set Qr=qi[(1+GetPlayerId(GetEnumPlayer()))]set Qi=(Qo[(1+GetPlayerId(GetEnumPlayer()))]*80)
set Hv=((GetPlayerState(GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)+(Qr+pr))+qr)if(iu())then
set Wi=(Wi+1)set xv=(Hv-GetPlayerState(GetEnumPlayer(),PLAYER_STATE_LUMBER_GATHERED))
call AdjustPlayerStateBJ((0-xv),GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)endifendfunctionfunction nu takes nothing returns nothingcall ForForce(Dx,function au)endfunctionfunction Eu takes nothing returns nothinglocal string s=""set s="|cffFF0000HuanAk:|r |c00fe890d"set s=s+"This Map has been modified with wrong data,"set s=s+" game will shutting down !|r "call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30.,s)
call TriggerExecute(GE)endfunctionfunction Ou takes nothing returns nothingcall DisplayTimedTextToForce(CN(GetTriggerPlayer()),11.,"TRIGSTR_4322")endfunctionfunction Iu takes nothing returns booleanreturn(GetEventPlayerChatString()=="-pierce")endfunctionfunction Au takes nothing returns booleanreturn(GetEventPlayerChatString()=="-normal")endfunctionfunction Nu takes nothing returns booleanreturn(GetEventPlayerChatString()=="-magic")
endfunctionfunction bu takes nothing returns booleanreturn(GetEventPlayerChatString()=="-chaos")
endfunctionfunction Bu takes nothing returns booleanreturn(GetEventPlayerChatString()=="-siege")
endfunctionfunction cu takes nothing returns nothingif(Iu())then
set Vv=Lvset be="Pierce"endifif(Au())then
set Vv=mvset be="Normal"endifif(Nu())then
set Vv=Mvset be="Magic"endifif(bu())then
set Vv=Pvset be="Chaos"endifif(Bu())then
set Vv=pvset be="Siege"endifset Ne=cb(Vv)call DisplayTimedTextToForce(CN(GetTriggerPlayer()),11.,((be+" levels: |cffFF8700")+(Ne+"|r")))endfunctionfunction du takes nothing returns booleanreturn(GetEventPlayerChatString()=="-fortified")
endfunctionfunction Du takes nothing returns booleanreturn(GetEventPlayerChatString()=="-heavy")
endfunctionfunction fu takes nothing returns booleanreturn(GetEventPlayerChatString()=="-light")
endfunctionfunction Fu takes nothing returns booleanreturn(GetEventPlayerChatString()=="-medium")endfunctionfunction gu takes nothing returns booleanreturn(GetEventPlayerChatString()=="-unarmored")
endfunctionfunction Gu takes nothing returns nothingif(du())then
set Vv=uvset be="Fortified"endifif(Du())then
set Vv=Tvset be="Heavy"endifif(fu())then
set Vv=Svset be="Light"endifif(Fu())then
set Vv=tvset be="Medium"endifif(gu())then
set Vv=deset be="Unarmored"endifset Ne=cb(Vv)call DisplayTimedTextToForce(CN(GetTriggerPlayer()),11.,((be+" levels: |cffFF8700")+(Ne+"|r")))endfunctionfunction Hu takes nothing returns booleanreturn(GetEventPlayerChatString()=="-air")endfunctionfunction ju takes nothing returns booleanreturn(GetEventPlayerChatString()=="-range")
endfunctionfunction Ju takes nothing returns booleanreturn(GetEventPlayerChatString()=="-boss")endfunctionfunction ku takes nothing returns nothingif(Hu())then
set Vv=Beset be="Air"
endifif(ju())then
set Vv=Ceset be="Range"endifif(Ju())then
set Vv=ceset be="Boss"endifset Ne=cb(Vv)call DisplayTimedTextToForce(CN(GetTriggerPlayer()),11.,((be+" levels: |cffFF8700")+(Ne+"|r")))endfunctionfunction lu takes nothing returns booleanreturn(rv<=30)endfunctionfunction Lu takes nothing returns booleanreturn(br)and(rv<30)
endfunctionfunction mu takes nothing returns nothingset Vv=GetObjectName(z[rv+1])if(Lu())then
call DisplayTimedTextToForce(dN(GetTriggerPlayer()),11.,Z[(rv+1)])else
call DisplayTimedTextToForce(dN(GetTriggerPlayer()),11.,(("Next wave (|cffFFcc00"+I2S((rv+1)))+((("|r) - "+Vv)+" - ")+("("+((qv[(rv+1)]+", ")+(Qv[(rv+1)]+")"))))))endifendfunctionfunction pu takes nothing returns booleanreturn(rv<=30)endfunctionfunction Pu takes nothing returns booleanreturn(br)and(rv<30)
endfunctionfunction qu takes nothing returns nothingset Vv=GetObjectName(z[rv+1])if(Pu())then
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,11.,Z[(rv+1)])
else
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,11.,(("Next wave (|cffFFcc00"+I2S((rv+1)))+((("|r) - "+Vv)+" - ")+("("+((qv[(rv+1)]+", ")+(Qv[(rv+1)]+")"))))))endifendfunctionfunction su takes nothing returns booleanreturn(SubStringBJ(GetEventPlayerChatString(),1,5)=="-info")
endfunctionfunction Su takes nothing returns booleanreturn(GetFilterPlayer()==GetTriggerPlayer())endfunctionfunction tu takes nothing returns booleanreturn(xv>0)and(xv<=31)endfunctionfunction Tu takes nothing returns nothingset xv=S2I(SubStringBJ(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString())))if(tu())then
call DisplayTimedTextToForce(dN(GetTriggerPlayer()),11.,Z[(xv+0)])else
call DisplayTimedTextToForce(fN(Condition(function Su)),7.,"TRIGSTR_4883")endifendfunctionfunction Uu takes nothing returns booleanreturn(zx)endfunctionfunction wu takes nothing returns nothingcall StartTimerBJ(nv,false,1.)if(Uu())then
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_4324")else
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_4323")endifendfunctionfunction yu takes nothing returns booleanreturn(SubStringBJ(GetEventPlayerChatString(),1,5)=="-zoom")
endfunctionfunction Yu takes nothing returns booleanreturn(GetFilterPlayer()==GetTriggerPlayer())endfunctionfunction vU takes nothing returns nothinglocal player p=GetTriggerPlayer()set Ie=S2R(SubStringBJ(GetEventPlayerChatString(),7,StringLength(GetEventPlayerChatString())))if(Ie<=200.)and(Ie>=100.)thenset Ie=(Ie*16.5)
if p==ki thencall SetCameraField(CAMERA_FIELD_FARZ,20000.,.5)
call SetCameraField(CAMERA_FIELD_TARGET_DISTANCE,Ie,.5)set Px=1
endifset Gx[GetPlayerId(p)]=Ieelse
call DisplayTimedTextToForce(fN(Condition(function Yu)),7.,"TRIGSTR_4577")endifset p=nullendfunctionfunction xU takes nothing returns nothinglocal integer Yf
call DisplayTimedTextToForce(dN(GetTriggerPlayer()),7.,("King HP: |cffFFcc00"+I2S(GetPlayerTechCountSimple('R000',GetTriggerPlayer()))))
call DisplayTimedTextToForce(dN(GetTriggerPlayer()),7.,("King Damage: |cffFFcc00"+I2S(GetPlayerTechCountSimple('R001',GetTriggerPlayer()))))
call DisplayTimedTextToForce(dN(GetTriggerPlayer()),7.,("King Regen: |cffFFcc00"+I2S(GetPlayerTechCountSimple('R002',GetTriggerPlayer()))))if(Q)thenif(GetPlayerTeam(GetTriggerPlayer())==0)then
set Yf=S
else
set Yf=T
endifcall DisplayTimedTextToForce(dN(GetTriggerPlayer()),7,("King Heals: |cffFFcc00"+I2S(Yf)))else
if(GetPlayerTeam(GetTriggerPlayer())==0)then
set Yf=qe[8]
else
set Yf=qe[9]
endifcall DisplayTimedTextToForce(dN(GetTriggerPlayer()),7,("|c11FF0000HELL|r Heals: |cffFFcc00"+I2S(Yf)))endifendfunctionfunction rU takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT))!=null)!=nullendfunctionfunction iU takes nothing returns nothingset xv=(xv+GetUnitPointValue(GetEnumUnit()))
endfunctionfunction aU takes nothing returns booleanreturn(GetFilterPlayer()==GetTriggerPlayer())endfunctionfunction nU takes nothing returns nothingset xv=0
set Nv=bN(GetTriggerPlayer(),Condition(function rU))
call ForGroupBJ(Nv,function iU)call DisplayTimedTextToForce(fN(Condition(function aU)),7.,("Fighter Value: |cffFFcc00"+(I2S(xv)+"|r")))
endfunctionfunction EU takes nothing returns booleanreturn(GetFilterPlayer()==GetTriggerPlayer())endfunctionfunction XU takes nothing returns nothingset xv=0
call DisplayTimedTextToForce(fN(Condition(function EU)),7.,("Total Kill: |cffFFcc00"+(I2S(ba[(1+GetPlayerId(GetTriggerPlayer()))])+"|r")))endfunctionfunction RU takes nothing returns booleanreturn(GetFilterPlayer()==GetTriggerPlayer())endfunctionfunction IU takes nothing returns nothingcall ClearTextMessagesBJ(fN(Condition(function RU)))
endfunctionfunction NU takes nothing returns nothingcall CreateQuestBJ(0,"TRIGSTR_5007","TRIGSTR_5626","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call FlashQuestDialogButton()call DisableTrigger(GetTriggeringTrigger())endfunctionfunction BU takes nothing returns nothingcall DisableTrigger(hI)call DisableTrigger(HI)endfunctionfunction CU takes nothing returns booleanreturn(zx)endfunctionfunction dU takes nothing returns booleanreturn(Do==false)endfunctionfunction DU takes nothing returns nothingif(dU())then
call TriggerExecute(gI)endifcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30,"TRIGSTR_5627")
set Do=truecall EnableTrigger(ME)call EnableTrigger(pE)call DisableTrigger(cI)call DisableTrigger(LR)call EnableTrigger(PI)call EnableTrigger(lI)call EnableTrigger(LI)call EnableTrigger(mI)call EnableTrigger(qI)call EnableTrigger(QI)call EnableTrigger(sI)call EnableTrigger(SI)call EnableTrigger(tI)call EnableTrigger(TI)call EnableTrigger(uI)call EnableTrigger(jI)call EnableTrigger(JI)call EnableTrigger(kI)call EnableTrigger(pI)call EnableTrigger(wI)call EnableTrigger(UI)call EnableTrigger(WI)call EnableTrigger(yI)call EnableTrigger(YI)call EnableTrigger(MI)call EnableTrigger(KI)call DisableTrigger(GI)call MultiboardSetTitleText(me,(Ge+("|cffFF0000 ("+(Oo+"*)|r"))))endfunctionfunction FU takes nothing returns booleanreturn(zx)endfunctionfunction gU takes nothing returns booleanreturn(Do==false)endfunctionfunction GU takes nothing returns nothingif(gU())then
call TriggerExecute(gI)endifcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30,"TRIGSTR_5627")
set Do=truecall EnableTrigger(ME)call EnableTrigger(pE)call DisableTrigger(cI)call DisableTrigger(LR)call EnableTrigger(PI)call EnableTrigger(lI)call EnableTrigger(LI)call EnableTrigger(mI)call EnableTrigger(qI)call EnableTrigger(QI)call EnableTrigger(sI)call EnableTrigger(SI)call EnableTrigger(tI)call EnableTrigger(TI)call EnableTrigger(uI)call EnableTrigger(jI)call EnableTrigger(JI)call EnableTrigger(kI)call EnableTrigger(pI)call EnableTrigger(wI)call EnableTrigger(UI)call EnableTrigger(WI)call EnableTrigger(yI)call EnableTrigger(YI)call EnableTrigger(MI)call EnableTrigger(KI)call DisableTrigger(GI)call MultiboardSetTitleText(me,(Ge+("|cffFF0000 ("+(Oo+"*)|r"))))endfunctionfunction HU takes nothing returns nothingset xv=S2I(SubStringBJ(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString())))call SetPlayerStateBJ(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD,xv)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,12.,(("[|cffFF0000Debug|r] "+W[(1+GetPlayerId(GetTriggerPlayer()))])+(GetPlayerName(GetTriggerPlayer())+("|r gold set to "+I2S(xv)))))
endfunctionfunction JU takes nothing returns nothingset xv=S2I(SubStringBJ(GetEventPlayerChatString(),9,StringLength(GetEventPlayerChatString())))call SetPlayerStateBJ(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER,xv)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,12.,(("[|cffFF0000Debug|r] "+W[(1+GetPlayerId(GetTriggerPlayer()))])+(GetPlayerName(GetTriggerPlayer())+("|r lumber set to "+I2S(xv)))))endfunctionfunction KU takes nothing returns nothingcall SetPlayerStateBJ(GetEnumPlayer(),PLAYER_STATE_RESOURCE_FOOD_CAP,'d')call SetPlayerStateBJ(GetEnumPlayer(),PLAYER_STATE_FOOD_CAP_CEILING,'d')
endfunctionfunction lU takes nothing returns nothingcall ForForce(bj_FORCE_ALL_PLAYERS,function KU)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,12.,"TRIGSTR_4514")endfunctionfunction mU takes nothing returns nothingcall SetPlayerStateBJ(GetEnumPlayer(),PLAYER_STATE_RESOURCE_FOOD_CAP,300)call SetPlayerStateBJ(GetEnumPlayer(),PLAYER_STATE_FOOD_CAP_CEILING,300)
endfunctionfunction MU takes nothing returns nothingcall ForForce(bj_FORCE_ALL_PLAYERS,function mU)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,12.,"TRIGSTR_5421")endfunctionfunction PU takes nothing returns booleanreturn(Xx==false)endfunctionfunction qU takes nothing returns nothingif(PU())then
set Xx=truecall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,12.,"TRIGSTR_4328")else
set Xx=false
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,12.,"TRIGSTR_4327")endifendfunctionfunction sU takes nothing returns nothingset xv=S2I(SubStringBJ(GetEventPlayerChatString(),9,StringLength(GetEventPlayerChatString())))set ox[(1+GetPlayerId(GetTriggerPlayer()))]=xvcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,12.,(("[|cffFF0000Debug|r] "+W[(1+GetPlayerId(GetTriggerPlayer()))])+(GetPlayerName(GetTriggerPlayer())+("|r income set to "+I2S(xv)))))call TriggerExecute(LV)endfunctionfunction tU takes nothing returns booleanreturn(yx==false)endfunctionfunction TU takes nothing returns nothingif(tU())then
set yx=trueset Ve=trueset Ee=trueset Xe=trueset Oe=trueset se=trueset Se=trueset te=trueset Te=truecall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,12.,"TRIGSTR_4718")else
set yx=false
call TriggerExecute(iO)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,12.,"TRIGSTR_4719")endifendfunctionfunction UU takes nothing returns booleanreturn(GetEventPlayerChatString()!="-spawnall")endfunctionfunction wU takes nothing returns booleanreturn(Ve)endfunctionfunction WU takes nothing returns booleanreturn(SubStringBJ(GetEventPlayerChatString(),8,8)=="1")
endfunctionfunction yU takes nothing returns booleanreturn(Ee)endfunctionfunction YU takes nothing returns booleanreturn(SubStringBJ(GetEventPlayerChatString(),8,8)=="2")
endfunctionfunction zU takes nothing returns booleanreturn(Xe)endfunctionfunction ZU takes nothing returns booleanreturn(SubStringBJ(GetEventPlayerChatString(),8,8)=="3")
endfunctionfunction vw takes nothing returns booleanreturn(Oe)endfunctionfunction ew takes nothing returns booleanreturn(SubStringBJ(GetEventPlayerChatString(),8,8)=="4")
endfunctionfunction xw takes nothing returns booleanreturn(se)endfunctionfunction ow takes nothing returns booleanreturn(SubStringBJ(GetEventPlayerChatString(),8,8)=="5")
endfunctionfunction rw takes nothing returns booleanreturn(Se)endfunctionfunction iw takes nothing returns booleanreturn(SubStringBJ(GetEventPlayerChatString(),8,8)=="6")
endfunctionfunction aw takes nothing returns booleanreturn(te)endfunctionfunction nw takes nothing returns booleanreturn(SubStringBJ(GetEventPlayerChatString(),8,8)=="7")
endfunctionfunction Vw takes nothing returns booleanreturn(Te)endfunctionfunction Ew takes nothing returns booleanreturn(SubStringBJ(GetEventPlayerChatString(),8,8)=="8")
endfunctionfunction Xw takes nothing returns booleanreturn(Vv!="")endfunctionfunction Ow takes nothing returns nothingset Vv=""if(WU())then
if(wU())then
set Ve=false
set Vv="Off"
else
set Ve=trueset Vv="On"endifendifif(YU())then
if(yU())then
set Ee=false
set Vv="Off"
else
set Ee=trueset Vv="On"endifendifif(ZU())then
if(zU())then
set Xe=false
set Vv="Off"
else
set Xe=trueset Vv="On"endifendifif(ew())then
if(vw())then
set Oe=false
set Vv="Off"
else
set Oe=trueset Vv="On"endifendifif(ow())then
if(xw())then
set se=false
set Vv="Off"
else
set se=trueset Vv="On"endifendifif(iw())then
if(rw())then
set Se=false
set Vv="Off"
else
set Se=trueset Vv="On"endifendifif(nw())then
if(aw())then
set te=false
set Vv="Off"
else
set te=trueset Vv="On"endifendifif(Ew())then
if(Vw())then
set Te=false
set Vv="Off"
else
set Te=trueset Vv="On"endifendifif(Xw())then
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,12.,("[|cffFF0000Debug|r] Spawn "+(SubStringBJ(GetEventPlayerChatString(),8,8)+(" toggled "+Vv))))
endifendfunctionfunction Iw takes nothing returns nothingcall SetUnitPositionLoc(w[(1+GetPlayerId(GetEnumPlayer()))],GetPlayerStartLocationLoc(GetEnumPlayer()))endfunctionfunction Aw takes nothing returns booleanreturn(go==false)endfunctionfunction Nw takes nothing returns nothingif(Aw())then
set go=truecall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,12.,"TRIGSTR_4723")else
set go=false
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,12.,"TRIGSTR_4722")call ForForce(Dx,function Iw)endifendfunctionfunction Bw takes nothing returns booleanreturn(S2I(SubStringBJ(GetEventPlayerChatString(),8,9))>=0)and(S2I(SubStringBJ(GetEventPlayerChatString(),8,9))<=(bx+1))
endfunctionfunction cw takes nothing returns nothingset rv=S2I(SubStringBJ(GetEventPlayerChatString(),8,9))set rv=(rv-1)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,("[|cffFF0000Debug|r] Next level set to "+I2S((rv+1))))call TimerDialogSetTitle(fv,("Level "+(I2S((rv+1))+" in")))call TimerDialogSetTimeColor(fv,$FA,$D2,20,$FF)endfunctionfunction dw takes nothing returns nothingcall PauseTimerBJ(false,nv)call StartTimerBJ(nv,false,1.)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_5449")endfunctionfunction fw takes nothing returns booleanreturn(GetPlayerName(GetTriggerPlayer())=="Lisk")or(GetPlayerName(GetTriggerPlayer())=="WorldEdit")endfunctionfunction Fw takes nothing returns booleanreturn(fw())
endfunctionfunction gw takes nothing returns nothinglocal unit u=GetEnumUnit()if u!=vA and u!=EA thencall SetUnitTimeScalePercent(u,20)endifset u=nullendfunctionfunction Gw takes nothing returns nothingcall CinematicFadeBJ(2,3.,"ReplaceableTextures\\CameraMasks\\DreamFilter_Mask.blp",0,0,0,0)if GetUnitTypeId(vA)=='h06H' thencall SetUnitAnimation(vA,"Spell Channel")else
call SetUnitAnimation(vA,"Stand Victory")endifcall CameraSetupApplyForPlayer(true,tn,GetEnumPlayer(),0)call CameraSetupApplyForPlayer(true,un,GetEnumPlayer(),9.)endfunctionfunction hw takes nothing returns nothingcall CinematicModeBJ(true,bj_FORCE_ALL_PLAYERS)call ShowInterfaceForceOff(bj_FORCE_ALL_PLAYERS,1.)call ForGroupBJ(nN(bj_mapInitialPlayableArea),function gw)call ForForce(dN(Player(8)),function Gw)
call TriggerSleepAction(5.)endfunctionfunction jw takes nothing returns booleanreturn(IsPlayerAlly(GetTriggerPlayer(),Player(8)))endfunctionfunction Jw takes nothing returns nothingif(jw())then
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_4332")call TriggerExecute(SO)else
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_4331")call TriggerExecute(TO)endifendfunctionfunction Kw takes nothing returns nothingcall ExplodeUnitBJ(GetEnumUnit())endfunctionfunction lw takes nothing returns nothingcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_4333")call ForGroupBJ(EV,function Kw)endfunctionfunction mw takes nothing returns booleanreturn(IsUnitInGroup(GetFilterUnit(),EV))endfunctionfunction Mw takes nothing returns nothingcall ExplodeUnitBJ(GetEnumUnit())endfunctionfunction pw takes nothing returns nothingcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_5465")call ForGroupBJ(iN(In,Condition(function mw)),function Mw)endfunctionfunction qw takes nothing returns booleanreturn(IsUnitInGroup(GetFilterUnit(),EV))endfunctionfunction Qw takes nothing returns nothingcall ExplodeUnitBJ(GetEnumUnit())endfunctionfunction sw takes nothing returns nothingcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_5466")call ForGroupBJ(iN(Rn,Condition(function qw)),function Qw)endfunctionfunction tw takes nothing returns booleanreturn(xr)endfunctionfunction Tw takes nothing returns booleanreturn(po)endfunctionfunction uw takes nothing returns booleanreturn(nr)endfunctionfunction Uw takes nothing returns booleanreturn(Lx)endfunctionfunction ww takes nothing returns booleanreturn(lx)endfunctionfunction Ww takes nothing returns nothingcall SelectUnitForPlayerSingle(w[(1+GetPlayerId(GetTriggerPlayer()))],GetTriggerPlayer())call ForceUICancelBJ(GetTriggerPlayer())
call ReplaceUnitBJ(w[(1+GetPlayerId(GetTriggerPlayer()))],'e000',1)call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetTriggerPlayer())if(ww())then
call EnableTrigger(AR)call TriggerExecute(AR)else
if(Uw())then
call EnableTrigger(bR)call TriggerExecute(bR)else
if(uw())then
else
if(Tw())then
call EnableTrigger(NR)call TriggerExecute(NR)else
if(tw())then
endifendifendifendifendifcall PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(w[(1+GetPlayerId(GetTriggerPlayer()))]),0)call DisplayTimedTextToForce(CN(GetTriggerPlayer()),10.,"TRIGSTR_4334")endfunctionfunction Yw takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_GIANT))!=null)!=nullendfunctionfunction zw takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction Zw takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT))!=null)!=nullendfunctionfunction vW takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction eW takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED))!=null)!=null
endfunctionfunction xW takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction oW takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction rW takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction iW takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction aW takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction nW takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction VW takes nothing returns nothingcall SelectUnitForPlayerSingle(w[(1+GetPlayerId(GetEnumPlayer()))],GetEnumPlayer())call ForceUICancelBJ(GetEnumPlayer())endfunctionfunction EW takes nothing returns nothingcall RemoveUnit(w[(1+GetPlayerId(GetEnumPlayer()))])
endfunctionfunction XW takes nothing returns booleanreturn(IsPlayerInForce(Player(0),Dx))endfunctionfunction OW takes nothing returns booleanreturn(IsPlayerInForce(Player(1),Dx))endfunctionfunction RW takes nothing returns booleanreturn(IsPlayerInForce(Player(2),Dx))endfunctionfunction IW takes nothing returns booleanreturn(IsPlayerInForce(Player(3),Dx))endfunctionfunction AW takes nothing returns booleanreturn(IsPlayerInForce(Player(4),Dx))endfunctionfunction NW takes nothing returns booleanreturn(IsPlayerInForce(Player(5),Dx))endfunctionfunction bW takes nothing returns booleanreturn(IsPlayerInForce(Player(6),Dx))endfunctionfunction BW takes nothing returns booleanreturn(IsPlayerInForce(Player(7),Dx))endfunctionfunction cW takes nothing returns nothingset ox[(1+GetPlayerId(GetEnumPlayer()))]=0call CreateNUnitsAtLoc(1,'e000',GetEnumPlayer(),GetPlayerStartLocationLoc(GetEnumPlayer()),bj_UNIT_FACING)call SelectUnitForPlayerSingle(bj_lastCreatedUnit,GetEnumPlayer())if(Lx)thencall EnableTrigger(bR)call TriggerExecute(bR)else
if(po)thencall EnableTrigger(NR)call TriggerExecute(NR)else
call EnableTrigger(AR)call TriggerExecute(AR)endifendifif(br)thencall SetPlayerStateBJ(GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD,270)call SetPlayerStateBJ(GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER,90)else
call SetPlayerStateBJ(GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD,'d')call SetPlayerStateBJ(GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER,30)endifcall PanCameraToTimedLocForPlayer(GetEnumPlayer(),GetPlayerStartLocationLoc(GetEnumPlayer()),0)endfunctionfunction CW takes nothing returns nothingcall ForGroupBJ(iN(bj_mapInitialPlayableArea,Condition(function Yw)),function zw)call ForGroupBJ(iN(bj_mapInitialPlayableArea,Condition(function Zw)),function vW)call ForGroupBJ(iN(bj_mapInitialPlayableArea,Condition(function eW)),function xW)call ForGroupBJ(BN(Player($D)),function oW)call ForGroupBJ(BN(Player($E)),function rW)call ForGroupBJ(AN('ewsp'),function iW)call ForGroupBJ(ha,function aW)call ForGroupBJ(Ha,function nW)call GroupClear(Ha)call GroupClear(ha)call ForForce(Dx,function VW)call ForForce(Dx,function EW)if(XW())then
set Ev=GetUnitLoc(GroupPickRandomUnit(cN(Player(0),'h023')))
set Ev=OffsetLocation(Ev,0,256.)
call CreateNUnitsAtLoc(1,'ewsp',Player(0),Ev,90.)call IssueTargetOrderById(bj_lastCreatedUnit,$D0032,hA)endifif(OW())then
set Ev=GetUnitLoc(GroupPickRandomUnit(cN(Player(1),'h023')))
set Ev=OffsetLocation(Ev,0,256.)
call CreateNUnitsAtLoc(1,'ewsp',Player(1),Ev,90.)call IssueTargetOrderById(bj_lastCreatedUnit,$D0032,kA)endifif(RW())then
set Ev=GetUnitLoc(GroupPickRandomUnit(cN(Player(2),'h023')))
set Ev=OffsetLocation(Ev,0,256.)
call CreateNUnitsAtLoc(1,'ewsp',Player(2),Ev,90.)call IssueTargetOrderById(bj_lastCreatedUnit,$D0032,jA)endifif(IW())then
set Ev=GetUnitLoc(GroupPickRandomUnit(cN(Player(3),'h023')))
set Ev=OffsetLocation(Ev,0,256.)
call CreateNUnitsAtLoc(1,'ewsp',Player(3),Ev,90.)call IssueTargetOrderById(bj_lastCreatedUnit,$D0032,sA)endifif(AW())then
set Ev=GetUnitLoc(GroupPickRandomUnit(cN(Player(4),'h023')))
set Ev=OffsetLocation(Ev,0,256.)
call CreateNUnitsAtLoc(1,'ewsp',Player(4),Ev,90.)call IssueTargetOrderById(bj_lastCreatedUnit,$D0032,LA)endifif(NW())then
set Ev=GetUnitLoc(GroupPickRandomUnit(cN(Player(5),'h023')))
set Ev=OffsetLocation(Ev,0,256.)
call CreateNUnitsAtLoc(1,'ewsp',Player(5),Ev,90.)call IssueTargetOrderById(bj_lastCreatedUnit,$D0032,pA)endifif(bW())then
set Ev=GetUnitLoc(GroupPickRandomUnit(cN(Player(6),'h023')))
set Ev=OffsetLocation(Ev,0,256.)
call CreateNUnitsAtLoc(1,'ewsp',Player(6),Ev,90.)call IssueTargetOrderById(bj_lastCreatedUnit,$D0032,MA)endifif(BW())then
set Ev=GetUnitLoc(GroupPickRandomUnit(cN(Player(7),'h023')))
set Ev=OffsetLocation(Ev,0,256.)
call CreateNUnitsAtLoc(1,'ewsp',Player(7),Ev,90.)call IssueTargetOrderById(bj_lastCreatedUnit,$D0032,qA)endifset bj_forLoopAIndex=1set bj_forLoopAIndexEnd=8loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndset ro[bj_forLoopAIndex]=1set bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall ForForce(Dx,function cW)call SetUnitLifePercentBJ(vA,'d')call SetUnitLifePercentBJ(EA,'d')call SetUnitManaPercentBJ(vA,'d')call SetUnitManaPercentBJ(EA,'d')set bj_forLoopAIndex=1set bj_forLoopAIndexEnd=feloop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEndcall UnitRemoveAbility(vA,Fe[bj_forLoopAIndex])call UnitRemoveAbility(EA,Fe[bj_forLoopAIndex])set bj_forLoopAIndex=bj_forLoopAIndex+1endloopset rv=0
call StartTimerBJ(nv,false,90.)call TimerDialogSetTitle(fv,("Level "+(I2S((rv+1))+" in")))call TimerDialogSetTimeColor(fv,$FA,$D2,20,$FF)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_4866")endfunctionfunction DW takes nothing returns booleanreturn(GetEventPlayerChatString()=="-heal")endfunctionfunction fW takes nothing returns booleanreturn(GetEventPlayerChatString()=="-heale")
endfunctionfunction FW takes nothing returns booleanreturn(GetEventPlayerChatString()=="-healw")
endfunctionfunction gW takes nothing returns nothingif(DW())then
call SetUnitLifePercentBJ(vA,'d')call SetUnitLifePercentBJ(EA,'d')call SetUnitManaPercentBJ(vA,'d')call SetUnitManaPercentBJ(EA,'d')call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_5409")endifif(fW())then
call SetUnitLifePercentBJ(EA,'d')call SetUnitManaPercentBJ(EA,'d')call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_5410")endifif(FW())then
call SetUnitLifePercentBJ(vA,'d')call SetUnitManaPercentBJ(vA,'d')call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_5411")endifendfunctionfunction hW takes nothing returns nothingcall PauseTimerBJ(true,nv)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_5419")endfunctionfunction jW takes nothing returns nothingcall PauseTimerBJ(false,nv)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_5420")endfunctionfunction kW takes nothing returns booleanreturn(UnitHasItemOfTypeBJ(EA,'I001')==false)endfunctionfunction KW takes nothing returns booleanreturn(GetEventPlayerChatString()=="-ike")endfunctionfunction lW takes nothing returns booleanreturn(UnitHasItemOfTypeBJ(vA,'I001')==false)endfunctionfunction LW takes nothing returns booleanreturn(GetEventPlayerChatString()=="-ikw")endfunctionfunction mW takes nothing returns nothingif(KW())then
if(kW())then
call UnitAddItemByIdSwapped('I001',EA)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_5408")else
call RemoveItem(GetItemOfTypeFromUnitBJ(EA,'I001'))call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_5407")endifendifif(LW())then
if(lW())then
call UnitAddItemByIdSwapped('I001',vA)call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_5405")else
call RemoveItem(GetItemOfTypeFromUnitBJ(vA,'I001'))call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"TRIGSTR_5406")endifendifendfunctionfunction InitCustomTeams takes nothing returns nothingcall SetPlayerTeam(Player(0),0)call SetPlayerTeam(Player(1),0)call SetPlayerTeam(Player(2),0)call SetPlayerTeam(Player(3),0)call SetPlayerTeam(Player(8),0)call SetPlayerAllianceStateAllyBJ(Player(0),Player(1),true)call SetPlayerAllianceStateAllyBJ(Player(0),Player(2),true)call SetPlayerAllianceStateAllyBJ(Player(0),Player(3),true)call SetPlayerAllianceStateAllyBJ(Player(0),Player(8),true)call SetPlayerAllianceStateAllyBJ(Player(1),Player(0),true)call SetPlayerAllianceStateAllyBJ(Player(1),Player(2),true)call SetPlayerAllianceStateAllyBJ(Player(1),Player(3),true)call SetPlayerAllianceStateAllyBJ(Player(1),Player(8),true)call SetPlayerAllianceStateAllyBJ(Player(2),Player(0),true)call SetPlayerAllianceStateAllyBJ(Player(2),Player(1),true)call SetPlayerAllianceStateAllyBJ(Player(2),Player(3),true)call SetPlayerAllianceStateAllyBJ(Player(2),Player(8),true)call SetPlayerAllianceStateAllyBJ(Player(3),Player(0),true)call SetPlayerAllianceStateAllyBJ(Player(3),Player(1),true)call SetPlayerAllianceStateAllyBJ(Player(3),Player(2),true)call SetPlayerAllianceStateAllyBJ(Player(3),Player(8),true)call SetPlayerAllianceStateAllyBJ(Player(8),Player(0),true)call SetPlayerAllianceStateAllyBJ(Player(8),Player(1),true)call SetPlayerAllianceStateAllyBJ(Player(8),Player(2),true)call SetPlayerAllianceStateAllyBJ(Player(8),Player(3),true)call SetPlayerTeam(Player(4),1)call SetPlayerTeam(Player(5),1)call SetPlayerTeam(Player(6),1)call SetPlayerTeam(Player(7),1)call SetPlayerTeam(Player(9),1)call SetPlayerAllianceStateAllyBJ(Player(4),Player(5),true)call SetPlayerAllianceStateAllyBJ(Player(4),Player(6),true)call SetPlayerAllianceStateAllyBJ(Player(4),Player(7),true)call SetPlayerAllianceStateAllyBJ(Player(4),Player(9),true)call SetPlayerAllianceStateAllyBJ(Player(5),Player(4),true)call SetPlayerAllianceStateAllyBJ(Player(5),Player(6),true)call SetPlayerAllianceStateAllyBJ(Player(5),Player(7),true)call SetPlayerAllianceStateAllyBJ(Player(5),Player(9),true)call SetPlayerAllianceStateAllyBJ(Player(6),Player(4),true)call SetPlayerAllianceStateAllyBJ(Player(6),Player(5),true)call SetPlayerAllianceStateAllyBJ(Player(6),Player(7),true)call SetPlayerAllianceStateAllyBJ(Player(6),Player(9),true)call SetPlayerAllianceStateAllyBJ(Player(7),Player(4),true)call SetPlayerAllianceStateAllyBJ(Player(7),Player(5),true)call SetPlayerAllianceStateAllyBJ(Player(7),Player(6),true)call SetPlayerAllianceStateAllyBJ(Player(7),Player(9),true)call SetPlayerAllianceStateAllyBJ(Player(9),Player(4),true)call SetPlayerAllianceStateAllyBJ(Player(9),Player(5),true)call SetPlayerAllianceStateAllyBJ(Player(9),Player(6),true)call SetPlayerAllianceStateAllyBJ(Player(9),Player(7),true)endfunctionfunction main takes nothing returns nothinglocal weathereffect welocal destructable d
local trigger tlocal real lifelocal integer ilocal integer mN
local integer MN
local version vlocal integer GN
local region rset ki=GetLocalPlayer()call SetPlayerName(Player(8),"TRIGSTR_4227")
call SetPlayerName(Player(9),"TRIGSTR_4228")
call SetPlayerName(Player($A),("|cff78a46b"+(GetPlayerName(Player($A))+"|r")))call SetPlayerName(Player($B),("|cffac9d47"+(GetPlayerName(Player($B))+"|r")))call SetPlayerColor(Player($D),PLAYER_COLOR_AQUA)call SetPlayerColor(Player($E),PLAYER_COLOR_AQUA)call SetPlayerState(Player($D),PLAYER_STATE_GIVES_BOUNTY,0)call SetPlayerState(Player($E),PLAYER_STATE_GIVES_BOUNTY,0)call SetAllyColorFilterState(0)call SetCreepCampFilterState(false)call EnableMinimapFilterButtons(true,false)call SetCameraBounds(-6784.+GetCameraMargin(CAMERA_MARGIN_LEFT),-4608.+GetCameraMargin(CAMERA_MARGIN_BOTTOM),6784.-GetCameraMargin(CAMERA_MARGIN_RIGHT),8960.-GetCameraMargin(CAMERA_MARGIN_TOP),-6784.+GetCameraMargin(CAMERA_MARGIN_LEFT),8960.-GetCameraMargin(CAMERA_MARGIN_TOP),6784.-GetCameraMargin(CAMERA_MARGIN_RIGHT),-4608.+GetCameraMargin(CAMERA_MARGIN_BOTTOM))call SetDayNightModels("Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl","Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl")call NewSoundEnvironment("Default")call SetAmbientDaySound("CityScapeDay")call SetAmbientNightSound("CityScapeNight")call SetMapMusic("Music",true,0)
set wn=CreateSound("Sound\\Interface\\ClanInvitation.wav",false,false,false,$A,$A,"")call SetSoundParamsFromLabel(wn,"ClanInvitation")call SetSoundDuration(wn,4296)set Wn=CreateSound("Sound\\Interface\\GoodJob.wav",false,false,false,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(Wn,"GoodJob")call SetSoundDuration(Wn,$9F4)set Yn=CreateSound("Sound\\Interface\\QuestNew.wav",false,false,false,$A,$A,"")call SetSoundParamsFromLabel(Yn,"QuestNew")call SetSoundDuration(Yn,$EA6)set zn=CreateSound("Sound\\Interface\\QuestNew.wav",false,false,false,$A,$A,"")call SetSoundParamsFromLabel(zn,"QuestNew")call SetSoundDuration(zn,$EA6)set Zn=CreateSound("Abilities\\Spells\\Items\\ResourceItems\\ReceiveGold.wav",false,true,true,$A,$A,"SpellsEAX")
call SetSoundParamsFromLabel(Zn,"ReceiveGold")call SetSoundDuration(Zn,589)set vV=CreateSound("Sound\\Interface\\UpkeepRing.wav",false,true,false,$A,$A,"DefaultEAXON")
call SetSoundParamsFromLabel(vV,"UpkeepLevel")call SetSoundDuration(vV,$62B)call SetSoundChannel(vV,0)call SetSoundDistances(vV,.0,3000.)call SetSoundDistanceCutoff(vV,3000.)set eV=CreateSound("Sound\\Interface\\Warning.wav",false,false,false,$A,$A,"")call SetSoundParamsFromLabel(eV,"Warning")call SetSoundDuration(eV,$770)set rV=CreateSound("Sound\\Interface\\NewTournament.wav",false,false,false,$A,$A,"")
call SetSoundParamsFromLabel(rV,"NewTournament")
call SetSoundDuration(rV,7988)set Vx[0]=-4864set Vx[1]=4576set Vx[2]=-4864set Vx[3]=992set Vx[4]=-$B00set Vx[5]=4576set Vx[6]=-$B00set Vx[7]=992set Vx[8]=$880set Vx[9]=4576set Vx[$A]=$880set Vx[$B]=992set Vx[$C]=4224set Vx[$D]=4576set Vx[$E]=4224set Vx[$F]=992set i=0loop
set gx[i]=nullset Gx[i]=1650.set i=i+1exitwhen i>47endloopset cO=Rect(-5952.,5920.,-5440.,6208.)set lO=Rect(-5952.,-640.,-5440.,-352.)set CO=Rect(-1568.,5920.,-1088.,6208.)set BO=Rect(-1668.,-640.,-1088.,-352.)set qO=Rect(1120.,5920.,1600.,6208.)
set UO=Rect(1120.,-640.,1600.,-352.)
set zO=Rect(5440.,5920.,5952.,6208.)
set xR=Rect(5440.,-640.,5952.,-352.)
set ia=Rect(-4192.,-3968.,-2848.,-2624.)
set Va=Rect(-6336.,64.,-4000.,2816.)
set Ea=Rect(-3136.,2816.,-704.,5568.)set Xa=Rect(-3136.,64.,-704.,2848.)set Oa=Rect(-960.,-2304.,-384.,-1920.)set Ra=Rect(2912.,-2528.,4096.,3232.)set Ia=Rect(2848.,-3968.,4192.,-2592.)set ca=Rect(704.,2784.,3104.,5568.)set Ca=Rect(704.,64.,3104.,2816.)set da=Rect(3936.,2816.,6336.,5568.)
set Da=Rect(3936.,64.,6336.,2848.)set fa=Rect(-6336.,2624.,-5056.,2944.)set Fa=Rect(-1984.,2688.,-704.,2976.)set ga=Rect(704.,2624.,2016.,2944.)set Ga=Rect(5024.,2656.,6336.,2976.)
set rR=Rect(-1856.,-4320.,-928.,-2464.)set iR=Rect(960.,-4320.,1888.,-2496.)set ja=Rect(-1632.,-4032.,-1184.,-2784.)
set Ja=Rect(1184.,-4032.,1632.,-2784.)set ka=Rect(-4032.,-2496.,-3008.,-1984.)
set Ka=Rect(3008.,-2496.,4032.,-1984.)set la=Rect(-6336.,64.,-3936.,3296.)
set La=Rect(-6336.,2304.,-3968.,5568.)set ma=Rect(-3136.,2336.,-704.,5568.)set Ma=Rect(-3104.,64.,-704.,3296.)set pa=Rect(704.,2336.,3104.,5568.)set Pa=Rect(704.,64.,3104.,3296.)set qa=Rect(3968.,2336.,6336.,5568.)
set Qa=Rect(3968.,64.,6336.,3296.)set sa=Rect(3072.,1056.,3936.,3392.)
set Sa=Rect(-6368.,5696.,-5056.,6624.)set ta=Rect(-6336.,-992.,-5056.,-96.)set Ta=Rect(-2080.,5696.,-640.,6624.)set ua=Rect(-1984.,-992.,-672.,-96.)
set Ua=Rect(704.,5696.,2016.,6624.)set wa=Rect(704.,-992.,2016.,-96.)set Wa=Rect(5056.,5696.,6336.,6624.)
set ya=Rect(5056.,-992.,6336.,-96.)set Ya=Rect(480.,-2336.,1056.,-1920.)set za=Rect(-3968.,64.,-3072.,3424.)
set Za=Rect(3072.,64.,3968.,3424.)set vn=Rect(-4192.,1952.,-2816.,3456.)set en=Rect(2816.,1952.,4192.,3456.)
set xn=Rect(-4480.,-2880.,-2560.,-1632.)
set on=Rect(2496.,-2880.,4416.,-1632.)set rn=Rect(-5024.,3424.,-3968.,5472.)set in=Rect(-3008.,3424.,-2016.,5504.)set an=Rect(-5024.,-160.,-4032.,2208.)set nn=Rect(-3008.,-160.,-1984.,2208.)set Vn=Rect(2016.,3424.,3104.,5504.)
set En=Rect(3936.,3424.,5024.,5504.)
set Xn=Rect(2016.,-160.,3008.,2240.)
set On=Rect(4064.,-160.,5024.,2208.)
set Rn=Rect(-6752.,-4672.,-640.,7040.)set In=Rect(640.,-4672.,6752.,7040.)
set An=Rect(-5760.,2208.,-1312.,3424.)set Nn=Rect(1280.,2208.,5728.,3424.)
set bn=Rect(-3968.,1088.,-3104.,3424.)set Bn=Rect(-4032.,864.,-3104.,1696.)set cn=Rect(3040.,832.,3968.,1664.)set Cn=Rect(-32.,-544.,32.,-480.)set dn=Rect(-4032.,-1536.,-3008.,3392.)set Dn=Rect(2976.,-1536.,4064.,3392.)set fn=Rect(-3616.,2240.,-3456.,3360.)set Fn=Rect(3424.,2240.,3584.,3360.)
set gn=Rect(-3712.,-2336.,-3360.,-2176.)
set Gn=Rect(3296.,-2336.,3680.,-2176.)set hn=Rect(-640.,-4672.,640.,7040.)
set Hn=Rect(-480.,3584.,512.,4448.)set jn=Rect(-480.,928.,512.,1728.)set kn=Rect(-448.,4928.,-320.,5056.)
set Kn=Rect(-192.,4928.,-64.,5056.)set ln=Rect(64.,4928.,192.,5056.)set Ln=Rect(320.,4928.,448.,5056.)set mn=Rect(-448.,224.,-320.,352.)set Mn=Rect(-192.,224.,-64.,352.)set pn=Rect(64.,224.,192.,352.)set Pn=Rect(320.,224.,448.,352.)
set qn=Rect(-192.,512.,160.,736.)set Qn=Rect(-224.,4672.,160.,4864.)set sn=Rect(-6336.,2784.,-3968.,5568.)set Ki=Rect(-480.,3584.,512.,4016.)set li=Rect(-480.,4016.,512.,4448.)set mi=Rect(-480.,1328.,512.,1728.)set Pi=Rect(-480.,928.,512.,1328.)set si=Rect(-4256.,-4000.,-2784.,-2624.)
set ui=Rect(2784.,-4000.,4256.,-2624.)set oa=CreateRegion()call RegionAddRect(oa,si)call RegionAddRect(oa,ui)set Sn=CreateCameraSetup()call CameraSetupSetField(Sn,CAMERA_FIELD_ZOFFSET,.0,.0)call CameraSetupSetField(Sn,CAMERA_FIELD_ROTATION,90.8,.0)call CameraSetupSetField(Sn,CAMERA_FIELD_ANGLE_OF_ATTACK,353.7,.0)call CameraSetupSetField(Sn,CAMERA_FIELD_TARGET_DISTANCE,1127.,.0)call CameraSetupSetField(Sn,CAMERA_FIELD_ROLL,.0,.0)
call CameraSetupSetField(Sn,CAMERA_FIELD_FIELD_OF_VIEW,70.,.0)call CameraSetupSetField(Sn,CAMERA_FIELD_FARZ,5000.,.0)call CameraSetupSetDestPosition(Sn,-4113.9,4253.3,.0)set tn=CreateCameraSetup()call CameraSetupSetField(tn,CAMERA_FIELD_ZOFFSET,50.,.0)
call CameraSetupSetField(tn,CAMERA_FIELD_ROTATION,60.,.0)call CameraSetupSetField(tn,CAMERA_FIELD_ANGLE_OF_ATTACK,345.,.0)call CameraSetupSetField(tn,CAMERA_FIELD_TARGET_DISTANCE,1500.,.0)call CameraSetupSetField(tn,CAMERA_FIELD_ROLL,.0,.0)
call CameraSetupSetField(tn,CAMERA_FIELD_FIELD_OF_VIEW,70.,.0)call CameraSetupSetField(tn,CAMERA_FIELD_FARZ,5000.,.0)call CameraSetupSetDestPosition(tn,-3603.8,-2937.7,.0)set Tn=CreateCameraSetup()call CameraSetupSetField(Tn,CAMERA_FIELD_ZOFFSET,50.,.0)
call CameraSetupSetField(Tn,CAMERA_FIELD_ROTATION,60.,.0)call CameraSetupSetField(Tn,CAMERA_FIELD_ANGLE_OF_ATTACK,345.,.0)call CameraSetupSetField(Tn,CAMERA_FIELD_TARGET_DISTANCE,1500.,.0)call CameraSetupSetField(Tn,CAMERA_FIELD_ROLL,.0,.0)
call CameraSetupSetField(Tn,CAMERA_FIELD_FIELD_OF_VIEW,70.,.0)call CameraSetupSetField(Tn,CAMERA_FIELD_FARZ,5000.,.0)call CameraSetupSetDestPosition(Tn,3445.7,-2946.5,.0)set un=CreateCameraSetup()call CameraSetupSetField(un,CAMERA_FIELD_ZOFFSET,50.,.0)
call CameraSetupSetField(un,CAMERA_FIELD_ROTATION,150.,.0)call CameraSetupSetField(un,CAMERA_FIELD_ANGLE_OF_ATTACK,345.,.0)call CameraSetupSetField(un,CAMERA_FIELD_TARGET_DISTANCE,1500.,.0)call CameraSetupSetField(un,CAMERA_FIELD_ROLL,.0,.0)
call CameraSetupSetField(un,CAMERA_FIELD_FIELD_OF_VIEW,70.,.0)call CameraSetupSetField(un,CAMERA_FIELD_FARZ,5000.,.0)call CameraSetupSetDestPosition(un,-3603.8,-2937.7,.0)set Un=CreateCameraSetup()call CameraSetupSetField(Un,CAMERA_FIELD_ZOFFSET,50.,.0)
call CameraSetupSetField(Un,CAMERA_FIELD_ROTATION,150.,.0)call CameraSetupSetField(Un,CAMERA_FIELD_ANGLE_OF_ATTACK,345.,.0)call CameraSetupSetField(Un,CAMERA_FIELD_TARGET_DISTANCE,1500.,.0)call CameraSetupSetField(Un,CAMERA_FIELD_ROLL,.0,.0)
call CameraSetupSetField(Un,CAMERA_FIELD_FIELD_OF_VIEW,70.,.0)call CameraSetupSetField(Un,CAMERA_FIELD_FARZ,5000.,.0)call CameraSetupSetDestPosition(Un,3445.7,-2946.5,.0)set GA=CreateDestructable('LTlt',4544.,5568.,270.,.873,5)set hA=CreateDestructable('LTlt',-4672.,5504.,270.,.806,5)set HA=CreateDestructable('LTlt',-4544.,5504.,270.,.873,5)set jA=CreateDestructable('LTlt',-2624.,5504.,270.,.806,5)set JA=CreateDestructable('LTlt',-2496.,5504.,270.,.873,5)set kA=CreateDestructable('LTlt',-4672.,1920.,270.,.806,5)set KA=CreateDestructable('LTlt',-2496.,1920.,270.,.873,5)set lA=CreateDestructable('LTlt',-4544.,1920.,270.,.873,5)set LA=CreateDestructable('LTlt',2368.,5568.,270.,.806,5)set mA=CreateDestructable('LTlt',2496.,5568.,270.,.873,5)set MA=CreateDestructable('LTlt',4416.,5568.,270.,.806,5)set pA=CreateDestructable('LTlt',2368.,1920.,270.,.806,5)set PA=CreateDestructable('LTlt',2496.,1920.,270.,.873,5)set qA=CreateDestructable('LTlt',4416.,1920.,270.,.806,5)set QA=CreateDestructable('LTlt',4544.,1920.,270.,.873,5)set sA=CreateDestructable('LTlt',-2624.,1920.,270.,.806,5)set i=0loop
set so[i]=falseset Ar[i]=falseset Yr[i]=0set K[i]=falseset i=i+1exitwhen i>$Fendloopset JR=CreateTrigger()call TriggerRegisterEnterRectSimple(JR,Sa)call TriggerRegisterEnterRectSimple(JR,ta)call TriggerRegisterEnterRectSimple(JR,Ta)call TriggerRegisterEnterRectSimple(JR,ua)call TriggerRegisterEnterRectSimple(JR,Ua)call TriggerRegisterEnterRectSimple(JR,wa)call TriggerRegisterEnterRectSimple(JR,Wa)call TriggerRegisterEnterRectSimple(JR,ya)call TriggerAddCondition(JR,Condition(function ym))call TriggerAddAction(JR,function EM)call DisableTrigger(JR)call kb()call rb()set gA=CreateUnit(Player($C),'h0D7',.0,-1663.6,270.)
call SetUnitColor(gA,ConvertPlayerColor($C))
call ob()call ib()set WA=Filter(function lN)set filterIssueHauntOrderAtLocBJ=Filter(function IssueHauntOrderAtLocBJFilter)set filterEnumDestructablesInCircleBJ=Filter(function rN)set filterGetUnitsInRectOfPlayer=Filter(function GetUnitsInRectOfPlayerFilter)set filterGetUnitsOfTypeIdAll=Filter(function GetUnitsOfTypeIdAllFilter)
set filterGetUnitsOfPlayerAndTypeId=Filter(function GetUnitsOfPlayerAndTypeIdFilter)
set filterMeleeTrainedUnitIsHeroBJ=Filter(function MeleeTrainedUnitIsHeroBJFilter)set filterLivingPlayerUnitsOfTypeId=Filter(function LivingPlayerUnitsOfTypeIdFilter)
set mN=0
loop
exitwhen mN>$Fset BX[mN]=nullset bj_FORCE_PLAYER[mN]=CreateForce()call ForceAddPlayer(bj_FORCE_PLAYER[mN],Player(mN))set mN=mN+1endloopset bj_FORCE_ALL_PLAYERS=CreateForce()call ForceEnumPlayers(bj_FORCE_ALL_PLAYERS,null)
set bj_cineModePriorSpeed=GetGameSpeed()
set bj_cineModePriorFogSetting=IsFogEnabled()set bj_cineModePriorMaskSetting=IsFogMaskEnabled()set mN=0
loop
exitwhen mN>=bj_MAX_QUEUED_TRIGGERSset bj_queuedExecTriggers[mN]=nullset bj_queuedExecUseConds[mN]=falseset mN=mN+1endloopset bj_isSinglePlayer=falseset MN=0
set mN=0
loop
exitwhen mN>=$Cif(GetPlayerController(Player(mN))==MAP_CONTROL_USER and GetPlayerSlotState(Player(mN))==PLAYER_SLOT_STATE_PLAYING)thenset MN=MN+1endifset mN=mN+1endloopset bj_isSinglePlayer=(MN==1)set bj_rescueSound=CreateSoundFromLabel("Rescue",false,false,false,$2710,$2710)set bj_questDiscoveredSound=CreateSoundFromLabel("QuestNew",false,false,false,$2710,$2710)set bj_questUpdatedSound=CreateSoundFromLabel("QuestUpdate",false,false,false,$2710,$2710)set bj_questCompletedSound=CreateSoundFromLabel("QuestCompleted",false,false,false,$2710,$2710)set bj_questFailedSound=CreateSoundFromLabel("QuestFailed",false,false,false,$2710,$2710)set bj_questHintSound=CreateSoundFromLabel("Hint",false,false,false,$2710,$2710)
set bj_questSecretSound=CreateSoundFromLabel("SecretFound",false,false,false,$2710,$2710)set bj_questItemAcquiredSound=CreateSoundFromLabel("ItemReward",false,false,false,$2710,$2710)set bj_questWarningSound=CreateSoundFromLabel("Warning",false,false,false,$2710,$2710)set bj_victoryDialogSound=CreateSoundFromLabel("QuestCompleted",false,false,false,$2710,$2710)set bj_defeatDialogSound=CreateSoundFromLabel("QuestFailed",false,false,false,$2710,$2710)set v=VersionGet()if(v==VERSION_REIGN_OF_CHAOS)thenset bj_MELEE_MAX_TWINKED_HEROES=bj_MELEE_MAX_TWINKED_HEROES_V0else
set bj_MELEE_MAX_TWINKED_HEROES=bj_MELEE_MAX_TWINKED_HEROES_V1endifcall InitQueuedTriggers()call InitRescuableBehaviorBJ()call InitDNCSounds()
call InitMapRects()call InitSummonableCaps()set GN=0
loop
set bj_stockAllowedPermanent[GN]=falseset bj_stockAllowedCharged[GN]=false
set bj_stockAllowedArtifact[GN]=falseset Mo[GN]=0
set GN=GN+1exitwhen GN>$Aendloopcall SetAllItemTypeSlots($B)
call SetAllUnitTypeSlots($B)
set bj_stockUpdateTimer=CreateTimer()call TimerStart(bj_stockUpdateTimer,bj_STOCK_RESTOCK_INITIAL_DELAY,false,function kN)set bj_stockItemPurchased=CreateTrigger()call TriggerRegisterPlayerUnitEvent(bj_stockItemPurchased,Player($F),EVENT_PLAYER_UNIT_SELL_ITEM,null)call TriggerAddAction(bj_stockItemPurchased,function RemovePurchasedItem)call DetectGameStarted()
call FlushGameCache(InitGameCache("dr.x"))set Zr=InitGameCache("dr.x")
set t=nullset i=0loop
exitwhen(i>1)set W[i]=""set y[i]=""set Y[i]=0set Z[i]=""set Fv[i]=""
set lv[i]=""
set qv[i]=""
set Qv[i]=""
set sv[i]=0set yv[i]=0set Yv[i]=0set zv[i]=0set Le[i]=""
set ox[i]=0set Nx[i]=0set jx[i]=CreateGroup()set xo[i]=0set oo[i]=0set ro[i]=0set io[i]=""
set Eo[i]=""
set Xo[i]=0set Ho[i]=falseset jo[i]=falseset Jo[i]=falseset ko[i]=falseset Ko[i]=falseset Lo[i]=0set mo[i]=0set gX[i]=0set Po[i]=0set qo[i]=0set Qo[i]=0set GX[i]=0set So[i]=falseset To[i]=0set vr[i]=falseset ir[i]=falseset Ir[i]=0set Tr[i]=0set Xi[i]=0set i=i+1endloopset i=0loop
exitwhen(i>8)set ba[i]=0set Fr[i]=falseset Hr[i]='d'set Jr[i]=.0
set Fi[i]=trueset tX[i]=CreateGroup()set eO[i]=CreateGroup()set qi[i]=0set Si[i]=falseset yi[i]=0set Yi[i]=0set zi[i]=""
set xa[i]=0set i=i+1endloopset i=0loop
exitwhen(i>$A)set iv[i]=CreateGroup()set kV[i]=CreateGroup()set ti[i]=0set Ti[i]=0set i=i+1endloopset nv=CreateTimer()
set Nv=CreateGroup()
set ha=CreateGroup()
set Ha=CreateGroup()
set ie=CreateGroup()
set me=CreateMultiboard()set ex=CreateGroup()
set Ex=CreateGroup()
set Cx=CreateForce()
set Dx=CreateForce()
set fx=CreateMultiboard()set EV=CreateGroup()
set i=0loop
exitwhen(i>21)set XV[i]=CreateGroup()set i=i+1endloopset i=0loop
exitwhen(i>$C)set hx[i]=falseset mr[i]=300set i=i+1endloopset Hx=CreateGroup()
set Mx=CreateTimer()
set Yx=CreateGroup()
set vX=CreateGroup()
set AX=CreateGroup()
set Go=CreateGroup()
set ho=CreateGroup()
set ar=CreateTimer()
set Cr=trueset dr=CreateGroup()
set i=0loop
exitwhen(i>40)set fr[i]=""
set i=i+1endloopset gr=60.set i=0loop
exitwhen(i>16)set Mr[i]=0set i=i+1endloopset tr=CreateGroup()
set qX=CreateGroup()
set QX=CreateGroup()
set oi=CreateGroup()
set ri=CreateGroup()
set Ei=CreateGroup()
set Ri=DialogCreate()set Ai=DialogCreate()set Di=CreateTimer()
set Hi=CreateTimer()
set nO=CreateGroup()
set AO=CreateGroup()
set Mi=CreateGroup()
set pi=CreateTrigger()set Ui=CreateTimer()
set va=CreateTimer()
set aV=CreateTrigger()call TriggerAddAction(aV,function jb)set OV=CreateTrigger()call TriggerAddAction(OV,function wb)set RV=CreateTrigger()call TriggerAddAction(RV,function yb)set IV=CreateTrigger()call TriggerAddAction(IV,function Zb)set AV=CreateTrigger()call TriggerAddAction(AV,function oB)set NV=CreateTrigger()call TriggerAddAction(NV,function nB)set bV=CreateTrigger()call TriggerAddAction(bV,function EB)set BV=CreateTrigger()call TriggerAddAction(BV,function OB)set cV=CreateTrigger()call TriggerAddAction(cV,function IB)set CV=CreateTrigger()call TriggerAddAction(CV,function jB)set dV=CreateTrigger()call TriggerAddAction(dV,function KB)set DV=CreateTrigger()call TriggerAddAction(DV,function LB)set fV=CreateTrigger()call TriggerAddAction(fV,function MB)set FV=CreateTrigger()call TriggerAddAction(FV,function PB)set gV=CreateTrigger()call TriggerAddAction(gV,function sB)set GV=CreateTrigger()call TriggerAddAction(GV,function UB)set HV=CreateTrigger()call TriggerAddAction(HV,function ZB)set LV=CreateTrigger()call TriggerAddAction(LV,function Kc)set mV=CreateTrigger()call TriggerAddAction(mV,function Pc)set MV=CreateTrigger()call TriggerAddAction(MV,function Tc)set pV=CreateTrigger()call TriggerAddAction(pV,function zc)set PV=CreateTrigger()call TriggerAddAction(PV,function iC)set qV=CreateTrigger()call TriggerAddAction(qV,function GC)set QV=CreateTrigger()call TriggerAddAction(QV,function HC)set sV=CreateTrigger()call TriggerAddAction(sV,function LC)set na=CreateGroup()
set iI=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(iI,EVENT_PLAYER_UNIT_DEATH)call TriggerAddAction(iI,function qc)set Aa=CreateGroup()
set Na=CreateTrigger()call TriggerRegisterPlayerUnitEvent(Na,Player($D),EVENT_PLAYER_UNIT_ISSUED_ORDER,null)call TriggerRegisterPlayerUnitEvent(Na,Player($D),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,null)call TriggerRegisterPlayerUnitEvent(Na,Player($D),EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,null)
call TriggerRegisterPlayerUnitEvent(Na,Player($E),EVENT_PLAYER_UNIT_ISSUED_ORDER,null)call TriggerRegisterPlayerUnitEvent(Na,Player($E),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,null)call TriggerRegisterPlayerUnitEvent(Na,Player($E),EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,null)
call TriggerAddCondition(Na,Condition(function MC))call TriggerAddAction(Na,function PC)set tV=CreateTrigger()call TriggerRegisterTimerExpireEvent(tV,nv)call TriggerAddCondition(tV,Condition(function qC))call TriggerAddAction(tV,function QC)set TV=CreateTrigger()call TriggerAddAction(TV,function Nd)set uV=CreateTrigger()call TriggerAddAction(uV,function Bd)set UV=CreateTrigger()call TriggerAddAction(UV,function Fd)set wV=CreateTrigger()call TriggerAddAction(wV,function jd)set WV=CreateTrigger()call TriggerAddAction(WV,function Md)set yV=CreateTrigger()call TriggerAddAction(yV,function Qd)set YV=CreateTrigger()call TriggerAddAction(YV,function Td)set zV=CreateTrigger()call TriggerAddAction(zV,function wd)set ZV=CreateTrigger()call TriggerAddAction(ZV,function OD)set vE=CreateTrigger()call DisableTrigger(vE)call TriggerRegisterTimerExpireEvent(vE,nv)call TriggerAddCondition(vE,Condition(function ID))call TriggerAddAction(vE,function ND)set eE=CreateTrigger()call DisableTrigger(eE)call TriggerAddAction(eE,function DD)set xE=CreateTrigger()call TriggerAddAction(xE,function KD)set oE=CreateTrigger()call TriggerAddAction(oE,function MD)set rE=CreateTrigger()call TriggerRegisterTimerExpireEvent(rE,nv)call TriggerAddCondition(rE,Condition(function PD))call TriggerAddAction(rE,function QD)set iE=CreateTrigger()call TriggerAddAction(iE,function UD)set aE=CreateTrigger()call TriggerAddAction(aE,function ef)set nE=CreateTrigger()call TriggerAddAction(nE,function af)set VE=CreateTrigger()call TriggerAddCondition(VE,Condition(function Vf))call TriggerAddAction(VE,function Of)set EE=CreateTrigger()call TriggerAddAction(EE,function Hf)set OE=CreateTrigger()call TriggerAddAction(OE,function sf)set IE=CreateTrigger()call TriggerRegisterEnterRectSimple(IE,Qn)call TriggerAddCondition(IE,Condition(function Wf))call TriggerAddAction(IE,function yf)set AE=CreateTrigger()call TriggerRegisterEnterRectSimple(AE,qn)call TriggerAddCondition(AE,Condition(function zf))call TriggerAddAction(AE,function Zf)set r=CreateRegion()
set NE=CreateTrigger()call RegionAddRect(r,hn)
call TriggerRegisterEnterRegion(NE,r,null)call TriggerAddCondition(NE,Condition(function xF))call TriggerAddAction(NE,function oF)set r=nullset bE=CreateTrigger()call TriggerAddAction(bE,function aF)set BE=CreateTrigger()call TriggerAddAction(BE,function EF)set cE=CreateTrigger()call TriggerAddCondition(cE,Condition(function OF))call TriggerAddAction(cE,function bF)set CE=CreateTrigger()call TriggerRegisterUnitEvent(CE,vA,EVENT_UNIT_DEATH)call TriggerAddCondition(CE,Condition(function cF))call TriggerAddAction(CE,function fF)set dE=CreateTrigger()call TriggerRegisterUnitEvent(dE,EA,EVENT_UNIT_DEATH)call TriggerAddCondition(dE,Condition(function gF))call TriggerAddAction(dE,function jF)set DE=CreateTrigger()call TriggerRegisterPlayerChatEvent(DE,Player(0),"-scores",true)
call TriggerAddCondition(DE,Condition(function KF))call TriggerAddAction(DE,function QF)set fE=CreateTrigger()call TriggerAddAction(fE,function uF)set GE=CreateTrigger()call TriggerAddCondition(GE,Condition(function og))call TriggerAddAction(GE,function ig)set hE=CreateTrigger()call TriggerAddAction(hE,function Vg)set HE=CreateTrigger()call TriggerAddAction(HE,function Ig)set jE=CreateTrigger()call TriggerAddAction(jE,function Bg)set kE=CreateTrigger()call TriggerAddAction(kE,function gg)set KE=CreateTrigger()call TriggerAddAction(KE,function Kg)set lE=CreateTrigger()call TriggerAddAction(lE,function Pg)set mE=CreateTrigger()call TriggerAddAction(mE,function eG)set ME=CreateTrigger()call DisableTrigger(ME)call TriggerRegisterEnterRectSimple(ME,rR)call TriggerAddCondition(ME,Condition(function oG))call TriggerAddAction(ME,function rG)set pE=CreateTrigger()call DisableTrigger(pE)call TriggerRegisterEnterRectSimple(pE,iR)call TriggerAddCondition(pE,Condition(function aG))call TriggerAddAction(pE,function nG)set QE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(QE,EVENT_PLAYER_UNIT_CONSTRUCT_START)
call TriggerAddCondition(QE,Condition(function bG))call TriggerAddAction(QE,function CG)set PE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(PE,EVENT_PLAYER_UNIT_CONSTRUCT_FINISH)call TriggerAddCondition(PE,Condition(function EG))call TriggerAddAction(PE,function OG)set SE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(SE,EVENT_PLAYER_UNIT_CONSTRUCT_CANCEL)call TriggerAddCondition(SE,Condition(function JG))call TriggerAddAction(SE,function kG)set sE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(sE,EVENT_PLAYER_UNIT_UPGRADE_START)call TriggerRegisterAnyUnitEventBJ(sE,EVENT_PLAYER_UNIT_UPGRADE_CANCEL)call TriggerAddCondition(sE,Condition(function DG))call TriggerAddAction(sE,function HG)set qE=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(qE,EVENT_PLAYER_UNIT_UPGRADE_FINISH)call TriggerAddCondition(qE,Condition(function IG))call TriggerAddAction(qE,function AG)set tE=CreateTrigger()call TriggerRegisterPlayerSelectionEventBJ(tE,Player(0),true)call TriggerRegisterPlayerSelectionEventBJ(tE,Player(1),true)call TriggerRegisterPlayerSelectionEventBJ(tE,Player(2),true)call TriggerRegisterPlayerSelectionEventBJ(tE,Player(3),true)call TriggerRegisterPlayerSelectionEventBJ(tE,Player(4),true)call TriggerRegisterPlayerSelectionEventBJ(tE,Player(5),true)call TriggerRegisterPlayerSelectionEventBJ(tE,Player(6),true)call TriggerRegisterPlayerSelectionEventBJ(tE,Player(7),true)call TriggerAddCondition(tE,Condition(function lG))call TriggerAddAction(tE,function LG)set TE=CreateTrigger()call TriggerRegisterPlayerSelectionEventBJ(TE,Player(0),false)call TriggerRegisterPlayerSelectionEventBJ(TE,Player(1),false)call TriggerRegisterPlayerSelectionEventBJ(TE,Player(2),false)call TriggerRegisterPlayerSelectionEventBJ(TE,Player(3),false)call TriggerRegisterPlayerSelectionEventBJ(TE,Player(4),false)call TriggerRegisterPlayerSelectionEventBJ(TE,Player(5),false)call TriggerRegisterPlayerSelectionEventBJ(TE,Player(6),false)call TriggerRegisterPlayerSelectionEventBJ(TE,Player(7),false)call TriggerAddCondition(TE,Condition(function MG))call TriggerAddAction(TE,function pG)set uE=CreateTrigger()call TriggerRegisterLeaveRectSimple(uE,La)call TriggerAddCondition(uE,Condition(function qG))call TriggerAddAction(uE,function QG)set UE=CreateTrigger()call TriggerRegisterLeaveRectSimple(UE,la)call TriggerAddCondition(UE,Condition(function tG))call TriggerAddAction(UE,function TG)set wE=CreateTrigger()call TriggerRegisterLeaveRectSimple(wE,ma)call TriggerAddCondition(wE,Condition(function UG))call TriggerAddAction(wE,function wG)set WE=CreateTrigger()call TriggerRegisterLeaveRectSimple(WE,Ma)call TriggerAddCondition(WE,Condition(function yG))call TriggerAddAction(WE,function YG)set yE=CreateTrigger()call TriggerRegisterLeaveRectSimple(yE,pa)call TriggerAddCondition(yE,Condition(function ZG))call TriggerAddAction(yE,function vh)set YE=CreateTrigger()call TriggerRegisterLeaveRectSimple(YE,Pa)call TriggerAddCondition(YE,Condition(function xh))call TriggerAddAction(YE,function oh)set zE=CreateTrigger()call TriggerRegisterLeaveRectSimple(zE,qa)call TriggerAddCondition(zE,Condition(function ih))call TriggerAddAction(zE,function ah)set ZE=CreateTrigger()call TriggerRegisterLeaveRectSimple(ZE,Qa)call TriggerAddCondition(ZE,Condition(function Vh))call TriggerAddAction(ZE,function Eh)set eX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(eX,EVENT_PLAYER_UNIT_CONSTRUCT_FINISH)call TriggerAddCondition(eX,Condition(function Ah))call TriggerAddAction(eX,function Nh)set xX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(xX,EVENT_PLAYER_UNIT_UPGRADE_START)call TriggerAddCondition(xX,Condition(function Bh))call TriggerAddAction(xX,function ch)set oX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(oX,EVENT_PLAYER_UNIT_UPGRADE_FINISH)call TriggerAddCondition(oX,Condition(function dh))call TriggerAddAction(oX,function fh)set iX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(iX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(iX,Condition(function LH))call TriggerAddAction(iX,function tH)set aX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(aX,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(aX,Condition(function uH))call TriggerAddAction(aX,function UH)set nX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(nX,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(nX,Condition(function yH))call TriggerAddAction(nX,function zH)set VX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(VX,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(VX,Condition(function gc))call TriggerAddAction(VX,function hc)set VX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(VX,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(VX,Condition(function vj))call TriggerAddAction(VX,function rj)set IX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(IX,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(IX,Condition(function Wj))call TriggerAddAction(IX,function Yj)set bX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(bX,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(bX,Condition(function iJ))call TriggerAddAction(bX,function nJ)set cX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(cX,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(cX,Condition(function RJ))call TriggerAddAction(cX,function NJ)set CX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(CX,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(CX,Condition(function BJ))call TriggerAddAction(CX,function CJ)set dX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dX,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(dX,Condition(function DJ))call TriggerAddAction(dX,function FJ)set fX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(fX,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(fX,Condition(function jJ))call TriggerAddAction(fX,function JJ)set FX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(FX,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(FX,Condition(function KJ))call TriggerAddAction(FX,function lJ)set hX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(hX,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(hX,Condition(function sJ))call TriggerAddAction(hX,function SJ)set HX=CreateTrigger()call TriggerAddAction(HX,function uJ)set JX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(JX,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(JX,Condition(function vk))call TriggerAddAction(JX,function xk)set kX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(kX,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(kX,Condition(function rk))call TriggerAddAction(kX,function ik)set KX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(KX,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(KX,Condition(function nk))call TriggerAddAction(KX,function Vk)set LX=CreateTrigger()call TriggerAddAction(LX,function Ck)set mX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(mX,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(mX,Condition(function Dk))call TriggerAddAction(mX,function fk)set MX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(MX,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(MX,Condition(function Gk))call TriggerAddAction(MX,function hk)set sX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(sX,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(sX,Condition(function sk))call TriggerAddAction(sX,function tk)set SX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(SX,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(SX,Condition(function Uk))call TriggerAddAction(SX,function wk)set UX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(UX,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(UX,Condition(function aK))call TriggerAddAction(UX,function VK)set wX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(wX,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(wX,Condition(function XK))call TriggerAddAction(wX,function OK)set yX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(yX,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(yX,Condition(function bK))call TriggerAddAction(yX,function BK)set YX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(YX,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(YX,Condition(function CK))call TriggerAddAction(YX,function DK)set zX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(zX,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(zX,Condition(function FK))call TriggerAddAction(zX,function GK)set xO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(xO,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(xO,Condition(function tK))call TriggerAddAction(xO,function TK)set jX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(jX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(jX,Condition(function wJ))call TriggerAddAction(jX,function zJ)set lX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(lX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(lX,Condition(function Xk))call TriggerAddAction(lX,function Rk)set uX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(uX,EVENT_PLAYER_UNIT_SPELL_FINISH)call TriggerAddCondition(uX,Condition(function oK))call TriggerAddAction(uX,function rK)set WX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(WX,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(WX,Condition(function IK))call TriggerAddAction(WX,function AK)set NX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(NX,EVENT_PLAYER_UNIT_SPELL_FINISH)call TriggerAddCondition(NX,Condition(function xJ))call TriggerAddAction(NX,function oJ)set DX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(DX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(DX,Condition(function GJ))call TriggerAddAction(DX,function hJ)set EX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(EX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(EX,Condition(function aj))call TriggerAddAction(EX,function Nj)set XX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(XX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(XX,Condition(function Bj))call TriggerAddAction(XX,function Gj)set OX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(OX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(OX,Condition(function Hj))call TriggerAddAction(OX,function Mj)set RX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(RX,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(RX,Condition(function Pj))call TriggerAddAction(RX,function Uj)set oO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(oO,EVENT_PLAYER_UNIT_SPELL_FINISH)call TriggerAddCondition(oO,Condition(function UK))call TriggerAddAction(oO,function WK)set rO=CreateTrigger()call TriggerRegisterEnterRectSimple(rO,bj_mapInitialPlayableArea)call TriggerAddCondition(rO,Condition(function YK))call TriggerAddAction(rO,function zK)set iO=CreateTrigger()call TriggerAddAction(iO,function cl)set no=Filter(function Jb)set aO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(aO,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(aO,Condition(function dl))call TriggerAddAction(aO,function Jl)set aO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(aO,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(aO,Condition(function KC))call TriggerAddAction(aO,function mC)set No=Filter(function aC)set co=CreateGroup()
set VO=CreateTrigger()call TriggerRegisterEnterRectSimple(VO,fa)call TriggerRegisterEnterRectSimple(VO,Fa)call TriggerAddCondition(VO,Condition(function oL))call TriggerAddAction(VO,function rL)set EO=CreateTrigger()call TriggerRegisterEnterRectSimple(EO,fn)call TriggerAddCondition(EO,Condition(function aL))call TriggerAddAction(EO,function nL)set XO=CreateTrigger()call TriggerRegisterEnterRectSimple(XO,dn)call TriggerAddCondition(XO,Condition(function EL))call TriggerAddAction(XO,function XL)set OO=CreateTrigger()call TriggerRegisterEnterRectSimple(OO,ga)call TriggerRegisterEnterRectSimple(OO,Ga)call TriggerAddCondition(OO,Condition(function RL))call TriggerAddAction(OO,function IL)set RO=CreateTrigger()call TriggerRegisterEnterRectSimple(RO,Fn)call TriggerAddCondition(RO,Condition(function NL))call TriggerAddAction(RO,function bL)set IO=CreateTrigger()call TriggerRegisterEnterRectSimple(IO,Dn)call TriggerAddCondition(IO,Condition(function cL))call TriggerAddAction(IO,function CL)set r=CreateRegion()
set dO=CreateTrigger()call RegionAddRect(r,sn)
call RegionAddRect(r,Va)
call RegionAddRect(r,Ea)
call RegionAddRect(r,Xa)
call TriggerRegisterEnterRegion(dO,r,null)call TriggerAddCondition(dO,Condition(function sL))call TriggerAddAction(dO,function SL)set r=nullset r=CreateRegion()
set DO=CreateTrigger()call RegionAddRect(r,sn)
call RegionAddRect(r,Va)
call RegionAddRect(r,Ea)
call RegionAddRect(r,Xa)
call TriggerRegisterEnterRegion(DO,r,null)call TriggerAddCondition(DO,Condition(function uL))call TriggerAddAction(DO,function UL)set r=nullcall YL()call vm()set fO=CreateTrigger()call TriggerRegisterEnterRectSimple(fO,za)call TriggerAddCondition(fO,Condition(function em))call TriggerAddAction(fO,function xm)set FO=CreateTrigger()call TriggerRegisterEnterRectSimple(FO,Za)call TriggerAddCondition(FO,Condition(function rm))call TriggerAddAction(FO,function im)set HO=CreateTrigger()call TriggerRegisterEnterRectSimple(HO,gn)call TriggerAddCondition(HO,Condition(function Gm))call TriggerAddAction(HO,function Hm)set kO=CreateTrigger()call TriggerRegisterEnterRectSimple(kO,Gn)call TriggerAddCondition(kO,Condition(function pm))call TriggerAddAction(kO,function qm)set GO=CreateTrigger()call TriggerRegisterEnterRectSimple(GO,dn)call TriggerAddCondition(GO,Condition(function cm))call TriggerAddAction(GO,function dm)set hO=CreateTrigger()call TriggerRegisterLeaveRectSimple(hO,dn)call TriggerAddCondition(hO,Condition(function fm))call TriggerAddAction(hO,function Fm)set jO=CreateTrigger()call TriggerRegisterEnterRectSimple(jO,Dn)call TriggerAddCondition(jO,Condition(function Jm))call TriggerAddAction(jO,function Km)set JO=CreateTrigger()call TriggerRegisterLeaveRectSimple(JO,Dn)call TriggerAddCondition(JO,Condition(function Lm))call TriggerAddAction(JO,function mm)set ao=CreateTrigger()call TriggerRegisterEnterRegion(ao,oa,null)call TriggerAddCondition(ao,Condition(function Sm))call TriggerAddAction(ao,function pd)set KO=CreateTrigger()call TriggerRegisterEnterRectSimple(KO,An)call TriggerRegisterEnterRectSimple(KO,Nn)call TriggerAddCondition(KO,Condition(function Sm))call TriggerAddAction(KO,function tm)set LO=CreateTrigger()call TriggerRegisterEnterRectSimple(LO,bn)call TriggerRegisterEnterRectSimple(LO,sa)call TriggerAddCondition(LO,Condition(function ym))call TriggerAddAction(LO,function EM)set mO=CreateTrigger()call TriggerRegisterEnterRectSimple(mO,Bn)call TriggerRegisterEnterRectSimple(mO,cn)call TriggerAddCondition(mO,Condition(function RM))call TriggerAddAction(mO,function NM)set MO=CreateTrigger()call TriggerRegisterEnterRectSimple(MO,bn)call TriggerAddCondition(MO,Condition(function BM))call TriggerAddAction(MO,function CM)set pO=CreateTrigger()call TriggerRegisterEnterRectSimple(pO,sa)call TriggerAddCondition(pO,Condition(function DM))call TriggerAddAction(pO,function FM)set PO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(PO,EVENT_PLAYER_UNIT_SELL)call TriggerAddAction(PO,function SD)set QO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(QO,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(QO,Condition(function UM))call TriggerAddAction(QO,function xp)set sO=CreateTrigger()call TriggerAddAction(sO,function ap)set SO=CreateTrigger()call TriggerAddAction(SO,function Xp)set tO=CreateTrigger()call TriggerAddAction(tO,function Bp)set TO=CreateTrigger()call TriggerAddAction(TO,function Dp)set uO=CreateTrigger()call TriggerAddAction(uO,function jp)set wO=CreateTrigger()call TriggerRegisterEnterRectSimple(wO,xn)call TriggerAddCondition(wO,Condition(function Mp))call TriggerAddAction(wO,function qp)set WO=CreateTrigger()call TriggerRegisterEnterRectSimple(WO,on)call TriggerAddCondition(WO,Condition(function sp))call TriggerAddAction(WO,function Tp)set yO=CreateTrigger()call TriggerRegisterPlayerSelectionEventBJ(yO,Player(0),true)call TriggerRegisterPlayerSelectionEventBJ(yO,Player(1),true)call TriggerRegisterPlayerSelectionEventBJ(yO,Player(2),true)call TriggerRegisterPlayerSelectionEventBJ(yO,Player(3),true)call TriggerAddCondition(yO,Condition(function wp))call TriggerAddAction(yO,function Wp)set YO=CreateTrigger()call TriggerRegisterPlayerSelectionEventBJ(YO,Player(4),true)call TriggerRegisterPlayerSelectionEventBJ(YO,Player(5),true)call TriggerRegisterPlayerSelectionEventBJ(YO,Player(6),true)call TriggerRegisterPlayerSelectionEventBJ(YO,Player(7),true)call TriggerAddCondition(YO,Condition(function zp))call TriggerAddAction(YO,function Zp)set ZO=CreateTrigger()call TriggerRegisterUnitEvent(ZO,vA,EVENT_UNIT_ISSUED_ORDER)
call TriggerRegisterUnitEvent(ZO,vA,EVENT_UNIT_ISSUED_POINT_ORDER)call TriggerRegisterUnitEvent(ZO,vA,EVENT_UNIT_ISSUED_TARGET_ORDER)call TriggerAddAction(ZO,function iP)set vR=CreateTrigger()call TriggerRegisterUnitEvent(vR,EA,EVENT_UNIT_ISSUED_ORDER)
call TriggerRegisterUnitEvent(vR,EA,EVENT_UNIT_ISSUED_POINT_ORDER)call TriggerRegisterUnitEvent(vR,EA,EVENT_UNIT_ISSUED_TARGET_ORDER)call TriggerAddAction(vR,function nP)set eR=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(eR,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(eR,Condition(function XP))call TriggerAddAction(eR,function DP)set aR=CreateTrigger()call TriggerRegisterPlayerChatEvent(aR,Player(0),"-vk",true)
call TriggerRegisterPlayerChatEvent(aR,Player(1),"-vk",true)
call TriggerRegisterPlayerChatEvent(aR,Player(2),"-vk",true)
call TriggerRegisterPlayerChatEvent(aR,Player(3),"-vk",true)
call TriggerRegisterPlayerChatEvent(aR,Player(4),"-vk",true)
call TriggerRegisterPlayerChatEvent(aR,Player(5),"-vk",true)
call TriggerRegisterPlayerChatEvent(aR,Player(6),"-vk",true)
call TriggerRegisterPlayerChatEvent(aR,Player(7),"-vk",true)
call TriggerRegisterPlayerChatEvent(aR,Player(0),"-votekick",true)call TriggerRegisterPlayerChatEvent(aR,Player(1),"-votekick",true)call TriggerRegisterPlayerChatEvent(aR,Player(2),"-votekick",true)call TriggerRegisterPlayerChatEvent(aR,Player(3),"-votekick",true)call TriggerRegisterPlayerChatEvent(aR,Player(4),"-votekick",true)call TriggerRegisterPlayerChatEvent(aR,Player(5),"-votekick",true)call TriggerRegisterPlayerChatEvent(aR,Player(6),"-votekick",true)call TriggerRegisterPlayerChatEvent(aR,Player(7),"-votekick",true)call TriggerAddAction(aR,function YP)set nR=CreateTrigger()call TriggerRegisterDialogEvent(nR,Ri)call TriggerAddCondition(nR,Condition(function vq))call TriggerAddAction(nR,function rq)set VR=CreateTrigger()call TriggerRegisterDialogEvent(VR,Ri)call TriggerAddCondition(VR,Condition(function aq))call TriggerAddAction(VR,function nq)set ER=CreateTrigger()call TriggerRegisterDialogEvent(ER,Ai)call TriggerAddCondition(ER,Condition(function Xq))call TriggerAddAction(ER,function Bq)set XR=CreateTrigger()call TriggerRegisterTimerExpireEvent(XR,Di)call TriggerAddAction(XR,function fq)set OR=CreateTrigger()call TriggerRegisterTimerExpireEvent(OR,va)call TriggerAddAction(OR,function Gq)set RR=CreateTrigger()call TriggerAddAction(RR,function uq)set AR=CreateTrigger()call TriggerAddCondition(AR,Condition(function yq))call TriggerAddAction(AR,function Yq)set NR=CreateTrigger()call TriggerAddCondition(NR,Condition(function Zq))call TriggerAddAction(NR,function rQ)set bR=CreateTrigger()call TriggerAddCondition(bR,Condition(function aQ))call TriggerAddAction(bR,function BQ)set BR=CreateTrigger()call TriggerAddCondition(BR,Condition(function CQ))call TriggerAddAction(BR,function fQ)set cR=CreateTrigger()call TriggerAddCondition(cR,Condition(function gQ))call TriggerAddAction(cR,function hQ)set CR=CreateTrigger()call TriggerAddCondition(CR,Condition(function jQ))call TriggerAddAction(CR,function JQ)set dR=CreateTrigger()call TriggerAddCondition(dR,Condition(function KQ))call TriggerAddAction(dR,function mQ)set DR=CreateTrigger()call TriggerAddCondition(DR,Condition(function pQ))call TriggerAddAction(DR,function PQ)set fR=CreateTrigger()call TriggerAddCondition(fR,Condition(function QQ))call TriggerAddAction(fR,function sQ)set FR=CreateTrigger()call TriggerAddCondition(FR,Condition(function tQ))call TriggerAddAction(FR,function TQ)set gR=CreateTrigger()call TriggerAddCondition(gR,Condition(function UQ))call TriggerAddAction(gR,function yQ)set GR=CreateTrigger()call TriggerAddCondition(GR,Condition(function zQ))call TriggerAddAction(GR,function ZQ)set hR=CreateTrigger()call TriggerAddAction(hR,function Cs)set HR=CreateTrigger()call TriggerAddAction(HR,function Gs)set jR=CreateTrigger()call TriggerRegisterPlayerChatEvent(jR,Player(0),"-",false)call TriggerRegisterPlayerChatEvent(jR,Player(1),"-",false)call TriggerRegisterPlayerChatEvent(jR,Player(2),"-",false)call TriggerRegisterPlayerChatEvent(jR,Player(3),"-",false)call TriggerRegisterPlayerChatEvent(jR,Player(4),"-",false)call TriggerRegisterPlayerChatEvent(jR,Player(5),"-",false)call TriggerRegisterPlayerChatEvent(jR,Player(6),"-",false)call TriggerRegisterPlayerChatEvent(jR,Player(7),"-",false)call TriggerAddCondition(jR,Condition(function js))call TriggerAddAction(jR,function Ks)set kR=CreateTrigger()call TriggerAddAction(kR,function ys)set KR=CreateTrigger()call TriggerAddAction(KR,function vS)set lR=CreateTrigger()call TriggerRegisterTimerExpireEvent(lR,Mx)call TriggerAddAction(lR,function xS)set mR=CreateTrigger()call TriggerAddAction(mR,function ES)set MR=CreateTrigger()call TriggerAddAction(MR,function OS)set pR=CreateTrigger()call TriggerAddCondition(pR,Condition(function IS))call TriggerAddAction(pR,function NS)set PR=CreateTrigger()call TriggerAddAction(PR,function GS)set qR=CreateTrigger()call TriggerAddCondition(qR,Condition(function HS))call TriggerAddAction(qR,function lS)set QR=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(QR,EVENT_PLAYER_UNIT_UPGRADE_FINISH)call TriggerAddCondition(QR,Condition(function MS))call TriggerAddAction(QR,function QS)set sR=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(sR,EVENT_PLAYER_UNIT_UPGRADE_FINISH)call TriggerAddCondition(sR,Condition(function SS))call TriggerAddAction(sR,function YS)set SR=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(SR,EVENT_PLAYER_UNIT_UPGRADE_FINISH)call TriggerAddCondition(SR,Condition(function ZS))call TriggerAddAction(SR,function xt)set tR=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(tR,EVENT_PLAYER_UNIT_UPGRADE_FINISH)call TriggerAddCondition(tR,Condition(function it))call TriggerAddAction(tR,function ct)set TR=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(TR,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(TR,Condition(function dt))call TriggerAddAction(TR,function Dt)set uR=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(uR,EVENT_PLAYER_UNIT_TRAIN_FINISH)call TriggerAddCondition(uR,Condition(function Ft))call TriggerAddAction(uR,function gt)set UR=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(UR,EVENT_PLAYER_UNIT_RESEARCH_FINISH)
call TriggerAddCondition(UR,Condition(function Ht))call TriggerAddAction(UR,function Jt)set wR=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(wR,EVENT_PLAYER_UNIT_RESEARCH_FINISH)
call TriggerAddCondition(wR,Condition(function Kt))call TriggerAddAction(wR,function qt)set WR=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(WR,EVENT_PLAYER_UNIT_RESEARCH_FINISH)
call TriggerAddCondition(WR,Condition(function St))call TriggerAddAction(WR,function ut)set yR=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(yR,EVENT_PLAYER_UNIT_RESEARCH_FINISH)
call TriggerAddCondition(yR,Condition(function wt))call TriggerAddAction(yR,function zt)set YR=CreateTrigger()call TriggerAddAction(YR,function eT)set zR=CreateTrigger()call DisableTrigger(zR)call TriggerAddAction(zR,function oT)set oI=CreateTrigger()call TriggerAddAction(oI,function BT)set rI=CreateTrigger()call TriggerRegisterPlayerEventLeave(rI,Player(0))call TriggerRegisterPlayerEventLeave(rI,Player(1))call TriggerRegisterPlayerEventLeave(rI,Player(2))call TriggerRegisterPlayerEventLeave(rI,Player(3))call TriggerRegisterPlayerEventLeave(rI,Player(4))call TriggerRegisterPlayerEventLeave(rI,Player(5))call TriggerRegisterPlayerEventLeave(rI,Player(6))call TriggerRegisterPlayerEventLeave(rI,Player(7))call TriggerAddAction(rI,function pT)set jV=CreateTrigger()call DisableTrigger(jV)call TriggerRegisterTimerEventPeriodic(jV,1.)call TriggerAddCondition(jV,Condition(function ec))call TriggerAddAction(jV,function oc)set aI=CreateTrigger()call DisableTrigger(aI)call TriggerRegisterTimerEvent(aI,1.,true)call TriggerAddAction(aI,function ST)set nI=CreateTrigger()call TriggerRegisterTimerEventPeriodic(nI,8.)call TriggerAddCondition(nI,Condition(function TT))call TriggerAddAction(nI,function WT)set KV=CreateTrigger()call TriggerRegisterTimerEventPeriodic(KV,.5)call TriggerAddCondition(KV,Condition(function Nc))call TriggerAddAction(KV,function cc)set lV=CreateTrigger()call TriggerRegisterTimerEventPeriodic(lV,1)
call TriggerAddCondition(lV,Condition(function dc))call TriggerAddAction(lV,function Gc)set XE=CreateTrigger()call DisableTrigger(XE)call TriggerRegisterTimerEventPeriodic(XE,$A)call TriggerAddCondition(XE,Condition(function Jf))call TriggerAddAction(XE,function kf)set RE=CreateTrigger()call DisableTrigger(RE)call TriggerRegisterTimerEventPeriodic(RE,1.)call TriggerAddCondition(RE,Condition(function tf))call TriggerAddAction(RE,function Uf)set gE=CreateTrigger()call TriggerRegisterTimerEventPeriodic(gE,1.)call TriggerAddAction(gE,function ud)set gE=CreateTrigger()call TriggerRegisterTimerEventPeriodic(gE,1.)call TriggerAddAction(gE,function Wd)set gE=CreateTrigger()call TriggerRegisterTimerEventPeriodic(gE,1.)call TriggerAddCondition(gE,Condition(function yF))call TriggerAddAction(gE,function eg)set rX=CreateTrigger()call TriggerRegisterTimerEventPeriodic(rX,1.)call TriggerAddCondition(rX,Condition(function gh))call TriggerAddAction(rX,function KH)set TX=CreateTrigger()call TriggerRegisterTimerEventPeriodic(TX,1.)call TriggerAddCondition(TX,Condition(function Zk))call TriggerAddAction(TX,function eK)set vO=CreateTrigger()call TriggerRegisterTimerEventPeriodic(vO,1.)call TriggerAddCondition(vO,Condition(function lK))call TriggerAddAction(vO,function pK)set gO=CreateTrigger()call TriggerRegisterTimerEventPeriodic(gO,1.)call TriggerAddCondition(gO,Condition(function Vm))call TriggerAddAction(gO,function bm)set FE=CreateTrigger()call TriggerRegisterTimerEventSingle(FE,.0)call TriggerAddAction(FE,function wF)set IR=CreateTrigger()call TriggerRegisterTimerEventSingle(IR,.1)call TriggerAddAction(IR,function wq)set JV=CreateTrigger()call TriggerRegisterTimerEventSingle(JV,.5)call TriggerAddAction(JV,function ic)set hV=CreateTrigger()call TriggerRegisterTimerEventSingle(hV,1)call TriggerAddAction(hV,function YB)set LR=CreateTrigger()call TriggerRegisterTimerEventSingle(LR,1.1)
call TriggerAddAction(LR,function nS)set oR=CreateTrigger()call TriggerRegisterTimerEventSingle(oR,5)call TriggerAddAction(oR,function pP)set GI=CreateTrigger()call TriggerRegisterTimerEventSingle(GI,$A)call TriggerAddAction(GI,function BU)set vI=CreateTrigger()call TriggerRegisterTimerEventSingle(vI,40)call TriggerAddCondition(vI,Condition(function nT))call TriggerAddAction(vI,function ET)set xI=CreateTrigger()call TriggerRegisterTimerEventSingle(xI,60)call TriggerAddAction(xI,function IT)set eI=CreateTrigger()call TriggerRegisterTimerEventSingle(eI,80)call TriggerAddAction(eI,function OT)set ZR=CreateTrigger()call TriggerRegisterTimerEventSingle(ZR,'s')
call TriggerAddAction(ZR,function iT)set VI=CreateTrigger()call TriggerAddCondition(VI,Condition(function YT))call TriggerAddAction(VI,function ou)set EI=CreateTrigger()call TriggerAddAction(EI,function nu)set XI=CreateTrigger()call TriggerAddAction(XI,function Eu)set OI=CreateTrigger()call TriggerRegisterPlayerChatEvent(OI,Player(0),"-help",true)call TriggerRegisterPlayerChatEvent(OI,Player(1),"-help",true)call TriggerRegisterPlayerChatEvent(OI,Player(2),"-help",true)call TriggerRegisterPlayerChatEvent(OI,Player(3),"-help",true)call TriggerRegisterPlayerChatEvent(OI,Player(4),"-help",true)call TriggerRegisterPlayerChatEvent(OI,Player(5),"-help",true)call TriggerRegisterPlayerChatEvent(OI,Player(6),"-help",true)call TriggerRegisterPlayerChatEvent(OI,Player(7),"-help",true)call TriggerAddAction(OI,function Ou)set RI=CreateTrigger()call TriggerRegisterPlayerChatEvent(RI,Player(0),"-pierce",true)
call TriggerRegisterPlayerChatEvent(RI,Player(1),"-pierce",true)
call TriggerRegisterPlayerChatEvent(RI,Player(2),"-pierce",true)
call TriggerRegisterPlayerChatEvent(RI,Player(3),"-pierce",true)
call TriggerRegisterPlayerChatEvent(RI,Player(4),"-pierce",true)
call TriggerRegisterPlayerChatEvent(RI,Player(5),"-pierce",true)
call TriggerRegisterPlayerChatEvent(RI,Player(6),"-pierce",true)
call TriggerRegisterPlayerChatEvent(RI,Player(7),"-pierce",true)
call TriggerRegisterPlayerChatEvent(RI,Player(0),"-normal",true)
call TriggerRegisterPlayerChatEvent(RI,Player(1),"-normal",true)
call TriggerRegisterPlayerChatEvent(RI,Player(2),"-normal",true)
call TriggerRegisterPlayerChatEvent(RI,Player(3),"-normal",true)
call TriggerRegisterPlayerChatEvent(RI,Player(4),"-normal",true)
call TriggerRegisterPlayerChatEvent(RI,Player(5),"-normal",true)
call TriggerRegisterPlayerChatEvent(RI,Player(6),"-normal",true)
call TriggerRegisterPlayerChatEvent(RI,Player(7),"-normal",true)
call TriggerRegisterPlayerChatEvent(RI,Player(0),"-magic",true)call TriggerRegisterPlayerChatEvent(RI,Player(1),"-magic",true)call TriggerRegisterPlayerChatEvent(RI,Player(2),"-magic",true)call TriggerRegisterPlayerChatEvent(RI,Player(3),"-magic",true)call TriggerRegisterPlayerChatEvent(RI,Player(4),"-magic",true)call TriggerRegisterPlayerChatEvent(RI,Player(5),"-magic",true)call TriggerRegisterPlayerChatEvent(RI,Player(6),"-magic",true)call TriggerRegisterPlayerChatEvent(RI,Player(7),"-magic",true)call TriggerRegisterPlayerChatEvent(RI,Player(0),"-chaos",true)call TriggerRegisterPlayerChatEvent(RI,Player(1),"-chaos",true)call TriggerRegisterPlayerChatEvent(RI,Player(2),"-chaos",true)call TriggerRegisterPlayerChatEvent(RI,Player(3),"-chaos",true)call TriggerRegisterPlayerChatEvent(RI,Player(4),"-chaos",true)call TriggerRegisterPlayerChatEvent(RI,Player(5),"-chaos",true)call TriggerRegisterPlayerChatEvent(RI,Player(6),"-chaos",true)call TriggerRegisterPlayerChatEvent(RI,Player(7),"-chaos",true)call TriggerRegisterPlayerChatEvent(RI,Player(0),"-siege",true)call TriggerRegisterPlayerChatEvent(RI,Player(1),"-siege",true)call TriggerRegisterPlayerChatEvent(RI,Player(2),"-siege",true)call TriggerRegisterPlayerChatEvent(RI,Player(3),"-siege",true)call TriggerRegisterPlayerChatEvent(RI,Player(4),"-siege",true)call TriggerRegisterPlayerChatEvent(RI,Player(5),"-siege",true)call TriggerRegisterPlayerChatEvent(RI,Player(6),"-siege",true)call TriggerRegisterPlayerChatEvent(RI,Player(7),"-siege",true)call TriggerAddAction(RI,function cu)set II=CreateTrigger()call TriggerRegisterPlayerChatEvent(II,Player(0),"-fortified",true)call TriggerRegisterPlayerChatEvent(II,Player(1),"-fortified",true)call TriggerRegisterPlayerChatEvent(II,Player(2),"-fortified",true)call TriggerRegisterPlayerChatEvent(II,Player(3),"-fortified",true)call TriggerRegisterPlayerChatEvent(II,Player(4),"-fortified",true)call TriggerRegisterPlayerChatEvent(II,Player(5),"-fortified",true)call TriggerRegisterPlayerChatEvent(II,Player(6),"-fortified",true)call TriggerRegisterPlayerChatEvent(II,Player(7),"-fortified",true)call TriggerRegisterPlayerChatEvent(II,Player(0),"-heavy",true)call TriggerRegisterPlayerChatEvent(II,Player(1),"-heavy",true)call TriggerRegisterPlayerChatEvent(II,Player(2),"-heavy",true)call TriggerRegisterPlayerChatEvent(II,Player(3),"-heavy",true)call TriggerRegisterPlayerChatEvent(II,Player(4),"-heavy",true)call TriggerRegisterPlayerChatEvent(II,Player(5),"-heavy",true)call TriggerRegisterPlayerChatEvent(II,Player(6),"-heavy",true)call TriggerRegisterPlayerChatEvent(II,Player(7),"-heavy",true)call TriggerRegisterPlayerChatEvent(II,Player(0),"-light",true)call TriggerRegisterPlayerChatEvent(II,Player(1),"-light",true)call TriggerRegisterPlayerChatEvent(II,Player(2),"-light",true)call TriggerRegisterPlayerChatEvent(II,Player(3),"-light",true)call TriggerRegisterPlayerChatEvent(II,Player(4),"-light",true)call TriggerRegisterPlayerChatEvent(II,Player(5),"-light",true)call TriggerRegisterPlayerChatEvent(II,Player(6),"-light",true)call TriggerRegisterPlayerChatEvent(II,Player(7),"-light",true)call TriggerRegisterPlayerChatEvent(II,Player(0),"-medium",true)
call TriggerRegisterPlayerChatEvent(II,Player(1),"-medium",true)
call TriggerRegisterPlayerChatEvent(II,Player(2),"-medium",true)
call TriggerRegisterPlayerChatEvent(II,Player(3),"-medium",true)
call TriggerRegisterPlayerChatEvent(II,Player(4),"-medium",true)
call TriggerRegisterPlayerChatEvent(II,Player(5),"-medium",true)
call TriggerRegisterPlayerChatEvent(II,Player(6),"-medium",true)
call TriggerRegisterPlayerChatEvent(II,Player(7),"-medium",true)
call TriggerRegisterPlayerChatEvent(II,Player(0),"-unarmored",true)call TriggerRegisterPlayerChatEvent(II,Player(1),"-unarmored",true)call TriggerRegisterPlayerChatEvent(II,Player(2),"-unarmored",true)call TriggerRegisterPlayerChatEvent(II,Player(3),"-unarmored",true)call TriggerRegisterPlayerChatEvent(II,Player(4),"-unarmored",true)call TriggerRegisterPlayerChatEvent(II,Player(5),"-unarmored",true)call TriggerRegisterPlayerChatEvent(II,Player(6),"-unarmored",true)call TriggerRegisterPlayerChatEvent(II,Player(7),"-unarmored",true)call TriggerAddAction(II,function Gu)set AI=CreateTrigger()call TriggerRegisterPlayerChatEvent(AI,Player(0),"-air",true)call TriggerRegisterPlayerChatEvent(AI,Player(1),"-air",true)call TriggerRegisterPlayerChatEvent(AI,Player(2),"-air",true)call TriggerRegisterPlayerChatEvent(AI,Player(3),"-air",true)call TriggerRegisterPlayerChatEvent(AI,Player(4),"-air",true)call TriggerRegisterPlayerChatEvent(AI,Player(5),"-air",true)call TriggerRegisterPlayerChatEvent(AI,Player(6),"-air",true)call TriggerRegisterPlayerChatEvent(AI,Player(7),"-air",true)call TriggerRegisterPlayerChatEvent(AI,Player(0),"-range",true)call TriggerRegisterPlayerChatEvent(AI,Player(1),"-range",true)call TriggerRegisterPlayerChatEvent(AI,Player(2),"-range",true)call TriggerRegisterPlayerChatEvent(AI,Player(3),"-range",true)call TriggerRegisterPlayerChatEvent(AI,Player(4),"-range",true)call TriggerRegisterPlayerChatEvent(AI,Player(5),"-range",true)call TriggerRegisterPlayerChatEvent(AI,Player(6),"-range",true)call TriggerRegisterPlayerChatEvent(AI,Player(7),"-range",true)call TriggerRegisterPlayerChatEvent(AI,Player(0),"-boss",true)call TriggerRegisterPlayerChatEvent(AI,Player(1),"-boss",true)call TriggerRegisterPlayerChatEvent(AI,Player(2),"-boss",true)call TriggerRegisterPlayerChatEvent(AI,Player(3),"-boss",true)call TriggerRegisterPlayerChatEvent(AI,Player(4),"-boss",true)call TriggerRegisterPlayerChatEvent(AI,Player(5),"-boss",true)call TriggerRegisterPlayerChatEvent(AI,Player(6),"-boss",true)call TriggerRegisterPlayerChatEvent(AI,Player(7),"-boss",true)call TriggerAddAction(AI,function ku)set NI=CreateTrigger()call TriggerRegisterPlayerChatEvent(NI,Player(0),"-next",true)call TriggerRegisterPlayerChatEvent(NI,Player(1),"-next",true)call TriggerRegisterPlayerChatEvent(NI,Player(2),"-next",true)call TriggerRegisterPlayerChatEvent(NI,Player(3),"-next",true)call TriggerRegisterPlayerChatEvent(NI,Player(4),"-next",true)call TriggerRegisterPlayerChatEvent(NI,Player(5),"-next",true)call TriggerRegisterPlayerChatEvent(NI,Player(6),"-next",true)call TriggerRegisterPlayerChatEvent(NI,Player(7),"-next",true)call TriggerAddCondition(NI,Condition(function lu))call TriggerAddAction(NI,function mu)set bI=CreateTrigger()call TriggerAddCondition(bI,Condition(function pu))call TriggerAddAction(bI,function qu)set BI=CreateTrigger()call TriggerRegisterPlayerChatEvent(BI,Player(0),"-info",false)call TriggerRegisterPlayerChatEvent(BI,Player(1),"-info",false)call TriggerRegisterPlayerChatEvent(BI,Player(2),"-info",false)call TriggerRegisterPlayerChatEvent(BI,Player(3),"-info",false)call TriggerRegisterPlayerChatEvent(BI,Player(4),"-info",false)call TriggerRegisterPlayerChatEvent(BI,Player(5),"-info",false)call TriggerRegisterPlayerChatEvent(BI,Player(6),"-info",false)call TriggerRegisterPlayerChatEvent(BI,Player(7),"-info",false)call TriggerAddCondition(BI,Condition(function su))call TriggerAddAction(BI,function Tu)set cI=CreateTrigger()call DisableTrigger(cI)call TriggerRegisterPlayerChatEvent(cI,Player(0),"-start",true)call TriggerRegisterPlayerChatEvent(cI,Player(1),"-start",true)call TriggerRegisterPlayerChatEvent(cI,Player(2),"-start",true)call TriggerRegisterPlayerChatEvent(cI,Player(3),"-start",true)call TriggerRegisterPlayerChatEvent(cI,Player(4),"-start",true)call TriggerRegisterPlayerChatEvent(cI,Player(5),"-start",true)call TriggerRegisterPlayerChatEvent(cI,Player(6),"-start",true)call TriggerRegisterPlayerChatEvent(cI,Player(7),"-start",true)call TriggerAddAction(cI,function wu)set CI=CreateTrigger()call TriggerRegisterPlayerChatEvent(CI,Player(0),"-zoom",false)call TriggerRegisterPlayerChatEvent(CI,Player(1),"-zoom",false)call TriggerRegisterPlayerChatEvent(CI,Player(2),"-zoom",false)call TriggerRegisterPlayerChatEvent(CI,Player(3),"-zoom",false)call TriggerRegisterPlayerChatEvent(CI,Player(4),"-zoom",false)call TriggerRegisterPlayerChatEvent(CI,Player(5),"-zoom",false)call TriggerRegisterPlayerChatEvent(CI,Player(6),"-zoom",false)call TriggerRegisterPlayerChatEvent(CI,Player(7),"-zoom",false)call TriggerAddCondition(CI,Condition(function yu))call TriggerAddAction(CI,function vU)set dI=CreateTrigger()call TriggerRegisterPlayerChatEvent(dI,Player(0),"-king",true)call TriggerRegisterPlayerChatEvent(dI,Player(1),"-king",true)call TriggerRegisterPlayerChatEvent(dI,Player(2),"-king",true)call TriggerRegisterPlayerChatEvent(dI,Player(3),"-king",true)call TriggerRegisterPlayerChatEvent(dI,Player(4),"-king",true)call TriggerRegisterPlayerChatEvent(dI,Player(5),"-king",true)call TriggerRegisterPlayerChatEvent(dI,Player(6),"-king",true)call TriggerRegisterPlayerChatEvent(dI,Player(7),"-king",true)call TriggerAddAction(dI,function xU)set DI=CreateTrigger()call TriggerRegisterPlayerChatEvent(DI,Player(0),"-value",true)call TriggerRegisterPlayerChatEvent(DI,Player(1),"-value",true)call TriggerRegisterPlayerChatEvent(DI,Player(2),"-value",true)call TriggerRegisterPlayerChatEvent(DI,Player(3),"-value",true)call TriggerRegisterPlayerChatEvent(DI,Player(4),"-value",true)call TriggerRegisterPlayerChatEvent(DI,Player(5),"-value",true)call TriggerRegisterPlayerChatEvent(DI,Player(6),"-value",true)call TriggerRegisterPlayerChatEvent(DI,Player(7),"-value",true)call TriggerAddAction(DI,function nU)set fI=CreateTrigger()call TriggerRegisterPlayerChatEvent(fI,Player(0),"-kill",true)call TriggerRegisterPlayerChatEvent(fI,Player(1),"-kill",true)call TriggerRegisterPlayerChatEvent(fI,Player(2),"-kill",true)call TriggerRegisterPlayerChatEvent(fI,Player(3),"-kill",true)call TriggerRegisterPlayerChatEvent(fI,Player(4),"-kill",true)call TriggerRegisterPlayerChatEvent(fI,Player(5),"-kill",true)call TriggerRegisterPlayerChatEvent(fI,Player(6),"-kill",true)call TriggerRegisterPlayerChatEvent(fI,Player(7),"-kill",true)call TriggerAddAction(fI,function XU)set J[$A]=$B4set FI=CreateTrigger()call TriggerRegisterPlayerChatEvent(FI,Player(0),"-ff",true)
call TriggerRegisterPlayerChatEvent(FI,Player(1),"-ff",true)
call TriggerRegisterPlayerChatEvent(FI,Player(2),"-ff",true)
call TriggerRegisterPlayerChatEvent(FI,Player(3),"-ff",true)
call TriggerRegisterPlayerChatEvent(FI,Player(4),"-ff",true)
call TriggerRegisterPlayerChatEvent(FI,Player(5),"-ff",true)
call TriggerRegisterPlayerChatEvent(FI,Player(6),"-ff",true)
call TriggerRegisterPlayerChatEvent(FI,Player(7),"-ff",true)
call TriggerAddAction(FI,function pD)set FI=CreateTrigger()call TriggerRegisterPlayerChatEvent(FI,Player(0),"-cls",true)call TriggerRegisterPlayerChatEvent(FI,Player(1),"-cls",true)call TriggerRegisterPlayerChatEvent(FI,Player(2),"-cls",true)call TriggerRegisterPlayerChatEvent(FI,Player(3),"-cls",true)call TriggerRegisterPlayerChatEvent(FI,Player(4),"-cls",true)call TriggerRegisterPlayerChatEvent(FI,Player(5),"-cls",true)call TriggerRegisterPlayerChatEvent(FI,Player(6),"-cls",true)call TriggerRegisterPlayerChatEvent(FI,Player(7),"-cls",true)call TriggerAddAction(FI,function IU)set gI=CreateTrigger()call TriggerAddAction(gI,function NU)set hI=CreateTrigger()call TriggerRegisterPlayerChatEvent(hI,Player(0),"-debug",true)call TriggerAddCondition(hI,Condition(function CU))call TriggerAddAction(hI,function DU)set HI=CreateTrigger()call TriggerRegisterPlayerChatEvent(HI,Player(1),"-debug",true)call TriggerRegisterPlayerChatEvent(HI,Player(2),"-debug",true)call TriggerRegisterPlayerChatEvent(HI,Player(3),"-debug",true)call TriggerRegisterPlayerChatEvent(HI,Player(4),"-debug",true)call TriggerRegisterPlayerChatEvent(HI,Player(5),"-debug",true)call TriggerRegisterPlayerChatEvent(HI,Player(6),"-debug",true)call TriggerRegisterPlayerChatEvent(HI,Player(7),"-debug",true)call TriggerAddCondition(HI,Condition(function FU))call TriggerAddAction(HI,function GU)set jI=CreateTrigger()call DisableTrigger(jI)call TriggerRegisterPlayerChatEvent(jI,Player(0),"-gold ",false)
call TriggerRegisterPlayerChatEvent(jI,Player(1),"-gold ",false)
call TriggerRegisterPlayerChatEvent(jI,Player(2),"-gold ",false)
call TriggerRegisterPlayerChatEvent(jI,Player(3),"-gold ",false)
call TriggerRegisterPlayerChatEvent(jI,Player(4),"-gold ",false)
call TriggerRegisterPlayerChatEvent(jI,Player(5),"-gold ",false)
call TriggerRegisterPlayerChatEvent(jI,Player(6),"-gold ",false)
call TriggerRegisterPlayerChatEvent(jI,Player(7),"-gold ",false)
call TriggerAddAction(jI,function HU)set JI=CreateTrigger()call DisableTrigger(JI)call TriggerRegisterPlayerChatEvent(JI,Player(0),"-lumber",false)call TriggerRegisterPlayerChatEvent(JI,Player(1),"-lumber",false)call TriggerRegisterPlayerChatEvent(JI,Player(2),"-lumber",false)call TriggerRegisterPlayerChatEvent(JI,Player(3),"-lumber",false)call TriggerRegisterPlayerChatEvent(JI,Player(4),"-lumber",false)call TriggerRegisterPlayerChatEvent(JI,Player(5),"-lumber",false)call TriggerRegisterPlayerChatEvent(JI,Player(6),"-lumber",false)call TriggerRegisterPlayerChatEvent(JI,Player(7),"-lumber",false)call TriggerAddAction(JI,function JU)set kI=CreateTrigger()call DisableTrigger(kI)call TriggerRegisterPlayerChatEvent(kI,Player(0),"-food",true)call TriggerRegisterPlayerChatEvent(kI,Player(1),"-food",true)call TriggerRegisterPlayerChatEvent(kI,Player(2),"-food",true)call TriggerRegisterPlayerChatEvent(kI,Player(3),"-food",true)call TriggerRegisterPlayerChatEvent(kI,Player(4),"-food",true)call TriggerRegisterPlayerChatEvent(kI,Player(5),"-food",true)call TriggerRegisterPlayerChatEvent(kI,Player(6),"-food",true)call TriggerRegisterPlayerChatEvent(kI,Player(7),"-food",true)call TriggerAddAction(kI,function lU)set KI=CreateTrigger()call DisableTrigger(KI)call TriggerRegisterPlayerChatEvent(KI,Player(0),"-foodmax",true)call TriggerRegisterPlayerChatEvent(KI,Player(1),"-foodmax",true)call TriggerRegisterPlayerChatEvent(KI,Player(2),"-foodmax",true)call TriggerRegisterPlayerChatEvent(KI,Player(3),"-foodmax",true)call TriggerRegisterPlayerChatEvent(KI,Player(4),"-foodmax",true)call TriggerRegisterPlayerChatEvent(KI,Player(5),"-foodmax",true)call TriggerRegisterPlayerChatEvent(KI,Player(6),"-foodmax",true)call TriggerRegisterPlayerChatEvent(KI,Player(7),"-foodmax",true)call TriggerAddAction(KI,function MU)set lI=CreateTrigger()call DisableTrigger(lI)call TriggerRegisterPlayerChatEvent(lI,Player(0),"-toggleincome",true)call TriggerRegisterPlayerChatEvent(lI,Player(1),"-toggleincome",true)call TriggerRegisterPlayerChatEvent(lI,Player(2),"-toggleincome",true)call TriggerRegisterPlayerChatEvent(lI,Player(3),"-toggleincome",true)call TriggerRegisterPlayerChatEvent(lI,Player(4),"-toggleincome",true)call TriggerRegisterPlayerChatEvent(lI,Player(5),"-toggleincome",true)call TriggerRegisterPlayerChatEvent(lI,Player(6),"-toggleincome",true)call TriggerRegisterPlayerChatEvent(lI,Player(7),"-toggleincome",true)call TriggerAddAction(lI,function qU)set LI=CreateTrigger()call DisableTrigger(LI)call TriggerRegisterPlayerChatEvent(LI,Player(0),"-income",false)call TriggerRegisterPlayerChatEvent(LI,Player(1),"-income",false)call TriggerRegisterPlayerChatEvent(LI,Player(2),"-income",false)call TriggerRegisterPlayerChatEvent(LI,Player(3),"-income",false)call TriggerRegisterPlayerChatEvent(LI,Player(4),"-income",false)call TriggerRegisterPlayerChatEvent(LI,Player(5),"-income",false)call TriggerRegisterPlayerChatEvent(LI,Player(6),"-income",false)call TriggerRegisterPlayerChatEvent(LI,Player(7),"-income",false)call TriggerAddAction(LI,function sU)set mI=CreateTrigger()call DisableTrigger(mI)call TriggerRegisterPlayerChatEvent(mI,Player(0),"-spawnall",true)call TriggerRegisterPlayerChatEvent(mI,Player(1),"-spawnall",true)call TriggerRegisterPlayerChatEvent(mI,Player(2),"-spawnall",true)call TriggerRegisterPlayerChatEvent(mI,Player(3),"-spawnall",true)call TriggerRegisterPlayerChatEvent(mI,Player(4),"-spawnall",true)call TriggerRegisterPlayerChatEvent(mI,Player(5),"-spawnall",true)call TriggerRegisterPlayerChatEvent(mI,Player(6),"-spawnall",true)call TriggerRegisterPlayerChatEvent(mI,Player(7),"-spawnall",true)call TriggerAddAction(mI,function TU)set MI=CreateTrigger()call DisableTrigger(MI)call TriggerRegisterPlayerChatEvent(MI,Player(0),"-spawn",false)
call TriggerRegisterPlayerChatEvent(MI,Player(1),"-spawn",false)
call TriggerRegisterPlayerChatEvent(MI,Player(2),"-spawn",false)
call TriggerRegisterPlayerChatEvent(MI,Player(3),"-spawn",false)
call TriggerRegisterPlayerChatEvent(MI,Player(4),"-spawn",false)
call TriggerRegisterPlayerChatEvent(MI,Player(5),"-spawn",false)
call TriggerRegisterPlayerChatEvent(MI,Player(6),"-spawn",false)
call TriggerRegisterPlayerChatEvent(MI,Player(7),"-spawn",false)
call TriggerAddCondition(MI,Condition(function UU))call TriggerAddAction(MI,function Ow)set pI=CreateTrigger()call DisableTrigger(pI)call TriggerRegisterPlayerChatEvent(pI,Player(0),"-buildall",true)call TriggerRegisterPlayerChatEvent(pI,Player(1),"-buildall",true)call TriggerRegisterPlayerChatEvent(pI,Player(2),"-buildall",true)call TriggerRegisterPlayerChatEvent(pI,Player(3),"-buildall",true)call TriggerRegisterPlayerChatEvent(pI,Player(4),"-buildall",true)call TriggerRegisterPlayerChatEvent(pI,Player(5),"-buildall",true)call TriggerRegisterPlayerChatEvent(pI,Player(6),"-buildall",true)call TriggerRegisterPlayerChatEvent(pI,Player(7),"-buildall",true)call TriggerAddAction(pI,function Nw)set PI=CreateTrigger()call DisableTrigger(PI)call TriggerRegisterPlayerChatEvent(PI,Player(0),"-level ",false)call TriggerRegisterPlayerChatEvent(PI,Player(1),"-level ",false)call TriggerRegisterPlayerChatEvent(PI,Player(2),"-level ",false)call TriggerRegisterPlayerChatEvent(PI,Player(3),"-level ",false)call TriggerRegisterPlayerChatEvent(PI,Player(4),"-level ",false)call TriggerRegisterPlayerChatEvent(PI,Player(5),"-level ",false)call TriggerRegisterPlayerChatEvent(PI,Player(6),"-level ",false)call TriggerRegisterPlayerChatEvent(PI,Player(7),"-level ",false)call TriggerAddCondition(PI,Condition(function Bw))call TriggerAddAction(PI,function cw)set qI=CreateTrigger()call DisableTrigger(qI)call TriggerRegisterPlayerChatEvent(qI,Player(0),"-start",true)call TriggerRegisterPlayerChatEvent(qI,Player(1),"-start",true)call TriggerRegisterPlayerChatEvent(qI,Player(2),"-start",true)call TriggerRegisterPlayerChatEvent(qI,Player(3),"-start",true)call TriggerRegisterPlayerChatEvent(qI,Player(4),"-start",true)call TriggerRegisterPlayerChatEvent(qI,Player(5),"-start",true)call TriggerRegisterPlayerChatEvent(qI,Player(6),"-start",true)call TriggerRegisterPlayerChatEvent(qI,Player(7),"-start",true)call TriggerAddAction(qI,function dw)set QI=CreateTrigger()call DisableTrigger(QI)call TriggerRegisterPlayerChatEvent(QI,Player(0),"cine",true)call TriggerRegisterPlayerChatEvent(QI,Player(1),"cine",true)call TriggerRegisterPlayerChatEvent(QI,Player(2),"cine",true)call TriggerRegisterPlayerChatEvent(QI,Player(3),"cine",true)call TriggerRegisterPlayerChatEvent(QI,Player(4),"cine",true)call TriggerRegisterPlayerChatEvent(QI,Player(5),"cine",true)call TriggerRegisterPlayerChatEvent(QI,Player(6),"cine",true)call TriggerRegisterPlayerChatEvent(QI,Player(7),"cine",true)call TriggerAddCondition(QI,Condition(function Fw))call TriggerAddAction(QI,function hw)set sI=CreateTrigger()call DisableTrigger(sI)call TriggerRegisterPlayerChatEvent(sI,Player(0),"-abil",true)call TriggerRegisterPlayerChatEvent(sI,Player(1),"-abil",true)call TriggerRegisterPlayerChatEvent(sI,Player(2),"-abil",true)call TriggerRegisterPlayerChatEvent(sI,Player(3),"-abil",true)call TriggerRegisterPlayerChatEvent(sI,Player(4),"-abil",true)call TriggerRegisterPlayerChatEvent(sI,Player(5),"-abil",true)call TriggerRegisterPlayerChatEvent(sI,Player(6),"-abil",true)call TriggerRegisterPlayerChatEvent(sI,Player(7),"-abil",true)call TriggerAddAction(sI,function Jw)set SI=CreateTrigger()call DisableTrigger(SI)call TriggerRegisterPlayerChatEvent(SI,Player(0),"-clear",true)call TriggerRegisterPlayerChatEvent(SI,Player(1),"-clear",true)call TriggerRegisterPlayerChatEvent(SI,Player(2),"-clear",true)call TriggerRegisterPlayerChatEvent(SI,Player(3),"-clear",true)call TriggerRegisterPlayerChatEvent(SI,Player(4),"-clear",true)call TriggerRegisterPlayerChatEvent(SI,Player(5),"-clear",true)call TriggerRegisterPlayerChatEvent(SI,Player(6),"-clear",true)call TriggerRegisterPlayerChatEvent(SI,Player(7),"-clear",true)call TriggerAddAction(SI,function lw)set tI=CreateTrigger()call DisableTrigger(tI)call TriggerRegisterPlayerChatEvent(tI,Player(0),"-cleare",true)
call TriggerRegisterPlayerChatEvent(tI,Player(1),"-cleare",true)
call TriggerRegisterPlayerChatEvent(tI,Player(2),"-cleare",true)
call TriggerRegisterPlayerChatEvent(tI,Player(3),"-cleare",true)
call TriggerRegisterPlayerChatEvent(tI,Player(4),"-cleare",true)
call TriggerRegisterPlayerChatEvent(tI,Player(5),"-cleare",true)
call TriggerRegisterPlayerChatEvent(tI,Player(6),"-cleare",true)
call TriggerRegisterPlayerChatEvent(tI,Player(7),"-cleare",true)
call TriggerAddAction(tI,function pw)set TI=CreateTrigger()call DisableTrigger(TI)call TriggerRegisterPlayerChatEvent(TI,Player(0),"-clearw",true)
call TriggerRegisterPlayerChatEvent(TI,Player(1),"-clearw",true)
call TriggerRegisterPlayerChatEvent(TI,Player(2),"-clearw",true)
call TriggerRegisterPlayerChatEvent(TI,Player(3),"-clearw",true)
call TriggerRegisterPlayerChatEvent(TI,Player(4),"-clearw",true)
call TriggerRegisterPlayerChatEvent(TI,Player(5),"-clearw",true)
call TriggerRegisterPlayerChatEvent(TI,Player(6),"-clearw",true)
call TriggerRegisterPlayerChatEvent(TI,Player(7),"-clearw",true)
call TriggerAddAction(TI,function sw)set uI=CreateTrigger()call DisableTrigger(uI)call TriggerRegisterPlayerChatEvent(uI,Player(0),"-repick",true)
call TriggerRegisterPlayerChatEvent(uI,Player(1),"-repick",true)
call TriggerRegisterPlayerChatEvent(uI,Player(2),"-repick",true)
call TriggerRegisterPlayerChatEvent(uI,Player(3),"-repick",true)
call TriggerRegisterPlayerChatEvent(uI,Player(4),"-repick",true)
call TriggerRegisterPlayerChatEvent(uI,Player(5),"-repick",true)
call TriggerRegisterPlayerChatEvent(uI,Player(6),"-repick",true)
call TriggerRegisterPlayerChatEvent(uI,Player(7),"-repick",true)
call TriggerAddAction(uI,function Ww)set UI=CreateTrigger()call DisableTrigger(UI)call TriggerRegisterPlayerChatEvent(UI,Player(0),"-restart",true)call TriggerAddAction(UI,function CW)set wI=CreateTrigger()call DisableTrigger(wI)call TriggerRegisterPlayerChatEvent(wI,Player(0),"-heal",true)call TriggerRegisterPlayerChatEvent(wI,Player(1),"-heal",true)call TriggerRegisterPlayerChatEvent(wI,Player(2),"-heal",true)call TriggerRegisterPlayerChatEvent(wI,Player(3),"-heal",true)call TriggerRegisterPlayerChatEvent(wI,Player(4),"-heal",true)call TriggerRegisterPlayerChatEvent(wI,Player(5),"-heal",true)call TriggerRegisterPlayerChatEvent(wI,Player(6),"-heal",true)call TriggerRegisterPlayerChatEvent(wI,Player(7),"-heal",true)call TriggerRegisterPlayerChatEvent(wI,Player(0),"-heale",true)call TriggerRegisterPlayerChatEvent(wI,Player(1),"-heale",true)call TriggerRegisterPlayerChatEvent(wI,Player(2),"-heale",true)call TriggerRegisterPlayerChatEvent(wI,Player(3),"-heale",true)call TriggerRegisterPlayerChatEvent(wI,Player(4),"-heale",true)call TriggerRegisterPlayerChatEvent(wI,Player(5),"-heale",true)call TriggerRegisterPlayerChatEvent(wI,Player(6),"-heale",true)call TriggerRegisterPlayerChatEvent(wI,Player(7),"-heale",true)call TriggerRegisterPlayerChatEvent(wI,Player(0),"-healw",true)call TriggerRegisterPlayerChatEvent(wI,Player(1),"-healw",true)call TriggerRegisterPlayerChatEvent(wI,Player(2),"-healw",true)call TriggerRegisterPlayerChatEvent(wI,Player(3),"-healw",true)call TriggerRegisterPlayerChatEvent(wI,Player(4),"-healw",true)call TriggerRegisterPlayerChatEvent(wI,Player(5),"-healw",true)call TriggerRegisterPlayerChatEvent(wI,Player(6),"-healw",true)call TriggerRegisterPlayerChatEvent(wI,Player(7),"-healw",true)call TriggerAddAction(wI,function gW)set WI=CreateTrigger()call DisableTrigger(WI)call TriggerRegisterPlayerChatEvent(WI,Player(0),"-pause",true)call TriggerRegisterPlayerChatEvent(WI,Player(1),"-pause",true)call TriggerRegisterPlayerChatEvent(WI,Player(2),"-pause",true)call TriggerRegisterPlayerChatEvent(WI,Player(3),"-pause",true)call TriggerRegisterPlayerChatEvent(WI,Player(4),"-pause",true)call TriggerRegisterPlayerChatEvent(WI,Player(5),"-pause",true)call TriggerRegisterPlayerChatEvent(WI,Player(6),"-pause",true)call TriggerRegisterPlayerChatEvent(WI,Player(7),"-pause",true)call TriggerRegisterPlayerChatEvent(WI,Player(0),"-p",true)call TriggerRegisterPlayerChatEvent(WI,Player(1),"-p",true)call TriggerRegisterPlayerChatEvent(WI,Player(2),"-p",true)call TriggerRegisterPlayerChatEvent(WI,Player(3),"-p",true)call TriggerRegisterPlayerChatEvent(WI,Player(4),"-p",true)call TriggerRegisterPlayerChatEvent(WI,Player(5),"-p",true)call TriggerRegisterPlayerChatEvent(WI,Player(6),"-p",true)call TriggerRegisterPlayerChatEvent(WI,Player(7),"-p",true)call TriggerAddAction(WI,function hW)set yI=CreateTrigger()call DisableTrigger(yI)call TriggerRegisterPlayerChatEvent(yI,Player(0),"-resume",true)
call TriggerRegisterPlayerChatEvent(yI,Player(1),"-resume",true)
call TriggerRegisterPlayerChatEvent(yI,Player(2),"-resume",true)
call TriggerRegisterPlayerChatEvent(yI,Player(3),"-resume",true)
call TriggerRegisterPlayerChatEvent(yI,Player(4),"-resume",true)
call TriggerRegisterPlayerChatEvent(yI,Player(5),"-resume",true)
call TriggerRegisterPlayerChatEvent(yI,Player(6),"-resume",true)
call TriggerRegisterPlayerChatEvent(yI,Player(7),"-resume",true)
call TriggerRegisterPlayerChatEvent(yI,Player(0),"-r",true)call TriggerRegisterPlayerChatEvent(yI,Player(1),"-r",true)call TriggerRegisterPlayerChatEvent(yI,Player(2),"-r",true)call TriggerRegisterPlayerChatEvent(yI,Player(3),"-r",true)call TriggerRegisterPlayerChatEvent(yI,Player(4),"-r",true)call TriggerRegisterPlayerChatEvent(yI,Player(5),"-r",true)call TriggerRegisterPlayerChatEvent(yI,Player(6),"-r",true)call TriggerRegisterPlayerChatEvent(yI,Player(7),"-r",true)call TriggerAddAction(yI,function jW)set YI=CreateTrigger()call DisableTrigger(YI)call TriggerRegisterPlayerChatEvent(YI,Player(0),"-ike",true)call TriggerRegisterPlayerChatEvent(YI,Player(1),"-ike",true)call TriggerRegisterPlayerChatEvent(YI,Player(2),"-ike",true)call TriggerRegisterPlayerChatEvent(YI,Player(3),"-ike",true)call TriggerRegisterPlayerChatEvent(YI,Player(4),"-ike",true)call TriggerRegisterPlayerChatEvent(YI,Player(5),"-ike",true)call TriggerRegisterPlayerChatEvent(YI,Player(6),"-ike",true)call TriggerRegisterPlayerChatEvent(YI,Player(7),"-ike",true)call TriggerRegisterPlayerChatEvent(YI,Player(0),"-ikw",true)call TriggerRegisterPlayerChatEvent(YI,Player(1),"-ikw",true)call TriggerRegisterPlayerChatEvent(YI,Player(2),"-ikw",true)call TriggerRegisterPlayerChatEvent(YI,Player(3),"-ikw",true)call TriggerRegisterPlayerChatEvent(YI,Player(4),"-ikw",true)call TriggerRegisterPlayerChatEvent(YI,Player(5),"-ikw",true)call TriggerRegisterPlayerChatEvent(YI,Player(6),"-ikw",true)call TriggerRegisterPlayerChatEvent(YI,Player(7),"-ikw",true)call TriggerAddAction(YI,function mW)call ConditionalTriggerExecute(RV)call ConditionalTriggerExecute(MR)endfunctionfunction config takes nothing returns nothingcall SetMapName("TRIGSTR_1277")call SetMapDescription("TRIGSTR_1279")call SetPlayers($A)call SetTeams($A)call SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)call DefineStartLocation(0,-5696.,4352.)
call DefineStartLocation(1,-5696.,1280.)
call DefineStartLocation(2,-1344.,4352.)
call DefineStartLocation(3,-1344.,1280.)
call DefineStartLocation(4,1344.,4352.)call DefineStartLocation(5,1344.,1280.)call DefineStartLocation(6,5696.,4352.)call DefineStartLocation(7,5696.,1280.)call DefineStartLocation(8,-3520.,-3264.)call DefineStartLocation(9,3520.,-3264.)
call SetPlayerStartLocation(Player(0),0)
call ForcePlayerStartLocation(Player(0),0)call SetPlayerColor(Player(0),ConvertPlayerColor(0))
call SetPlayerRacePreference(Player(0),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(0),false)call SetPlayerController(Player(0),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(1),1)
call ForcePlayerStartLocation(Player(1),1)call SetPlayerColor(Player(1),ConvertPlayerColor(1))
call SetPlayerRacePreference(Player(1),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(1),false)call SetPlayerController(Player(1),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(2),2)
call ForcePlayerStartLocation(Player(2),2)call SetPlayerColor(Player(2),ConvertPlayerColor(2))
call SetPlayerRacePreference(Player(2),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(2),false)call SetPlayerController(Player(2),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(3),3)
call ForcePlayerStartLocation(Player(3),3)call SetPlayerColor(Player(3),ConvertPlayerColor(3))
call SetPlayerRacePreference(Player(3),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(3),false)call SetPlayerController(Player(3),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(4),4)
call ForcePlayerStartLocation(Player(4),4)call SetPlayerColor(Player(4),ConvertPlayerColor(4))
call SetPlayerRacePreference(Player(4),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(4),false)call SetPlayerController(Player(4),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(5),5)
call ForcePlayerStartLocation(Player(5),5)call SetPlayerColor(Player(5),ConvertPlayerColor(5))
call SetPlayerRacePreference(Player(5),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(5),false)call SetPlayerController(Player(5),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(6),6)
call ForcePlayerStartLocation(Player(6),6)call SetPlayerColor(Player(6),ConvertPlayerColor(6))
call SetPlayerRacePreference(Player(6),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(6),false)call SetPlayerController(Player(6),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(7),7)
call ForcePlayerStartLocation(Player(7),7)call SetPlayerColor(Player(7),ConvertPlayerColor(7))
call SetPlayerRacePreference(Player(7),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(7),false)call SetPlayerController(Player(7),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(8),8)
call ForcePlayerStartLocation(Player(8),8)call SetPlayerColor(Player(8),ConvertPlayerColor(8))
call SetPlayerRacePreference(Player(8),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(8),false)call SetPlayerController(Player(8),MAP_CONTROL_COMPUTER)
call SetPlayerStartLocation(Player(9),9)
call ForcePlayerStartLocation(Player(9),9)call SetPlayerColor(Player(9),ConvertPlayerColor(9))
call SetPlayerRacePreference(Player(9),RACE_PREF_HUMAN)call SetPlayerRaceSelectable(Player(9),false)call SetPlayerController(Player(9),MAP_CONTROL_COMPUTER)
call InitCustomTeams()call SetStartLocPrioCount(0,2)call SetStartLocPrio(0,0,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,1,2,MAP_LOC_PRIO_LOW)
call SetStartLocPrioCount(1,2)call SetStartLocPrio(1,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,1,3,MAP_LOC_PRIO_LOW)
call SetStartLocPrioCount(2,2)call SetStartLocPrio(2,0,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,1,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(3,2)call SetStartLocPrio(3,0,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,1,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(4,2)call SetStartLocPrio(4,0,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,1,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(5,2)call SetStartLocPrio(5,0,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,1,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(6,2)call SetStartLocPrio(6,0,4,MAP_LOC_PRIO_LOW)
call SetStartLocPrio(6,1,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(7,2)call SetStartLocPrio(7,0,5,MAP_LOC_PRIO_LOW)
call SetStartLocPrio(7,1,6,MAP_LOC_PRIO_HIGH)endfunction